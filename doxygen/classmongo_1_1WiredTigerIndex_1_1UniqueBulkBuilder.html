<!-- HTML header for doxygen 1.8.13-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Storage Engine API: mongo::WiredTigerIndex::UniqueBulkBuilder Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link rel="shortcut icon" href="favicon.ico" type="image/x-icon" />
<link href="mongodb.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr>
  <td id="projectlogo"><img alt="Logo" src="mongodb-logo.jpg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Storage Engine API
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classmongo_1_1WiredTigerIndex_1_1UniqueBulkBuilder.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classmongo_1_1WiredTigerIndex_1_1UniqueBulkBuilder-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">mongo::WiredTigerIndex::UniqueBulkBuilder Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Bulk builds a unique index.  
 <a href="classmongo_1_1WiredTigerIndex_1_1UniqueBulkBuilder.html#details">More...</a></p>
<div class="dynheader">
Inheritance diagram for mongo::WiredTigerIndex::UniqueBulkBuilder:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classmongo_1_1WiredTigerIndex_1_1UniqueBulkBuilder.png" usemap="#mongo::WiredTigerIndex::UniqueBulkBuilder_map" alt=""/>
  <map id="mongo::WiredTigerIndex::UniqueBulkBuilder_map" name="mongo::WiredTigerIndex::UniqueBulkBuilder_map">
<area href="classmongo_1_1WiredTigerIndex_1_1BulkBuilder.html" title="Base class for WiredTigerIndex bulk builders. " alt="mongo::WiredTigerIndex::BulkBuilder" shape="rect" coords="0,56,255,80"/>
<area href="classmongo_1_1SortedDataBuilderInterface.html" title="A version-hiding wrapper around the bulk builder for the Btree. " alt="mongo::SortedDataBuilderInterface" shape="rect" coords="0,0,255,24"/>
</map>
 </div></div>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Bulk builds a unique index. </p>
<p>In order to support unique indexes in dupsAllowed mode this class only does an actual insert after it sees a key after the one we are trying to insert. This allows us to gather up all duplicate ids and insert them all together. This is necessary since bulk cursors can only append data. </p>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a9b0db140d26c0ee8fd23efc6f6ae4b19"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1WiredTigerIndex_1_1UniqueBulkBuilder.html#a9b0db140d26c0ee8fd23efc6f6ae4b19">UniqueBulkBuilder</a> (<a class="el" href="classmongo_1_1WiredTigerIndex.html">WiredTigerIndex</a> *<a class="el" href="coll__mod_8cpp.html#a46041425cda0e93e95143465b7dfdc05">idx</a>, OperationContext *<a class="el" href="namespacemongo.html#a15b23ef1d9a7f6cdadbf866f1e8e5043">opCtx</a>, bool dupsAllowed, <a class="el" href="classmongo_1_1KVPrefix.html">KVPrefix</a> prefix)</td></tr>
<tr class="separator:a9b0db140d26c0ee8fd23efc6f6ae4b19"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b6edb655e07d156a52550a8c2597db6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacemongo.html#ac22dc5094e8aebfd46494f3960afbcc3">Status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1WiredTigerIndex_1_1UniqueBulkBuilder.html#a2b6edb655e07d156a52550a8c2597db6">addKey</a> (const BSONObj &amp;newKey, const RecordId &amp;id) override</td></tr>
<tr class="memdesc:a2b6edb655e07d156a52550a8c2597db6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds 'key' to intermediate storage.  <a href="#a2b6edb655e07d156a52550a8c2597db6">More...</a><br /></td></tr>
<tr class="separator:a2b6edb655e07d156a52550a8c2597db6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab3742f909f72d4616230a661ac9fe242"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacemongo.html#aa639063deea016a1dac8f046e93900a6">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1WiredTigerIndex_1_1UniqueBulkBuilder.html#ab3742f909f72d4616230a661ac9fe242">commit</a> (bool mayInterrupt) override</td></tr>
<tr class="memdesc:ab3742f909f72d4616230a661ac9fe242"><td class="mdescLeft">&#160;</td><td class="mdescRight">Do any necessary work to finish building the tree.  <a href="#ab3742f909f72d4616230a661ac9fe242">More...</a><br /></td></tr>
<tr class="separator:ab3742f909f72d4616230a661ac9fe242"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classmongo_1_1WiredTigerIndex_1_1BulkBuilder"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classmongo_1_1WiredTigerIndex_1_1BulkBuilder')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classmongo_1_1WiredTigerIndex_1_1BulkBuilder.html">mongo::WiredTigerIndex::BulkBuilder</a></td></tr>
<tr class="memitem:adc50da422e592ffb70e99e54788c9fc5 inherit pub_methods_classmongo_1_1WiredTigerIndex_1_1BulkBuilder"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1WiredTigerIndex_1_1BulkBuilder.html#adc50da422e592ffb70e99e54788c9fc5">BulkBuilder</a> (<a class="el" href="classmongo_1_1WiredTigerIndex.html">WiredTigerIndex</a> *<a class="el" href="coll__mod_8cpp.html#a46041425cda0e93e95143465b7dfdc05">idx</a>, OperationContext *<a class="el" href="namespacemongo.html#a15b23ef1d9a7f6cdadbf866f1e8e5043">opCtx</a>, <a class="el" href="classmongo_1_1KVPrefix.html">KVPrefix</a> prefix)</td></tr>
<tr class="separator:adc50da422e592ffb70e99e54788c9fc5 inherit pub_methods_classmongo_1_1WiredTigerIndex_1_1BulkBuilder"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4aeb52aba9ebaf60bf5ff82267c6ff13 inherit pub_methods_classmongo_1_1WiredTigerIndex_1_1BulkBuilder"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1WiredTigerIndex_1_1BulkBuilder.html#a4aeb52aba9ebaf60bf5ff82267c6ff13">~BulkBuilder</a> ()</td></tr>
<tr class="separator:a4aeb52aba9ebaf60bf5ff82267c6ff13 inherit pub_methods_classmongo_1_1WiredTigerIndex_1_1BulkBuilder"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classmongo_1_1SortedDataBuilderInterface"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classmongo_1_1SortedDataBuilderInterface')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classmongo_1_1SortedDataBuilderInterface.html">mongo::SortedDataBuilderInterface</a></td></tr>
<tr class="memitem:a75ed65a780448fd2e09390f7bdb032d5 inherit pub_methods_classmongo_1_1SortedDataBuilderInterface"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1SortedDataBuilderInterface.html#a75ed65a780448fd2e09390f7bdb032d5">~SortedDataBuilderInterface</a> ()</td></tr>
<tr class="separator:a75ed65a780448fd2e09390f7bdb032d5 inherit pub_methods_classmongo_1_1SortedDataBuilderInterface"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a484d5336de2216cd7c66144ce3d18ef3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacemongo.html#ac22dc5094e8aebfd46494f3960afbcc3">Status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1WiredTigerIndex_1_1UniqueBulkBuilder.html#a484d5336de2216cd7c66144ce3d18ef3">addKeyTimestampSafe</a> (const BSONObj &amp;newKey, const RecordId &amp;id)</td></tr>
<tr class="separator:a484d5336de2216cd7c66144ce3d18ef3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea66e732715263aeaa0903f0749278fc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacemongo.html#ac22dc5094e8aebfd46494f3960afbcc3">Status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1WiredTigerIndex_1_1UniqueBulkBuilder.html#aea66e732715263aeaa0903f0749278fc">addKeyTimestampUnsafe</a> (const BSONObj &amp;newKey, const RecordId &amp;id)</td></tr>
<tr class="separator:aea66e732715263aeaa0903f0749278fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a564f8caca6730c4ae3b7f193c60cb1ff"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacemongo.html#aa639063deea016a1dac8f046e93900a6">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1WiredTigerIndex_1_1UniqueBulkBuilder.html#a564f8caca6730c4ae3b7f193c60cb1ff">doInsert</a> ()</td></tr>
<tr class="separator:a564f8caca6730c4ae3b7f193c60cb1ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a448bcf9158d2c4baf139e2d9f1bcce98"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classmongo_1_1WiredTigerIndex.html">WiredTigerIndex</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1WiredTigerIndex_1_1UniqueBulkBuilder.html#a448bcf9158d2c4baf139e2d9f1bcce98">_idx</a></td></tr>
<tr class="separator:a448bcf9158d2c4baf139e2d9f1bcce98"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a85695bebcf82d723493f45ade6ff828b"><td class="memItemLeft" align="right" valign="top">const bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1WiredTigerIndex_1_1UniqueBulkBuilder.html#a85695bebcf82d723493f45ade6ff828b">_dupsAllowed</a></td></tr>
<tr class="separator:a85695bebcf82d723493f45ade6ff828b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a7e379290b239458be2191ac144288c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classmongo_1_1KeyString.html">KeyString</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1WiredTigerIndex_1_1UniqueBulkBuilder.html#a6a7e379290b239458be2191ac144288c">_keyString</a></td></tr>
<tr class="separator:a6a7e379290b239458be2191ac144288c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc77d46bdf90c568454a59e784d658e7"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::pair&lt; RecordId, <a class="el" href="classmongo_1_1KeyString_1_1TypeBits.html">KeyString::TypeBits</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1WiredTigerIndex_1_1UniqueBulkBuilder.html#abc77d46bdf90c568454a59e784d658e7">_records</a></td></tr>
<tr class="separator:abc77d46bdf90c568454a59e784d658e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab069a9edc52d6502d1b1de0572afe05e"><td class="memItemLeft" align="right" valign="top">BSONObj&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1WiredTigerIndex_1_1UniqueBulkBuilder.html#ab069a9edc52d6502d1b1de0572afe05e">_previousKey</a></td></tr>
<tr class="separator:ab069a9edc52d6502d1b1de0572afe05e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pro_methods_classmongo_1_1WiredTigerIndex_1_1BulkBuilder"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_classmongo_1_1WiredTigerIndex_1_1BulkBuilder')"><img src="closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="classmongo_1_1WiredTigerIndex_1_1BulkBuilder.html">mongo::WiredTigerIndex::BulkBuilder</a></td></tr>
<tr class="memitem:a4d147f580a2ae2864bb60ad99fd23c98 inherit pro_methods_classmongo_1_1WiredTigerIndex_1_1BulkBuilder"><td class="memItemLeft" align="right" valign="top">WT_CURSOR *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1WiredTigerIndex_1_1BulkBuilder.html#a4d147f580a2ae2864bb60ad99fd23c98">openBulkCursor</a> (<a class="el" href="classmongo_1_1WiredTigerIndex.html">WiredTigerIndex</a> *<a class="el" href="coll__mod_8cpp.html#a46041425cda0e93e95143465b7dfdc05">idx</a>)</td></tr>
<tr class="separator:a4d147f580a2ae2864bb60ad99fd23c98 inherit pro_methods_classmongo_1_1WiredTigerIndex_1_1BulkBuilder"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46f1c51e42aa1d47f23ec97efd77164e inherit pro_methods_classmongo_1_1WiredTigerIndex_1_1BulkBuilder"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacemongo.html#aa639063deea016a1dac8f046e93900a6">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1WiredTigerIndex_1_1BulkBuilder.html#a46f1c51e42aa1d47f23ec97efd77164e">setKey</a> (WT_CURSOR *cursor, const WT_ITEM *item)</td></tr>
<tr class="separator:a46f1c51e42aa1d47f23ec97efd77164e inherit pro_methods_classmongo_1_1WiredTigerIndex_1_1BulkBuilder"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_attribs_classmongo_1_1WiredTigerIndex_1_1BulkBuilder"><td colspan="2" onclick="javascript:toggleInherit('pro_attribs_classmongo_1_1WiredTigerIndex_1_1BulkBuilder')"><img src="closed.png" alt="-"/>&#160;Protected Attributes inherited from <a class="el" href="classmongo_1_1WiredTigerIndex_1_1BulkBuilder.html">mongo::WiredTigerIndex::BulkBuilder</a></td></tr>
<tr class="memitem:ac834edddedc9b7b37fed5cc6c265b059 inherit pro_attribs_classmongo_1_1WiredTigerIndex_1_1BulkBuilder"><td class="memItemLeft" align="right" valign="top">const Ordering&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1WiredTigerIndex_1_1BulkBuilder.html#ac834edddedc9b7b37fed5cc6c265b059">_ordering</a></td></tr>
<tr class="separator:ac834edddedc9b7b37fed5cc6c265b059 inherit pro_attribs_classmongo_1_1WiredTigerIndex_1_1BulkBuilder"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa84f53ceb5f9d552707222970bb2b494 inherit pro_attribs_classmongo_1_1WiredTigerIndex_1_1BulkBuilder"><td class="memItemLeft" align="right" valign="top">OperationContext *const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1WiredTigerIndex_1_1BulkBuilder.html#aa84f53ceb5f9d552707222970bb2b494">_opCtx</a></td></tr>
<tr class="separator:aa84f53ceb5f9d552707222970bb2b494 inherit pro_attribs_classmongo_1_1WiredTigerIndex_1_1BulkBuilder"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a28163bef43eb05dc61bb48134313d6de inherit pro_attribs_classmongo_1_1WiredTigerIndex_1_1BulkBuilder"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacemongo.html#afbd1ad6b7bcb65a3157e9feab7c3c99a">UniqueWiredTigerSession</a> const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1WiredTigerIndex_1_1BulkBuilder.html#a28163bef43eb05dc61bb48134313d6de">_session</a></td></tr>
<tr class="separator:a28163bef43eb05dc61bb48134313d6de inherit pro_attribs_classmongo_1_1WiredTigerIndex_1_1BulkBuilder"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae10b0e2484614d1750094c912e79a18f inherit pro_attribs_classmongo_1_1WiredTigerIndex_1_1BulkBuilder"><td class="memItemLeft" align="right" valign="top">WT_CURSOR *const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1WiredTigerIndex_1_1BulkBuilder.html#ae10b0e2484614d1750094c912e79a18f">_cursor</a></td></tr>
<tr class="separator:ae10b0e2484614d1750094c912e79a18f inherit pro_attribs_classmongo_1_1WiredTigerIndex_1_1BulkBuilder"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade33c9a6fa4d59847426e9ba2bbb383b inherit pro_attribs_classmongo_1_1WiredTigerIndex_1_1BulkBuilder"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classmongo_1_1KVPrefix.html">KVPrefix</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1WiredTigerIndex_1_1BulkBuilder.html#ade33c9a6fa4d59847426e9ba2bbb383b">_prefix</a></td></tr>
<tr class="separator:ade33c9a6fa4d59847426e9ba2bbb383b inherit pro_attribs_classmongo_1_1WiredTigerIndex_1_1BulkBuilder"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a9b0db140d26c0ee8fd23efc6f6ae4b19"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9b0db140d26c0ee8fd23efc6f6ae4b19">&#9670;&nbsp;</a></span>UniqueBulkBuilder()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mongo::WiredTigerIndex::UniqueBulkBuilder::UniqueBulkBuilder </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classmongo_1_1WiredTigerIndex.html">WiredTigerIndex</a> *&#160;</td>
          <td class="paramname"><em>idx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">OperationContext *&#160;</td>
          <td class="paramname"><em>opCtx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>dupsAllowed</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classmongo_1_1KVPrefix.html">KVPrefix</a>&#160;</td>
          <td class="paramname"><em>prefix</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a2b6edb655e07d156a52550a8c2597db6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2b6edb655e07d156a52550a8c2597db6">&#9670;&nbsp;</a></span>addKey()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacemongo.html#ac22dc5094e8aebfd46494f3960afbcc3">Status</a> mongo::WiredTigerIndex::UniqueBulkBuilder::addKey </td>
          <td>(</td>
          <td class="paramtype">const BSONObj &amp;&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const RecordId &amp;&#160;</td>
          <td class="paramname"><em>loc</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Adds 'key' to intermediate storage. </p>
<p>'key' must be &gt; or &gt;= the last key passed to this function (depends on _dupsAllowed). If this is violated an error Status (ErrorCodes::InternalError) will be returned. </p>

<p>Implements <a class="el" href="classmongo_1_1SortedDataBuilderInterface.html#ab21152321aba0cf2211931c227c227cc">mongo::SortedDataBuilderInterface</a>.</p>

</div>
</div>
<a id="a484d5336de2216cd7c66144ce3d18ef3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a484d5336de2216cd7c66144ce3d18ef3">&#9670;&nbsp;</a></span>addKeyTimestampSafe()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacemongo.html#ac22dc5094e8aebfd46494f3960afbcc3">Status</a> mongo::WiredTigerIndex::UniqueBulkBuilder::addKeyTimestampSafe </td>
          <td>(</td>
          <td class="paramtype">const BSONObj &amp;&#160;</td>
          <td class="paramname"><em>newKey</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const RecordId &amp;&#160;</td>
          <td class="paramname"><em>id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="aea66e732715263aeaa0903f0749278fc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aea66e732715263aeaa0903f0749278fc">&#9670;&nbsp;</a></span>addKeyTimestampUnsafe()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacemongo.html#ac22dc5094e8aebfd46494f3960afbcc3">Status</a> mongo::WiredTigerIndex::UniqueBulkBuilder::addKeyTimestampUnsafe </td>
          <td>(</td>
          <td class="paramtype">const BSONObj &amp;&#160;</td>
          <td class="paramname"><em>newKey</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const RecordId &amp;&#160;</td>
          <td class="paramname"><em>id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ab3742f909f72d4616230a661ac9fe242"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab3742f909f72d4616230a661ac9fe242">&#9670;&nbsp;</a></span>commit()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacemongo.html#aa639063deea016a1dac8f046e93900a6">void</a> mongo::WiredTigerIndex::UniqueBulkBuilder::commit </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>mayInterrupt</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Do any necessary work to finish building the tree. </p>
<p>The default implementation may be used if no commit phase is necessary because addKey always leaves the tree in a valid state.</p>
<p>This is called outside of any <a class="el" href="classmongo_1_1WriteUnitOfWork.html" title="The WriteUnitOfWork is an RAII type that begins a storage engine write unit of work on both the Locke...">WriteUnitOfWork</a> to allow implementations to split this up into multiple units. </p>

<p>Reimplemented from <a class="el" href="classmongo_1_1SortedDataBuilderInterface.html#a5e96cd724e82d424b7ab088c1bea7ef2">mongo::SortedDataBuilderInterface</a>.</p>

</div>
</div>
<a id="a564f8caca6730c4ae3b7f193c60cb1ff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a564f8caca6730c4ae3b7f193c60cb1ff">&#9670;&nbsp;</a></span>doInsert()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacemongo.html#aa639063deea016a1dac8f046e93900a6">void</a> mongo::WiredTigerIndex::UniqueBulkBuilder::doInsert </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a85695bebcf82d723493f45ade6ff828b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a85695bebcf82d723493f45ade6ff828b">&#9670;&nbsp;</a></span>_dupsAllowed</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const bool mongo::WiredTigerIndex::UniqueBulkBuilder::_dupsAllowed</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a448bcf9158d2c4baf139e2d9f1bcce98"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a448bcf9158d2c4baf139e2d9f1bcce98">&#9670;&nbsp;</a></span>_idx</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classmongo_1_1WiredTigerIndex.html">WiredTigerIndex</a>* mongo::WiredTigerIndex::UniqueBulkBuilder::_idx</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a6a7e379290b239458be2191ac144288c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6a7e379290b239458be2191ac144288c">&#9670;&nbsp;</a></span>_keyString</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classmongo_1_1KeyString.html">KeyString</a> mongo::WiredTigerIndex::UniqueBulkBuilder::_keyString</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ab069a9edc52d6502d1b1de0572afe05e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab069a9edc52d6502d1b1de0572afe05e">&#9670;&nbsp;</a></span>_previousKey</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">BSONObj mongo::WiredTigerIndex::UniqueBulkBuilder::_previousKey</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="abc77d46bdf90c568454a59e784d658e7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abc77d46bdf90c568454a59e784d658e7">&#9670;&nbsp;</a></span>_records</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;std::pair&lt;RecordId, <a class="el" href="classmongo_1_1KeyString_1_1TypeBits.html">KeyString::TypeBits</a>&gt; &gt; mongo::WiredTigerIndex::UniqueBulkBuilder::_records</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>/home/louis/git/mongodbsource.github.io/src/src/mongo/db/storage/wiredtiger/<a class="el" href="wiredtiger__index_8cpp.html">wiredtiger_index.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.13-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacemongo.html">mongo</a></li><li class="navelem"><a class="el" href="classmongo_1_1WiredTigerIndex.html">WiredTigerIndex</a></li><li class="navelem"><a class="el" href="classmongo_1_1WiredTigerIndex_1_1UniqueBulkBuilder.html">UniqueBulkBuilder</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
