<!-- HTML header for doxygen 1.8.13-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Storage Engine API: mongo::LockerForTests Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link rel="shortcut icon" href="favicon.ico" type="image/x-icon" />
<link href="mongodb.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr>
  <td id="projectlogo"><img alt="Logo" src="mongodb-logo.jpg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Storage Engine API
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classmongo_1_1LockerForTests.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classmongo_1_1LockerForTests-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">mongo::LockerForTests Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="lock__manager__test__help_8h_source.html">lock_manager_test_help.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for mongo::LockerForTests:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classmongo_1_1LockerForTests.png" usemap="#mongo::LockerForTests_map" alt=""/>
  <map id="mongo::LockerForTests_map" name="mongo::LockerForTests_map">
<area href="classmongo_1_1LockerImpl.html" alt="mongo::LockerImpl&lt; false &gt;" shape="rect" coords="0,56,167,80"/>
<area href="classmongo_1_1Locker.html" title="Interface for acquiring locks. " alt="mongo::Locker" shape="rect" coords="0,0,167,24"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:af920414d6d37195befb6de0088ff1078"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1LockerForTests.html#af920414d6d37195befb6de0088ff1078">LockerForTests</a> (<a class="el" href="namespacemongo.html#a9a3ebc0a91ee78ba95fc1ef18a948a2b">LockMode</a> globalLockMode)</td></tr>
<tr class="separator:af920414d6d37195befb6de0088ff1078"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a389481aa4383db0bd556d9579f28a5cd"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1LockerForTests.html#a389481aa4383db0bd556d9579f28a5cd">~LockerForTests</a> ()</td></tr>
<tr class="separator:a389481aa4383db0bd556d9579f28a5cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classmongo_1_1LockerImpl"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classmongo_1_1LockerImpl')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classmongo_1_1LockerImpl.html">mongo::LockerImpl&lt; false &gt;</a></td></tr>
<tr class="memitem:a190718f908a08d7bda753029d51e0391 inherit pub_methods_classmongo_1_1LockerImpl"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1LockerImpl.html#a190718f908a08d7bda753029d51e0391">LockerImpl</a> ()</td></tr>
<tr class="memdesc:a190718f908a08d7bda753029d51e0391 inherit pub_methods_classmongo_1_1LockerImpl"><td class="mdescLeft">&#160;</td><td class="mdescRight">Instantiates new locker.  <a href="classmongo_1_1LockerImpl.html#a190718f908a08d7bda753029d51e0391">More...</a><br /></td></tr>
<tr class="separator:a190718f908a08d7bda753029d51e0391 inherit pub_methods_classmongo_1_1LockerImpl"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac84e6d0d075d68373d97b5e1d2e932ef inherit pub_methods_classmongo_1_1LockerImpl"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1LockerImpl.html#ac84e6d0d075d68373d97b5e1d2e932ef">~LockerImpl</a> ()</td></tr>
<tr class="separator:ac84e6d0d075d68373d97b5e1d2e932ef inherit pub_methods_classmongo_1_1LockerImpl"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a898868ff0b189458e9ccf6e7912b1c7c inherit pub_methods_classmongo_1_1LockerImpl"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classmongo_1_1Locker.html#ac2bef72f3b29c8a23df4e3e8eba7396b">ClientState</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1LockerImpl.html#a898868ff0b189458e9ccf6e7912b1c7c">getClientState</a> () const</td></tr>
<tr class="memdesc:a898868ff0b189458e9ccf6e7912b1c7c inherit pub_methods_classmongo_1_1LockerImpl"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return whether client is holding any locks (active), or is queued on any locks or waiting for a ticket (throttled).  <a href="classmongo_1_1LockerImpl.html#a898868ff0b189458e9ccf6e7912b1c7c">More...</a><br /></td></tr>
<tr class="separator:a898868ff0b189458e9ccf6e7912b1c7c inherit pub_methods_classmongo_1_1LockerImpl"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a25e6346558e7722752a6685cf0b5165a inherit pub_methods_classmongo_1_1LockerImpl"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="namespacemongo.html#ad7b6e5bd2d44b9b4fe9031b23492c38a">LockerId</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1LockerImpl.html#a25e6346558e7722752a6685cf0b5165a">getId</a> () const</td></tr>
<tr class="separator:a25e6346558e7722752a6685cf0b5165a inherit pub_methods_classmongo_1_1LockerImpl"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a59b50fbec6af980488c6964f292e60 inherit pub_methods_classmongo_1_1LockerImpl"><td class="memItemLeft" align="right" valign="top">stdx::thread::id&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1LockerImpl.html#a0a59b50fbec6af980488c6964f292e60">getThreadId</a> () const override</td></tr>
<tr class="memdesc:a0a59b50fbec6af980488c6964f292e60 inherit pub_methods_classmongo_1_1LockerImpl"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a platform-specific thread identifier of the thread which owns the this locker for tracing purposes.  <a href="classmongo_1_1LockerImpl.html#a0a59b50fbec6af980488c6964f292e60">More...</a><br /></td></tr>
<tr class="separator:a0a59b50fbec6af980488c6964f292e60 inherit pub_methods_classmongo_1_1LockerImpl"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad17c45d74aedec5a2a298808f24665cb inherit pub_methods_classmongo_1_1LockerImpl"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1LockerImpl.html#ad17c45d74aedec5a2a298808f24665cb">updateThreadIdToCurrentThread</a> () override</td></tr>
<tr class="memdesc:ad17c45d74aedec5a2a298808f24665cb inherit pub_methods_classmongo_1_1LockerImpl"><td class="mdescLeft">&#160;</td><td class="mdescRight">Updates any cached thread id values to represent the current thread.  <a href="classmongo_1_1LockerImpl.html#ad17c45d74aedec5a2a298808f24665cb">More...</a><br /></td></tr>
<tr class="separator:ad17c45d74aedec5a2a298808f24665cb inherit pub_methods_classmongo_1_1LockerImpl"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af832a6997efa8507927e1acdbc52266b inherit pub_methods_classmongo_1_1LockerImpl"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1LockerImpl.html#af832a6997efa8507927e1acdbc52266b">unsetThreadId</a> () override</td></tr>
<tr class="memdesc:af832a6997efa8507927e1acdbc52266b inherit pub_methods_classmongo_1_1LockerImpl"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clears any cached thread id values.  <a href="classmongo_1_1LockerImpl.html#af832a6997efa8507927e1acdbc52266b">More...</a><br /></td></tr>
<tr class="separator:af832a6997efa8507927e1acdbc52266b inherit pub_methods_classmongo_1_1LockerImpl"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d4e14201a4ac315b85498102fe55002 inherit pub_methods_classmongo_1_1LockerImpl"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1LockerImpl.html#a0d4e14201a4ac315b85498102fe55002">setSharedLocksShouldTwoPhaseLock</a> (bool sharedLocksShouldTwoPhaseLock) override</td></tr>
<tr class="memdesc:a0d4e14201a4ac315b85498102fe55002 inherit pub_methods_classmongo_1_1LockerImpl"><td class="mdescLeft">&#160;</td><td class="mdescRight">Indicate that shared locks should participate in two-phase locking for this Locker instance.  <a href="classmongo_1_1LockerImpl.html#a0d4e14201a4ac315b85498102fe55002">More...</a><br /></td></tr>
<tr class="separator:a0d4e14201a4ac315b85498102fe55002 inherit pub_methods_classmongo_1_1LockerImpl"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0cb45a28cabdbca62b76bfc7ca83677d inherit pub_methods_classmongo_1_1LockerImpl"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1LockerImpl.html#a0cb45a28cabdbca62b76bfc7ca83677d">setMaxLockTimeout</a> (Milliseconds maxTimeout) override</td></tr>
<tr class="memdesc:a0cb45a28cabdbca62b76bfc7ca83677d inherit pub_methods_classmongo_1_1LockerImpl"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is useful to ensure that potential deadlocks do not occur.  <a href="classmongo_1_1LockerImpl.html#a0cb45a28cabdbca62b76bfc7ca83677d">More...</a><br /></td></tr>
<tr class="separator:a0cb45a28cabdbca62b76bfc7ca83677d inherit pub_methods_classmongo_1_1LockerImpl"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59bbba14265db2373e5ca7e67f87b7cb inherit pub_methods_classmongo_1_1LockerImpl"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1LockerImpl.html#a59bbba14265db2373e5ca7e67f87b7cb">hasMaxLockTimeout</a> () override</td></tr>
<tr class="memdesc:a59bbba14265db2373e5ca7e67f87b7cb inherit pub_methods_classmongo_1_1LockerImpl"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns whether this Locker has a maximum lock timeout set.  <a href="classmongo_1_1LockerImpl.html#a59bbba14265db2373e5ca7e67f87b7cb">More...</a><br /></td></tr>
<tr class="separator:a59bbba14265db2373e5ca7e67f87b7cb inherit pub_methods_classmongo_1_1LockerImpl"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff3132177d05cf4cb7352ea28bacffd9 inherit pub_methods_classmongo_1_1LockerImpl"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1LockerImpl.html#aff3132177d05cf4cb7352ea28bacffd9">unsetMaxLockTimeout</a> () override</td></tr>
<tr class="memdesc:aff3132177d05cf4cb7352ea28bacffd9 inherit pub_methods_classmongo_1_1LockerImpl"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clears the max lock timeout override set by <a class="el" href="classmongo_1_1LockerImpl.html#a0cb45a28cabdbca62b76bfc7ca83677d">setMaxLockTimeout()</a> above.  <a href="classmongo_1_1LockerImpl.html#aff3132177d05cf4cb7352ea28bacffd9">More...</a><br /></td></tr>
<tr class="separator:aff3132177d05cf4cb7352ea28bacffd9 inherit pub_methods_classmongo_1_1LockerImpl"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6095035a20069df9f57b436e9e4382d inherit pub_methods_classmongo_1_1LockerImpl"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="namespacemongo.html#af54347edd3ad8dc00c6c27e0816e2dea">LockResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1LockerImpl.html#ae6095035a20069df9f57b436e9e4382d">lockGlobal</a> (OperationContext *<a class="el" href="recovery__unit__test__harness_8cpp.html#ab24d37dc37f081701d0857805b05e893">opCtx</a>, <a class="el" href="namespacemongo.html#a9a3ebc0a91ee78ba95fc1ef18a948a2b">LockMode</a> mode)</td></tr>
<tr class="memdesc:ae6095035a20069df9f57b436e9e4382d inherit pub_methods_classmongo_1_1LockerImpl"><td class="mdescLeft">&#160;</td><td class="mdescRight">This should be the first method invoked for a particular Locker object.  <a href="classmongo_1_1LockerImpl.html#ae6095035a20069df9f57b436e9e4382d">More...</a><br /></td></tr>
<tr class="separator:ae6095035a20069df9f57b436e9e4382d inherit pub_methods_classmongo_1_1LockerImpl"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e9095ec95229b788dd0450e92197a55 inherit pub_methods_classmongo_1_1LockerImpl"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="namespacemongo.html#af54347edd3ad8dc00c6c27e0816e2dea">LockResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1LockerImpl.html#a6e9095ec95229b788dd0450e92197a55">lockGlobal</a> (<a class="el" href="namespacemongo.html#a9a3ebc0a91ee78ba95fc1ef18a948a2b">LockMode</a> mode)</td></tr>
<tr class="separator:a6e9095ec95229b788dd0450e92197a55 inherit pub_methods_classmongo_1_1LockerImpl"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abec4edae17a1540d1b8a8d8287e467ae inherit pub_methods_classmongo_1_1LockerImpl"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="namespacemongo.html#af54347edd3ad8dc00c6c27e0816e2dea">LockResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1LockerImpl.html#abec4edae17a1540d1b8a8d8287e467ae">lockGlobalBegin</a> (OperationContext *<a class="el" href="recovery__unit__test__harness_8cpp.html#ab24d37dc37f081701d0857805b05e893">opCtx</a>, <a class="el" href="namespacemongo.html#a9a3ebc0a91ee78ba95fc1ef18a948a2b">LockMode</a> mode, Date_t deadline)</td></tr>
<tr class="memdesc:abec4edae17a1540d1b8a8d8287e467ae inherit pub_methods_classmongo_1_1LockerImpl"><td class="mdescLeft">&#160;</td><td class="mdescRight">Requests the global lock to be acquired in the specified mode.  <a href="classmongo_1_1LockerImpl.html#abec4edae17a1540d1b8a8d8287e467ae">More...</a><br /></td></tr>
<tr class="separator:abec4edae17a1540d1b8a8d8287e467ae inherit pub_methods_classmongo_1_1LockerImpl"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a09438e62404c4eec04c5aa4419b9608d inherit pub_methods_classmongo_1_1LockerImpl"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="namespacemongo.html#af54347edd3ad8dc00c6c27e0816e2dea">LockResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1LockerImpl.html#a09438e62404c4eec04c5aa4419b9608d">lockGlobalBegin</a> (<a class="el" href="namespacemongo.html#a9a3ebc0a91ee78ba95fc1ef18a948a2b">LockMode</a> mode, Date_t deadline)</td></tr>
<tr class="separator:a09438e62404c4eec04c5aa4419b9608d inherit pub_methods_classmongo_1_1LockerImpl"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a223336d1f191dea8118b5909a9d0d626 inherit pub_methods_classmongo_1_1LockerImpl"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="namespacemongo.html#af54347edd3ad8dc00c6c27e0816e2dea">LockResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1LockerImpl.html#a223336d1f191dea8118b5909a9d0d626">lockGlobalComplete</a> (OperationContext *<a class="el" href="recovery__unit__test__harness_8cpp.html#ab24d37dc37f081701d0857805b05e893">opCtx</a>, Date_t deadline)</td></tr>
<tr class="memdesc:a223336d1f191dea8118b5909a9d0d626 inherit pub_methods_classmongo_1_1LockerImpl"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calling lockGlobalComplete without an OperationContext does not allow the lock acquisition to be interrupted.  <a href="classmongo_1_1LockerImpl.html#a223336d1f191dea8118b5909a9d0d626">More...</a><br /></td></tr>
<tr class="separator:a223336d1f191dea8118b5909a9d0d626 inherit pub_methods_classmongo_1_1LockerImpl"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a425b455e0f8f4b8b32ecb0e88f58eff0 inherit pub_methods_classmongo_1_1LockerImpl"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="namespacemongo.html#af54347edd3ad8dc00c6c27e0816e2dea">LockResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1LockerImpl.html#a425b455e0f8f4b8b32ecb0e88f58eff0">lockGlobalComplete</a> (Date_t deadline)</td></tr>
<tr class="separator:a425b455e0f8f4b8b32ecb0e88f58eff0 inherit pub_methods_classmongo_1_1LockerImpl"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a05d6542e55d24e316cd59c4d0aabe612 inherit pub_methods_classmongo_1_1LockerImpl"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1LockerImpl.html#a05d6542e55d24e316cd59c4d0aabe612">lockMMAPV1Flush</a> ()</td></tr>
<tr class="memdesc:a05d6542e55d24e316cd59c4d0aabe612 inherit pub_methods_classmongo_1_1LockerImpl"><td class="mdescLeft">&#160;</td><td class="mdescRight">This method is used only in the MMAP V1 storage engine, otherwise it is a no-op.  <a href="classmongo_1_1LockerImpl.html#a05d6542e55d24e316cd59c4d0aabe612">More...</a><br /></td></tr>
<tr class="separator:a05d6542e55d24e316cd59c4d0aabe612 inherit pub_methods_classmongo_1_1LockerImpl"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a693562a0483f6793cf6ebd36122595f2 inherit pub_methods_classmongo_1_1LockerImpl"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1LockerImpl.html#a693562a0483f6793cf6ebd36122595f2">downgradeGlobalXtoSForMMAPV1</a> ()</td></tr>
<tr class="memdesc:a693562a0483f6793cf6ebd36122595f2 inherit pub_methods_classmongo_1_1LockerImpl"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is only necessary for the MMAP V1 engine and in particular, the fsyncLock command which needs to first acquire the global lock in X-mode for truncating the journal and then downgrade to S before it blocks.  <a href="classmongo_1_1LockerImpl.html#a693562a0483f6793cf6ebd36122595f2">More...</a><br /></td></tr>
<tr class="separator:a693562a0483f6793cf6ebd36122595f2 inherit pub_methods_classmongo_1_1LockerImpl"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a25471a9785fd95682cf06bc83c744b6e inherit pub_methods_classmongo_1_1LockerImpl"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1LockerImpl.html#a25471a9785fd95682cf06bc83c744b6e">unlockGlobal</a> ()</td></tr>
<tr class="memdesc:a25471a9785fd95682cf06bc83c744b6e inherit pub_methods_classmongo_1_1LockerImpl"><td class="mdescLeft">&#160;</td><td class="mdescRight">Decrements the reference count on the global lock.  <a href="classmongo_1_1LockerImpl.html#a25471a9785fd95682cf06bc83c744b6e">More...</a><br /></td></tr>
<tr class="separator:a25471a9785fd95682cf06bc83c744b6e inherit pub_methods_classmongo_1_1LockerImpl"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc909e1c84dcf282cac6a782a20563e5 inherit pub_methods_classmongo_1_1LockerImpl"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1LockerImpl.html#acc909e1c84dcf282cac6a782a20563e5">beginWriteUnitOfWork</a> ()</td></tr>
<tr class="memdesc:acc909e1c84dcf282cac6a782a20563e5 inherit pub_methods_classmongo_1_1LockerImpl"><td class="mdescLeft">&#160;</td><td class="mdescRight">beginWriteUnitOfWork/endWriteUnitOfWork are called at the start and end of WriteUnitOfWorks.  <a href="classmongo_1_1LockerImpl.html#acc909e1c84dcf282cac6a782a20563e5">More...</a><br /></td></tr>
<tr class="separator:acc909e1c84dcf282cac6a782a20563e5 inherit pub_methods_classmongo_1_1LockerImpl"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16a887a4a0e45f4ea5a16abd9aa118ba inherit pub_methods_classmongo_1_1LockerImpl"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1LockerImpl.html#a16a887a4a0e45f4ea5a16abd9aa118ba">endWriteUnitOfWork</a> ()</td></tr>
<tr class="separator:a16a887a4a0e45f4ea5a16abd9aa118ba inherit pub_methods_classmongo_1_1LockerImpl"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad1b8fa7cd5e95d0e7082d8593ff296c3 inherit pub_methods_classmongo_1_1LockerImpl"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1LockerImpl.html#ad1b8fa7cd5e95d0e7082d8593ff296c3">inAWriteUnitOfWork</a> () const</td></tr>
<tr class="separator:ad1b8fa7cd5e95d0e7082d8593ff296c3 inherit pub_methods_classmongo_1_1LockerImpl"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a179b77e68f2b296ecdc63136c3ba8ab6 inherit pub_methods_classmongo_1_1LockerImpl"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="namespacemongo.html#af54347edd3ad8dc00c6c27e0816e2dea">LockResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1LockerImpl.html#a179b77e68f2b296ecdc63136c3ba8ab6">lock</a> (OperationContext *<a class="el" href="recovery__unit__test__harness_8cpp.html#ab24d37dc37f081701d0857805b05e893">opCtx</a>, <a class="el" href="classmongo_1_1ResourceId.html">ResourceId</a> resId, <a class="el" href="namespacemongo.html#a9a3ebc0a91ee78ba95fc1ef18a948a2b">LockMode</a> mode, Date_t deadline=Date_t::max(), bool checkDeadlock=false)</td></tr>
<tr class="memdesc:a179b77e68f2b296ecdc63136c3ba8ab6 inherit pub_methods_classmongo_1_1LockerImpl"><td class="mdescLeft">&#160;</td><td class="mdescRight">Requests a lock for resource 'resId' with mode 'mode'.  <a href="classmongo_1_1LockerImpl.html#a179b77e68f2b296ecdc63136c3ba8ab6">More...</a><br /></td></tr>
<tr class="separator:a179b77e68f2b296ecdc63136c3ba8ab6 inherit pub_methods_classmongo_1_1LockerImpl"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e33cc065fb13bd828aadcf6f12f9edf inherit pub_methods_classmongo_1_1LockerImpl"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="namespacemongo.html#af54347edd3ad8dc00c6c27e0816e2dea">LockResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1LockerImpl.html#a4e33cc065fb13bd828aadcf6f12f9edf">lock</a> (<a class="el" href="classmongo_1_1ResourceId.html">ResourceId</a> resId, <a class="el" href="namespacemongo.html#a9a3ebc0a91ee78ba95fc1ef18a948a2b">LockMode</a> mode, Date_t deadline=Date_t::max(), bool checkDeadlock=false)</td></tr>
<tr class="memdesc:a4e33cc065fb13bd828aadcf6f12f9edf inherit pub_methods_classmongo_1_1LockerImpl"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calling lock without an OperationContext does not allow LOCK_WAITING states to be interrupted.  <a href="classmongo_1_1LockerImpl.html#a4e33cc065fb13bd828aadcf6f12f9edf">More...</a><br /></td></tr>
<tr class="separator:a4e33cc065fb13bd828aadcf6f12f9edf inherit pub_methods_classmongo_1_1LockerImpl"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e30da00a25fc357ccebbe721b538059 inherit pub_methods_classmongo_1_1LockerImpl"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1LockerImpl.html#a1e30da00a25fc357ccebbe721b538059">downgrade</a> (<a class="el" href="classmongo_1_1ResourceId.html">ResourceId</a> resId, <a class="el" href="namespacemongo.html#a9a3ebc0a91ee78ba95fc1ef18a948a2b">LockMode</a> newMode)</td></tr>
<tr class="memdesc:a1e30da00a25fc357ccebbe721b538059 inherit pub_methods_classmongo_1_1LockerImpl"><td class="mdescLeft">&#160;</td><td class="mdescRight">Downgrades the specified resource's lock mode without changing the reference count.  <a href="classmongo_1_1LockerImpl.html#a1e30da00a25fc357ccebbe721b538059">More...</a><br /></td></tr>
<tr class="separator:a1e30da00a25fc357ccebbe721b538059 inherit pub_methods_classmongo_1_1LockerImpl"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab608ef47a3fedf3e5e80e3a593465653 inherit pub_methods_classmongo_1_1LockerImpl"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1LockerImpl.html#ab608ef47a3fedf3e5e80e3a593465653">unlock</a> (<a class="el" href="classmongo_1_1ResourceId.html">ResourceId</a> resId)</td></tr>
<tr class="memdesc:ab608ef47a3fedf3e5e80e3a593465653 inherit pub_methods_classmongo_1_1LockerImpl"><td class="mdescLeft">&#160;</td><td class="mdescRight">Releases a lock previously acquired through a lock call.  <a href="classmongo_1_1LockerImpl.html#ab608ef47a3fedf3e5e80e3a593465653">More...</a><br /></td></tr>
<tr class="separator:ab608ef47a3fedf3e5e80e3a593465653 inherit pub_methods_classmongo_1_1LockerImpl"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acaf2ba4e812da09ce1c45ed37d738565 inherit pub_methods_classmongo_1_1LockerImpl"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="namespacemongo.html#a9a3ebc0a91ee78ba95fc1ef18a948a2b">LockMode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1LockerImpl.html#acaf2ba4e812da09ce1c45ed37d738565">getLockMode</a> (<a class="el" href="classmongo_1_1ResourceId.html">ResourceId</a> resId) const</td></tr>
<tr class="memdesc:acaf2ba4e812da09ce1c45ed37d738565 inherit pub_methods_classmongo_1_1LockerImpl"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves the mode in which a lock is held or checks whether the lock held for a particular resource covers the specified mode.  <a href="classmongo_1_1LockerImpl.html#acaf2ba4e812da09ce1c45ed37d738565">More...</a><br /></td></tr>
<tr class="separator:acaf2ba4e812da09ce1c45ed37d738565 inherit pub_methods_classmongo_1_1LockerImpl"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a56561c28ec9aa2ebc25295e7fc36a5b7 inherit pub_methods_classmongo_1_1LockerImpl"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1LockerImpl.html#a56561c28ec9aa2ebc25295e7fc36a5b7">isLockHeldForMode</a> (<a class="el" href="classmongo_1_1ResourceId.html">ResourceId</a> resId, <a class="el" href="namespacemongo.html#a9a3ebc0a91ee78ba95fc1ef18a948a2b">LockMode</a> mode) const</td></tr>
<tr class="separator:a56561c28ec9aa2ebc25295e7fc36a5b7 inherit pub_methods_classmongo_1_1LockerImpl"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa4a875748a0b9898023cb45c6a7446d inherit pub_methods_classmongo_1_1LockerImpl"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1LockerImpl.html#aaa4a875748a0b9898023cb45c6a7446d">isDbLockedForMode</a> (StringData dbName, <a class="el" href="namespacemongo.html#a9a3ebc0a91ee78ba95fc1ef18a948a2b">LockMode</a> mode) const</td></tr>
<tr class="separator:aaa4a875748a0b9898023cb45c6a7446d inherit pub_methods_classmongo_1_1LockerImpl"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6649874f62a8cdd5221f09163c00d3f2 inherit pub_methods_classmongo_1_1LockerImpl"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1LockerImpl.html#a6649874f62a8cdd5221f09163c00d3f2">isCollectionLockedForMode</a> (StringData ns, <a class="el" href="namespacemongo.html#a9a3ebc0a91ee78ba95fc1ef18a948a2b">LockMode</a> mode) const</td></tr>
<tr class="separator:a6649874f62a8cdd5221f09163c00d3f2 inherit pub_methods_classmongo_1_1LockerImpl"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ed094dda7db7d147942b3842a2bdcc7 inherit pub_methods_classmongo_1_1LockerImpl"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classmongo_1_1ResourceId.html">ResourceId</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1LockerImpl.html#a4ed094dda7db7d147942b3842a2bdcc7">getWaitingResource</a> () const</td></tr>
<tr class="memdesc:a4ed094dda7db7d147942b3842a2bdcc7 inherit pub_methods_classmongo_1_1LockerImpl"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the resource that this locker is waiting/blocked on (if any).  <a href="classmongo_1_1LockerImpl.html#a4ed094dda7db7d147942b3842a2bdcc7">More...</a><br /></td></tr>
<tr class="separator:a4ed094dda7db7d147942b3842a2bdcc7 inherit pub_methods_classmongo_1_1LockerImpl"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a77d5334cecfcf5da4ffb1ece721bf43b inherit pub_methods_classmongo_1_1LockerImpl"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1LockerImpl.html#a77d5334cecfcf5da4ffb1ece721bf43b">getLockerInfo</a> (<a class="el" href="structmongo_1_1Locker_1_1LockerInfo.html">LockerInfo</a> *lockerInfo) const</td></tr>
<tr class="separator:a77d5334cecfcf5da4ffb1ece721bf43b inherit pub_methods_classmongo_1_1LockerImpl"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b048b62e8671cdc39601db58701c337 inherit pub_methods_classmongo_1_1LockerImpl"><td class="memItemLeft" align="right" valign="top">virtual boost::optional&lt; <a class="el" href="structmongo_1_1Locker_1_1LockerInfo.html">LockerInfo</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1LockerImpl.html#a4b048b62e8671cdc39601db58701c337">getLockerInfo</a> () const final</td></tr>
<tr class="memdesc:a4b048b62e8671cdc39601db58701c337 inherit pub_methods_classmongo_1_1LockerImpl"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns boost::none if this is an instance of LockerNoop, or a populated LockerInfo otherwise.  <a href="classmongo_1_1LockerImpl.html#a4b048b62e8671cdc39601db58701c337">More...</a><br /></td></tr>
<tr class="separator:a4b048b62e8671cdc39601db58701c337 inherit pub_methods_classmongo_1_1LockerImpl"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a57f74c5fb2465b912fe1021e1228b130 inherit pub_methods_classmongo_1_1LockerImpl"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1LockerImpl.html#a57f74c5fb2465b912fe1021e1228b130">saveLockStateAndUnlock</a> (<a class="el" href="structmongo_1_1Locker_1_1LockSnapshot.html">LockSnapshot</a> *stateOut)</td></tr>
<tr class="memdesc:a57f74c5fb2465b912fe1021e1228b130 inherit pub_methods_classmongo_1_1LockerImpl"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves all locks held by this transaction, other than RESOURCE_MUTEX locks, and what mode they're held in.  <a href="classmongo_1_1LockerImpl.html#a57f74c5fb2465b912fe1021e1228b130">More...</a><br /></td></tr>
<tr class="separator:a57f74c5fb2465b912fe1021e1228b130 inherit pub_methods_classmongo_1_1LockerImpl"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c18ee5ac579058ce8db79f501724992 inherit pub_methods_classmongo_1_1LockerImpl"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1LockerImpl.html#a7c18ee5ac579058ce8db79f501724992">restoreLockState</a> (OperationContext *<a class="el" href="recovery__unit__test__harness_8cpp.html#ab24d37dc37f081701d0857805b05e893">opCtx</a>, const <a class="el" href="structmongo_1_1Locker_1_1LockSnapshot.html">LockSnapshot</a> &amp;stateToRestore)</td></tr>
<tr class="memdesc:a7c18ee5ac579058ce8db79f501724992 inherit pub_methods_classmongo_1_1LockerImpl"><td class="mdescLeft">&#160;</td><td class="mdescRight">Re-locks all locks whose state was stored in 'stateToRestore'.  <a href="classmongo_1_1LockerImpl.html#a7c18ee5ac579058ce8db79f501724992">More...</a><br /></td></tr>
<tr class="separator:a7c18ee5ac579058ce8db79f501724992 inherit pub_methods_classmongo_1_1LockerImpl"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a854ebed7d0615200c1cb0c6138cbe39b inherit pub_methods_classmongo_1_1LockerImpl"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1LockerImpl.html#a854ebed7d0615200c1cb0c6138cbe39b">restoreLockState</a> (const <a class="el" href="structmongo_1_1Locker_1_1LockSnapshot.html">LockSnapshot</a> &amp;stateToRestore)</td></tr>
<tr class="separator:a854ebed7d0615200c1cb0c6138cbe39b inherit pub_methods_classmongo_1_1LockerImpl"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a744aefc2e5818ef096e1208119cb9332 inherit pub_methods_classmongo_1_1LockerImpl"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1LockerImpl.html#a744aefc2e5818ef096e1208119cb9332">releaseTicket</a> ()</td></tr>
<tr class="memdesc:a744aefc2e5818ef096e1208119cb9332 inherit pub_methods_classmongo_1_1LockerImpl"><td class="mdescLeft">&#160;</td><td class="mdescRight">Releases the ticket associated with the Locker.  <a href="classmongo_1_1LockerImpl.html#a744aefc2e5818ef096e1208119cb9332">More...</a><br /></td></tr>
<tr class="separator:a744aefc2e5818ef096e1208119cb9332 inherit pub_methods_classmongo_1_1LockerImpl"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac7e78b09f64b0825e9c468fab9724af5 inherit pub_methods_classmongo_1_1LockerImpl"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1LockerImpl.html#ac7e78b09f64b0825e9c468fab9724af5">reacquireTicket</a> (OperationContext *<a class="el" href="recovery__unit__test__harness_8cpp.html#ab24d37dc37f081701d0857805b05e893">opCtx</a>)</td></tr>
<tr class="memdesc:ac7e78b09f64b0825e9c468fab9724af5 inherit pub_methods_classmongo_1_1LockerImpl"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reacquires a ticket for the Locker.  <a href="classmongo_1_1LockerImpl.html#ac7e78b09f64b0825e9c468fab9724af5">More...</a><br /></td></tr>
<tr class="separator:ac7e78b09f64b0825e9c468fab9724af5 inherit pub_methods_classmongo_1_1LockerImpl"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46568e297c13b6d0b282c87d60f4d851 inherit pub_methods_classmongo_1_1LockerImpl"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacemongo.html#af54347edd3ad8dc00c6c27e0816e2dea">LockResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1LockerImpl.html#a46568e297c13b6d0b282c87d60f4d851">lockBegin</a> (OperationContext *<a class="el" href="recovery__unit__test__harness_8cpp.html#ab24d37dc37f081701d0857805b05e893">opCtx</a>, <a class="el" href="classmongo_1_1ResourceId.html">ResourceId</a> resId, <a class="el" href="namespacemongo.html#a9a3ebc0a91ee78ba95fc1ef18a948a2b">LockMode</a> mode)</td></tr>
<tr class="memdesc:a46568e297c13b6d0b282c87d60f4d851 inherit pub_methods_classmongo_1_1LockerImpl"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allows for lock requests to be requested in a non-blocking way.  <a href="classmongo_1_1LockerImpl.html#a46568e297c13b6d0b282c87d60f4d851">More...</a><br /></td></tr>
<tr class="separator:a46568e297c13b6d0b282c87d60f4d851 inherit pub_methods_classmongo_1_1LockerImpl"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf7533f9a1623c8e3f9f10df0e65c685 inherit pub_methods_classmongo_1_1LockerImpl"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacemongo.html#af54347edd3ad8dc00c6c27e0816e2dea">LockResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1LockerImpl.html#acf7533f9a1623c8e3f9f10df0e65c685">lockComplete</a> (OperationContext *<a class="el" href="recovery__unit__test__harness_8cpp.html#ab24d37dc37f081701d0857805b05e893">opCtx</a>, <a class="el" href="classmongo_1_1ResourceId.html">ResourceId</a> resId, <a class="el" href="namespacemongo.html#a9a3ebc0a91ee78ba95fc1ef18a948a2b">LockMode</a> mode, Date_t deadline, bool checkDeadlock)</td></tr>
<tr class="memdesc:acf7533f9a1623c8e3f9f10df0e65c685 inherit pub_methods_classmongo_1_1LockerImpl"><td class="mdescLeft">&#160;</td><td class="mdescRight">Waits for the completion of a lock, previously requested through lockBegin or lockGlobalBegin.  <a href="classmongo_1_1LockerImpl.html#acf7533f9a1623c8e3f9f10df0e65c685">More...</a><br /></td></tr>
<tr class="separator:acf7533f9a1623c8e3f9f10df0e65c685 inherit pub_methods_classmongo_1_1LockerImpl"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e13191fb5b133232b9ca84e4c42914e inherit pub_methods_classmongo_1_1LockerImpl"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacemongo.html#af54347edd3ad8dc00c6c27e0816e2dea">LockResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1LockerImpl.html#a9e13191fb5b133232b9ca84e4c42914e">lockComplete</a> (<a class="el" href="classmongo_1_1ResourceId.html">ResourceId</a> resId, <a class="el" href="namespacemongo.html#a9a3ebc0a91ee78ba95fc1ef18a948a2b">LockMode</a> mode, Date_t deadline, bool checkDeadlock)</td></tr>
<tr class="separator:a9e13191fb5b133232b9ca84e4c42914e inherit pub_methods_classmongo_1_1LockerImpl"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a450dd94e881056eb0ef2addc835f4b inherit pub_methods_classmongo_1_1LockerImpl"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classmongo_1_1FastMapNoAlloc.html">FastMapNoAlloc</a>&lt; <a class="el" href="classmongo_1_1ResourceId.html">ResourceId</a>, <a class="el" href="structmongo_1_1LockRequest.html">LockRequest</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1LockerImpl.html#a9a450dd94e881056eb0ef2addc835f4b">getRequestsForTest</a> () const</td></tr>
<tr class="memdesc:a9a450dd94e881056eb0ef2addc835f4b inherit pub_methods_classmongo_1_1LockerImpl"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function is for unit testing only.  <a href="classmongo_1_1LockerImpl.html#a9a450dd94e881056eb0ef2addc835f4b">More...</a><br /></td></tr>
<tr class="separator:a9a450dd94e881056eb0ef2addc835f4b inherit pub_methods_classmongo_1_1LockerImpl"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abec0e7ada9c31a9e4f8d35d71204dc4f inherit pub_methods_classmongo_1_1LockerImpl"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1LockerImpl.html#abec0e7ada9c31a9e4f8d35d71204dc4f">dump</a> () const</td></tr>
<tr class="separator:abec0e7ada9c31a9e4f8d35d71204dc4f inherit pub_methods_classmongo_1_1LockerImpl"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab66822b7ada973d946b55ee119b30943 inherit pub_methods_classmongo_1_1LockerImpl"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1LockerImpl.html#ab66822b7ada973d946b55ee119b30943">isW</a> () const</td></tr>
<tr class="separator:ab66822b7ada973d946b55ee119b30943 inherit pub_methods_classmongo_1_1LockerImpl"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f955d0c82b3a78a94619d0b27dc1044 inherit pub_methods_classmongo_1_1LockerImpl"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1LockerImpl.html#a1f955d0c82b3a78a94619d0b27dc1044">isR</a> () const</td></tr>
<tr class="separator:a1f955d0c82b3a78a94619d0b27dc1044 inherit pub_methods_classmongo_1_1LockerImpl"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a2a82f40c48e229e981ed0f050a7230 inherit pub_methods_classmongo_1_1LockerImpl"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1LockerImpl.html#a6a2a82f40c48e229e981ed0f050a7230">isLocked</a> () const</td></tr>
<tr class="separator:a6a2a82f40c48e229e981ed0f050a7230 inherit pub_methods_classmongo_1_1LockerImpl"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a96c45bad6c72299e80ae3c1f83f11b76 inherit pub_methods_classmongo_1_1LockerImpl"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1LockerImpl.html#a96c45bad6c72299e80ae3c1f83f11b76">isWriteLocked</a> () const</td></tr>
<tr class="separator:a96c45bad6c72299e80ae3c1f83f11b76 inherit pub_methods_classmongo_1_1LockerImpl"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abae09f8c61783861f7a20c11ce07bd0e inherit pub_methods_classmongo_1_1LockerImpl"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1LockerImpl.html#abae09f8c61783861f7a20c11ce07bd0e">isReadLocked</a> () const</td></tr>
<tr class="separator:abae09f8c61783861f7a20c11ce07bd0e inherit pub_methods_classmongo_1_1LockerImpl"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad1d0a75cbb1ab91c34231743a364c92 inherit pub_methods_classmongo_1_1LockerImpl"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1LockerImpl.html#aad1d0a75cbb1ab91c34231743a364c92">isGlobalLockedRecursively</a> () override</td></tr>
<tr class="separator:aad1d0a75cbb1ab91c34231743a364c92 inherit pub_methods_classmongo_1_1LockerImpl"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a518883ab6c32341fa7003fd3a84eda2c inherit pub_methods_classmongo_1_1LockerImpl"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1LockerImpl.html#a518883ab6c32341fa7003fd3a84eda2c">hasLockPending</a> () const</td></tr>
<tr class="memdesc:a518883ab6c32341fa7003fd3a84eda2c inherit pub_methods_classmongo_1_1LockerImpl"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pending means we are currently trying to get a lock (could be the parallel batch writer lock).  <a href="classmongo_1_1LockerImpl.html#a518883ab6c32341fa7003fd3a84eda2c">More...</a><br /></td></tr>
<tr class="separator:a518883ab6c32341fa7003fd3a84eda2c inherit pub_methods_classmongo_1_1LockerImpl"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classmongo_1_1Locker"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classmongo_1_1Locker')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classmongo_1_1Locker.html">mongo::Locker</a></td></tr>
<tr class="memitem:a1c5830580247311e1ae6ba55490d860a inherit pub_methods_classmongo_1_1Locker"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1Locker.html#a1c5830580247311e1ae6ba55490d860a">~Locker</a> ()</td></tr>
<tr class="separator:a1c5830580247311e1ae6ba55490d860a inherit pub_methods_classmongo_1_1Locker"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac27e7f292e2b3d737b8182a0eb3a25cc inherit pub_methods_classmongo_1_1Locker"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1Locker.html#ac27e7f292e2b3d737b8182a0eb3a25cc">isNoop</a> () const</td></tr>
<tr class="memdesc:ac27e7f292e2b3d737b8182a0eb3a25cc inherit pub_methods_classmongo_1_1Locker"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if this is an instance of <a class="el" href="classmongo_1_1LockerNoop.html" title="Locker, which cannot be used to lock/unlock resources and just returns true for checks for whether a ...">LockerNoop</a>.  <a href="classmongo_1_1Locker.html#ac27e7f292e2b3d737b8182a0eb3a25cc">More...</a><br /></td></tr>
<tr class="separator:ac27e7f292e2b3d737b8182a0eb3a25cc inherit pub_methods_classmongo_1_1Locker"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae94b9faef1df1a23e353b09bb778f8cc inherit pub_methods_classmongo_1_1Locker"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacemongo.html#aa639063deea016a1dac8f046e93900a6">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1Locker.html#ae94b9faef1df1a23e353b09bb778f8cc">setShouldConflictWithSecondaryBatchApplication</a> (bool newValue)</td></tr>
<tr class="memdesc:ae94b9faef1df1a23e353b09bb778f8cc inherit pub_methods_classmongo_1_1Locker"><td class="mdescLeft">&#160;</td><td class="mdescRight">If set to false, this opts out of conflicting with replication's use of the ParallelBatchWriterMode lock.  <a href="classmongo_1_1Locker.html#ae94b9faef1df1a23e353b09bb778f8cc">More...</a><br /></td></tr>
<tr class="separator:ae94b9faef1df1a23e353b09bb778f8cc inherit pub_methods_classmongo_1_1Locker"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a587ef968cd89c5d79e34dee55e444656 inherit pub_methods_classmongo_1_1Locker"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1Locker.html#a587ef968cd89c5d79e34dee55e444656">shouldConflictWithSecondaryBatchApplication</a> () const</td></tr>
<tr class="separator:a587ef968cd89c5d79e34dee55e444656 inherit pub_methods_classmongo_1_1Locker"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa328b64d04622634a7bd87656828d88f inherit pub_methods_classmongo_1_1Locker"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacemongo.html#aa639063deea016a1dac8f046e93900a6">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1Locker.html#aa328b64d04622634a7bd87656828d88f">setShouldAcquireTicket</a> (bool newValue)</td></tr>
<tr class="memdesc:aa328b64d04622634a7bd87656828d88f inherit pub_methods_classmongo_1_1Locker"><td class="mdescLeft">&#160;</td><td class="mdescRight">If set to false, this opts out of the ticket mechanism.  <a href="classmongo_1_1Locker.html#aa328b64d04622634a7bd87656828d88f">More...</a><br /></td></tr>
<tr class="separator:aa328b64d04622634a7bd87656828d88f inherit pub_methods_classmongo_1_1Locker"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a05ed3cacd071f0610e20b59adca08a9b inherit pub_methods_classmongo_1_1Locker"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1Locker.html#a05ed3cacd071f0610e20b59adca08a9b">shouldAcquireTicket</a> () const</td></tr>
<tr class="separator:a05ed3cacd071f0610e20b59adca08a9b inherit pub_methods_classmongo_1_1Locker"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3068c40167d05e4679c7cc70ab858b34 inherit pub_methods_classmongo_1_1Locker"><td class="memItemLeft" align="right" valign="top">unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1Locker.html#a3068c40167d05e4679c7cc70ab858b34">numResourcesToUnlockAtEndUnitOfWorkForTest</a> () const</td></tr>
<tr class="memdesc:a3068c40167d05e4679c7cc70ab858b34 inherit pub_methods_classmongo_1_1Locker"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function is for unit testing only.  <a href="classmongo_1_1Locker.html#a3068c40167d05e4679c7cc70ab858b34">More...</a><br /></td></tr>
<tr class="separator:a3068c40167d05e4679c7cc70ab858b34 inherit pub_methods_classmongo_1_1Locker"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pub_types_classmongo_1_1Locker"><td colspan="2" onclick="javascript:toggleInherit('pub_types_classmongo_1_1Locker')"><img src="closed.png" alt="-"/>&#160;Public Types inherited from <a class="el" href="classmongo_1_1Locker.html">mongo::Locker</a></td></tr>
<tr class="memitem:ac2bef72f3b29c8a23df4e3e8eba7396b inherit pub_types_classmongo_1_1Locker"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1Locker.html#ac2bef72f3b29c8a23df4e3e8eba7396b">ClientState</a> { <br />
&#160;&#160;<a class="el" href="classmongo_1_1Locker.html#ac2bef72f3b29c8a23df4e3e8eba7396ba0111dd42dd167087894c4d0540305679">kInactive</a>, 
<a class="el" href="classmongo_1_1Locker.html#ac2bef72f3b29c8a23df4e3e8eba7396ba2bc2ca3b799c4fe6401e6edb3dd29d2e">kActiveReader</a>, 
<a class="el" href="classmongo_1_1Locker.html#ac2bef72f3b29c8a23df4e3e8eba7396ba1c44a0c7b6f988e21362efd31325f71a">kActiveWriter</a>, 
<a class="el" href="classmongo_1_1Locker.html#ac2bef72f3b29c8a23df4e3e8eba7396bad06508796f0cf8cfb5e05df4ad30b2b8">kQueuedReader</a>, 
<br />
&#160;&#160;<a class="el" href="classmongo_1_1Locker.html#ac2bef72f3b29c8a23df4e3e8eba7396ba091e01efc9f2e477c93e26224e5e18a6">kQueuedWriter</a>
<br />
 }<tr class="memdesc:ac2bef72f3b29c8a23df4e3e8eba7396b"><td class="mdescLeft">&#160;</td><td class="mdescRight">State for reporting the number of active and queued reader and writer clients.  <a href="classmongo_1_1Locker.html#ac2bef72f3b29c8a23df4e3e8eba7396b">More...</a><br /></td></tr>
</td></tr>
<tr class="separator:ac2bef72f3b29c8a23df4e3e8eba7396b inherit pub_types_classmongo_1_1Locker"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_static_methods_classmongo_1_1Locker"><td colspan="2" onclick="javascript:toggleInherit('pub_static_methods_classmongo_1_1Locker')"><img src="closed.png" alt="-"/>&#160;Static Public Member Functions inherited from <a class="el" href="classmongo_1_1Locker.html">mongo::Locker</a></td></tr>
<tr class="memitem:a2f2acb3bc1115d2c0b7f7a41640a5b11 inherit pub_static_methods_classmongo_1_1Locker"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="namespacemongo.html#aa639063deea016a1dac8f046e93900a6">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1Locker.html#a2f2acb3bc1115d2c0b7f7a41640a5b11">setGlobalThrottling</a> (class TicketHolder *reading, class TicketHolder *writing)</td></tr>
<tr class="memdesc:a2f2acb3bc1115d2c0b7f7a41640a5b11 inherit pub_static_methods_classmongo_1_1Locker"><td class="mdescLeft">&#160;</td><td class="mdescRight">Require global lock attempts to obtain tickets from 'reading' (for MODE_S and MODE_IS), and from 'writing' (for MODE_IX), which must have static lifetimes.  <a href="classmongo_1_1Locker.html#a2f2acb3bc1115d2c0b7f7a41640a5b11">More...</a><br /></td></tr>
<tr class="separator:a2f2acb3bc1115d2c0b7f7a41640a5b11 inherit pub_static_methods_classmongo_1_1Locker"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_methods_classmongo_1_1Locker"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_classmongo_1_1Locker')"><img src="closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="classmongo_1_1Locker.html">mongo::Locker</a></td></tr>
<tr class="memitem:aca0763e95e85e3ed6972ef6cb245fdb3 inherit pro_methods_classmongo_1_1Locker"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1Locker.html#aca0763e95e85e3ed6972ef6cb245fdb3">Locker</a> ()</td></tr>
<tr class="separator:aca0763e95e85e3ed6972ef6cb245fdb3 inherit pro_methods_classmongo_1_1Locker"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_attribs_classmongo_1_1Locker"><td colspan="2" onclick="javascript:toggleInherit('pro_attribs_classmongo_1_1Locker')"><img src="closed.png" alt="-"/>&#160;Protected Attributes inherited from <a class="el" href="classmongo_1_1Locker.html">mongo::Locker</a></td></tr>
<tr class="memitem:a5e907d7c1a238d90330768e7444430f4 inherit pro_attribs_classmongo_1_1Locker"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1Locker.html#a5e907d7c1a238d90330768e7444430f4">_uninterruptibleLocksRequested</a> = 0</td></tr>
<tr class="memdesc:a5e907d7c1a238d90330768e7444430f4 inherit pro_attribs_classmongo_1_1Locker"><td class="mdescLeft">&#160;</td><td class="mdescRight">The number of callers that are guarding from lock interruptions.  <a href="classmongo_1_1Locker.html#a5e907d7c1a238d90330768e7444430f4">More...</a><br /></td></tr>
<tr class="separator:a5e907d7c1a238d90330768e7444430f4 inherit pro_attribs_classmongo_1_1Locker"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae43ef3425b55d3cc48fb2e1d3f680379 inherit pro_attribs_classmongo_1_1Locker"><td class="memItemLeft" align="right" valign="top">unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1Locker.html#ae43ef3425b55d3cc48fb2e1d3f680379">_numResourcesToUnlockAtEndUnitOfWork</a> = 0</td></tr>
<tr class="memdesc:ae43ef3425b55d3cc48fb2e1d3f680379 inherit pro_attribs_classmongo_1_1Locker"><td class="mdescLeft">&#160;</td><td class="mdescRight">The number of LockRequests to unlock at the end of this WUOW.  <a href="classmongo_1_1Locker.html#ae43ef3425b55d3cc48fb2e1d3f680379">More...</a><br /></td></tr>
<tr class="separator:ae43ef3425b55d3cc48fb2e1d3f680379 inherit pro_attribs_classmongo_1_1Locker"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="af920414d6d37195befb6de0088ff1078"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af920414d6d37195befb6de0088ff1078">&#9670;&nbsp;</a></span>LockerForTests()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mongo::LockerForTests::LockerForTests </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacemongo.html#a9a3ebc0a91ee78ba95fc1ef18a948a2b">LockMode</a>&#160;</td>
          <td class="paramname"><em>globalLockMode</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a389481aa4383db0bd556d9579f28a5cd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a389481aa4383db0bd556d9579f28a5cd">&#9670;&nbsp;</a></span>~LockerForTests()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mongo::LockerForTests::~LockerForTests </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>/home/louis/git/mongodbsource.github.io/src/src/mongo/db/concurrency/<a class="el" href="lock__manager__test__help_8h_source.html">lock_manager_test_help.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.13-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacemongo.html">mongo</a></li><li class="navelem"><a class="el" href="classmongo_1_1LockerForTests.html">LockerForTests</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
