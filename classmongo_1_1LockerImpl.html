<!-- HTML header for doxygen 1.8.13-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Storage Engine API: mongo::LockerImpl&lt; IsForMMAPV1 &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link rel="shortcut icon" href="favicon.ico" type="image/x-icon" />
<link href="mongodb.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr>
  <td id="projectlogo"><img alt="Logo" src="mongodb-logo.jpg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Storage Engine API
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classmongo_1_1LockerImpl.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-types">Private Types</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="#friends">Friends</a> &#124;
<a href="classmongo_1_1LockerImpl-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">mongo::LockerImpl&lt; IsForMMAPV1 &gt; Class Template Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Interface for acquiring locks.  
 <a href="classmongo_1_1LockerImpl.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="lock__state_8h_source.html">lock_state.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for mongo::LockerImpl&lt; IsForMMAPV1 &gt;:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classmongo_1_1LockerImpl.png" usemap="#mongo::LockerImpl_3C_20IsForMMAPV1_20_3E_map" alt=""/>
  <map id="mongo::LockerImpl_3C_20IsForMMAPV1_20_3E_map" name="mongo::LockerImpl_3C_20IsForMMAPV1_20_3E_map">
<area href="classmongo_1_1Locker.html" title="Interface for acquiring locks. " alt="mongo::Locker" shape="rect" coords="0,0,224,24"/>
</map>
 </div></div>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><h3>template&lt;bool IsForMMAPV1&gt;<br />
class mongo::LockerImpl&lt; IsForMMAPV1 &gt;</h3>

<p>Interface for acquiring locks. </p>
<p>One of those objects will have to be instantiated for each request (transaction).</p>
<p>Lock/unlock methods must always be called from a single thread.</p>
<p>All instances reference a single global lock manager.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">IsForMMAPV1</td><td>Whether to compile-in the flush lock functionality, which is specific to the way the MMAP V1 (legacy) storag engine does commit concurrency control. </td></tr>
  </table>
  </dd>
</dl>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a190718f908a08d7bda753029d51e0391"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1LockerImpl.html#a190718f908a08d7bda753029d51e0391">LockerImpl</a> ()</td></tr>
<tr class="memdesc:a190718f908a08d7bda753029d51e0391"><td class="mdescLeft">&#160;</td><td class="mdescRight">Instantiates new locker.  <a href="#a190718f908a08d7bda753029d51e0391">More...</a><br /></td></tr>
<tr class="separator:a190718f908a08d7bda753029d51e0391"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac84e6d0d075d68373d97b5e1d2e932ef"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1LockerImpl.html#ac84e6d0d075d68373d97b5e1d2e932ef">~LockerImpl</a> ()</td></tr>
<tr class="separator:ac84e6d0d075d68373d97b5e1d2e932ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a898868ff0b189458e9ccf6e7912b1c7c"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classmongo_1_1Locker.html#ac2bef72f3b29c8a23df4e3e8eba7396b">ClientState</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1LockerImpl.html#a898868ff0b189458e9ccf6e7912b1c7c">getClientState</a> () const</td></tr>
<tr class="memdesc:a898868ff0b189458e9ccf6e7912b1c7c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return whether client is holding any locks (active), or is queued on any locks or waiting for a ticket (throttled).  <a href="#a898868ff0b189458e9ccf6e7912b1c7c">More...</a><br /></td></tr>
<tr class="separator:a898868ff0b189458e9ccf6e7912b1c7c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a25e6346558e7722752a6685cf0b5165a"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="namespacemongo.html#ad7b6e5bd2d44b9b4fe9031b23492c38a">LockerId</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1LockerImpl.html#a25e6346558e7722752a6685cf0b5165a">getId</a> () const</td></tr>
<tr class="separator:a25e6346558e7722752a6685cf0b5165a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a59b50fbec6af980488c6964f292e60"><td class="memItemLeft" align="right" valign="top">stdx::thread::id&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1LockerImpl.html#a0a59b50fbec6af980488c6964f292e60">getThreadId</a> () const override</td></tr>
<tr class="memdesc:a0a59b50fbec6af980488c6964f292e60"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a platform-specific thread identifier of the thread which owns the this locker for tracing purposes.  <a href="#a0a59b50fbec6af980488c6964f292e60">More...</a><br /></td></tr>
<tr class="separator:a0a59b50fbec6af980488c6964f292e60"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad17c45d74aedec5a2a298808f24665cb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacemongo.html#aa639063deea016a1dac8f046e93900a6">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1LockerImpl.html#ad17c45d74aedec5a2a298808f24665cb">updateThreadIdToCurrentThread</a> () override</td></tr>
<tr class="memdesc:ad17c45d74aedec5a2a298808f24665cb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Updates any cached thread id values to represent the current thread.  <a href="#ad17c45d74aedec5a2a298808f24665cb">More...</a><br /></td></tr>
<tr class="separator:ad17c45d74aedec5a2a298808f24665cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af832a6997efa8507927e1acdbc52266b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacemongo.html#aa639063deea016a1dac8f046e93900a6">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1LockerImpl.html#af832a6997efa8507927e1acdbc52266b">unsetThreadId</a> () override</td></tr>
<tr class="memdesc:af832a6997efa8507927e1acdbc52266b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clears any cached thread id values.  <a href="#af832a6997efa8507927e1acdbc52266b">More...</a><br /></td></tr>
<tr class="separator:af832a6997efa8507927e1acdbc52266b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d4e14201a4ac315b85498102fe55002"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacemongo.html#aa639063deea016a1dac8f046e93900a6">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1LockerImpl.html#a0d4e14201a4ac315b85498102fe55002">setSharedLocksShouldTwoPhaseLock</a> (bool sharedLocksShouldTwoPhaseLock) override</td></tr>
<tr class="memdesc:a0d4e14201a4ac315b85498102fe55002"><td class="mdescLeft">&#160;</td><td class="mdescRight">Indicate that shared locks should participate in two-phase locking for this <a class="el" href="classmongo_1_1Locker.html" title="Interface for acquiring locks. ">Locker</a> instance.  <a href="#a0d4e14201a4ac315b85498102fe55002">More...</a><br /></td></tr>
<tr class="separator:a0d4e14201a4ac315b85498102fe55002"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0cb45a28cabdbca62b76bfc7ca83677d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacemongo.html#aa639063deea016a1dac8f046e93900a6">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1LockerImpl.html#a0cb45a28cabdbca62b76bfc7ca83677d">setMaxLockTimeout</a> (Milliseconds maxTimeout) override</td></tr>
<tr class="memdesc:a0cb45a28cabdbca62b76bfc7ca83677d"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is useful to ensure that potential deadlocks do not occur.  <a href="#a0cb45a28cabdbca62b76bfc7ca83677d">More...</a><br /></td></tr>
<tr class="separator:a0cb45a28cabdbca62b76bfc7ca83677d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59bbba14265db2373e5ca7e67f87b7cb"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1LockerImpl.html#a59bbba14265db2373e5ca7e67f87b7cb">hasMaxLockTimeout</a> () override</td></tr>
<tr class="memdesc:a59bbba14265db2373e5ca7e67f87b7cb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns whether this <a class="el" href="classmongo_1_1Locker.html" title="Interface for acquiring locks. ">Locker</a> has a maximum lock timeout set.  <a href="#a59bbba14265db2373e5ca7e67f87b7cb">More...</a><br /></td></tr>
<tr class="separator:a59bbba14265db2373e5ca7e67f87b7cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff3132177d05cf4cb7352ea28bacffd9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacemongo.html#aa639063deea016a1dac8f046e93900a6">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1LockerImpl.html#aff3132177d05cf4cb7352ea28bacffd9">unsetMaxLockTimeout</a> () override</td></tr>
<tr class="memdesc:aff3132177d05cf4cb7352ea28bacffd9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clears the max lock timeout override set by <a class="el" href="classmongo_1_1LockerImpl.html#a0cb45a28cabdbca62b76bfc7ca83677d" title="This is useful to ensure that potential deadlocks do not occur. ">setMaxLockTimeout()</a> above.  <a href="#aff3132177d05cf4cb7352ea28bacffd9">More...</a><br /></td></tr>
<tr class="separator:aff3132177d05cf4cb7352ea28bacffd9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6095035a20069df9f57b436e9e4382d"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="namespacemongo.html#af54347edd3ad8dc00c6c27e0816e2dea">LockResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1LockerImpl.html#ae6095035a20069df9f57b436e9e4382d">lockGlobal</a> (OperationContext *<a class="el" href="namespacemongo.html#a15b23ef1d9a7f6cdadbf866f1e8e5043">opCtx</a>, <a class="el" href="namespacemongo.html#a9a3ebc0a91ee78ba95fc1ef18a948a2b">LockMode</a> mode)</td></tr>
<tr class="memdesc:ae6095035a20069df9f57b436e9e4382d"><td class="mdescLeft">&#160;</td><td class="mdescRight">This should be the first method invoked for a particular <a class="el" href="classmongo_1_1Locker.html" title="Interface for acquiring locks. ">Locker</a> object.  <a href="#ae6095035a20069df9f57b436e9e4382d">More...</a><br /></td></tr>
<tr class="separator:ae6095035a20069df9f57b436e9e4382d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e9095ec95229b788dd0450e92197a55"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="namespacemongo.html#af54347edd3ad8dc00c6c27e0816e2dea">LockResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1LockerImpl.html#a6e9095ec95229b788dd0450e92197a55">lockGlobal</a> (<a class="el" href="namespacemongo.html#a9a3ebc0a91ee78ba95fc1ef18a948a2b">LockMode</a> mode)</td></tr>
<tr class="separator:a6e9095ec95229b788dd0450e92197a55"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abec4edae17a1540d1b8a8d8287e467ae"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="namespacemongo.html#af54347edd3ad8dc00c6c27e0816e2dea">LockResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1LockerImpl.html#abec4edae17a1540d1b8a8d8287e467ae">lockGlobalBegin</a> (OperationContext *<a class="el" href="namespacemongo.html#a15b23ef1d9a7f6cdadbf866f1e8e5043">opCtx</a>, <a class="el" href="namespacemongo.html#a9a3ebc0a91ee78ba95fc1ef18a948a2b">LockMode</a> mode, Date_t deadline)</td></tr>
<tr class="memdesc:abec4edae17a1540d1b8a8d8287e467ae"><td class="mdescLeft">&#160;</td><td class="mdescRight">Requests the global lock to be acquired in the specified mode.  <a href="#abec4edae17a1540d1b8a8d8287e467ae">More...</a><br /></td></tr>
<tr class="separator:abec4edae17a1540d1b8a8d8287e467ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a09438e62404c4eec04c5aa4419b9608d"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="namespacemongo.html#af54347edd3ad8dc00c6c27e0816e2dea">LockResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1LockerImpl.html#a09438e62404c4eec04c5aa4419b9608d">lockGlobalBegin</a> (<a class="el" href="namespacemongo.html#a9a3ebc0a91ee78ba95fc1ef18a948a2b">LockMode</a> mode, Date_t deadline)</td></tr>
<tr class="separator:a09438e62404c4eec04c5aa4419b9608d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a223336d1f191dea8118b5909a9d0d626"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="namespacemongo.html#af54347edd3ad8dc00c6c27e0816e2dea">LockResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1LockerImpl.html#a223336d1f191dea8118b5909a9d0d626">lockGlobalComplete</a> (OperationContext *<a class="el" href="namespacemongo.html#a15b23ef1d9a7f6cdadbf866f1e8e5043">opCtx</a>, Date_t deadline)</td></tr>
<tr class="memdesc:a223336d1f191dea8118b5909a9d0d626"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calling lockGlobalComplete without an OperationContext does not allow the lock acquisition to be interrupted.  <a href="#a223336d1f191dea8118b5909a9d0d626">More...</a><br /></td></tr>
<tr class="separator:a223336d1f191dea8118b5909a9d0d626"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a425b455e0f8f4b8b32ecb0e88f58eff0"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="namespacemongo.html#af54347edd3ad8dc00c6c27e0816e2dea">LockResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1LockerImpl.html#a425b455e0f8f4b8b32ecb0e88f58eff0">lockGlobalComplete</a> (Date_t deadline)</td></tr>
<tr class="separator:a425b455e0f8f4b8b32ecb0e88f58eff0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a05d6542e55d24e316cd59c4d0aabe612"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="namespacemongo.html#aa639063deea016a1dac8f046e93900a6">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1LockerImpl.html#a05d6542e55d24e316cd59c4d0aabe612">lockMMAPV1Flush</a> ()</td></tr>
<tr class="memdesc:a05d6542e55d24e316cd59c4d0aabe612"><td class="mdescLeft">&#160;</td><td class="mdescRight">This method is used only in the MMAP V1 storage engine, otherwise it is a no-op.  <a href="#a05d6542e55d24e316cd59c4d0aabe612">More...</a><br /></td></tr>
<tr class="separator:a05d6542e55d24e316cd59c4d0aabe612"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a693562a0483f6793cf6ebd36122595f2"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="namespacemongo.html#aa639063deea016a1dac8f046e93900a6">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1LockerImpl.html#a693562a0483f6793cf6ebd36122595f2">downgradeGlobalXtoSForMMAPV1</a> ()</td></tr>
<tr class="memdesc:a693562a0483f6793cf6ebd36122595f2"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is only necessary for the MMAP V1 engine and in particular, the fsyncLock command which needs to first acquire the global lock in X-mode for truncating the journal and then downgrade to S before it blocks.  <a href="#a693562a0483f6793cf6ebd36122595f2">More...</a><br /></td></tr>
<tr class="separator:a693562a0483f6793cf6ebd36122595f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a25471a9785fd95682cf06bc83c744b6e"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1LockerImpl.html#a25471a9785fd95682cf06bc83c744b6e">unlockGlobal</a> ()</td></tr>
<tr class="memdesc:a25471a9785fd95682cf06bc83c744b6e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Decrements the reference count on the global lock.  <a href="#a25471a9785fd95682cf06bc83c744b6e">More...</a><br /></td></tr>
<tr class="separator:a25471a9785fd95682cf06bc83c744b6e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc909e1c84dcf282cac6a782a20563e5"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="namespacemongo.html#aa639063deea016a1dac8f046e93900a6">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1LockerImpl.html#acc909e1c84dcf282cac6a782a20563e5">beginWriteUnitOfWork</a> ()</td></tr>
<tr class="memdesc:acc909e1c84dcf282cac6a782a20563e5"><td class="mdescLeft">&#160;</td><td class="mdescRight">beginWriteUnitOfWork/endWriteUnitOfWork are called at the start and end of WriteUnitOfWorks.  <a href="#acc909e1c84dcf282cac6a782a20563e5">More...</a><br /></td></tr>
<tr class="separator:acc909e1c84dcf282cac6a782a20563e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16a887a4a0e45f4ea5a16abd9aa118ba"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="namespacemongo.html#aa639063deea016a1dac8f046e93900a6">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1LockerImpl.html#a16a887a4a0e45f4ea5a16abd9aa118ba">endWriteUnitOfWork</a> ()</td></tr>
<tr class="separator:a16a887a4a0e45f4ea5a16abd9aa118ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad1b8fa7cd5e95d0e7082d8593ff296c3"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1LockerImpl.html#ad1b8fa7cd5e95d0e7082d8593ff296c3">inAWriteUnitOfWork</a> () const</td></tr>
<tr class="separator:ad1b8fa7cd5e95d0e7082d8593ff296c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a179b77e68f2b296ecdc63136c3ba8ab6"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="namespacemongo.html#af54347edd3ad8dc00c6c27e0816e2dea">LockResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1LockerImpl.html#a179b77e68f2b296ecdc63136c3ba8ab6">lock</a> (OperationContext *<a class="el" href="namespacemongo.html#a15b23ef1d9a7f6cdadbf866f1e8e5043">opCtx</a>, <a class="el" href="classmongo_1_1ResourceId.html">ResourceId</a> resId, <a class="el" href="namespacemongo.html#a9a3ebc0a91ee78ba95fc1ef18a948a2b">LockMode</a> mode, Date_t deadline=Date_t::max(), bool checkDeadlock=false)</td></tr>
<tr class="memdesc:a179b77e68f2b296ecdc63136c3ba8ab6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Requests a lock for resource 'resId' with mode 'mode'.  <a href="#a179b77e68f2b296ecdc63136c3ba8ab6">More...</a><br /></td></tr>
<tr class="separator:a179b77e68f2b296ecdc63136c3ba8ab6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e33cc065fb13bd828aadcf6f12f9edf"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="namespacemongo.html#af54347edd3ad8dc00c6c27e0816e2dea">LockResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1LockerImpl.html#a4e33cc065fb13bd828aadcf6f12f9edf">lock</a> (<a class="el" href="classmongo_1_1ResourceId.html">ResourceId</a> resId, <a class="el" href="namespacemongo.html#a9a3ebc0a91ee78ba95fc1ef18a948a2b">LockMode</a> mode, Date_t deadline=Date_t::max(), bool checkDeadlock=false)</td></tr>
<tr class="memdesc:a4e33cc065fb13bd828aadcf6f12f9edf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calling lock without an OperationContext does not allow LOCK_WAITING states to be interrupted.  <a href="#a4e33cc065fb13bd828aadcf6f12f9edf">More...</a><br /></td></tr>
<tr class="separator:a4e33cc065fb13bd828aadcf6f12f9edf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e30da00a25fc357ccebbe721b538059"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="namespacemongo.html#aa639063deea016a1dac8f046e93900a6">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1LockerImpl.html#a1e30da00a25fc357ccebbe721b538059">downgrade</a> (<a class="el" href="classmongo_1_1ResourceId.html">ResourceId</a> resId, <a class="el" href="namespacemongo.html#a9a3ebc0a91ee78ba95fc1ef18a948a2b">LockMode</a> newMode)</td></tr>
<tr class="memdesc:a1e30da00a25fc357ccebbe721b538059"><td class="mdescLeft">&#160;</td><td class="mdescRight">Downgrades the specified resource's lock mode without changing the reference count.  <a href="#a1e30da00a25fc357ccebbe721b538059">More...</a><br /></td></tr>
<tr class="separator:a1e30da00a25fc357ccebbe721b538059"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab608ef47a3fedf3e5e80e3a593465653"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1LockerImpl.html#ab608ef47a3fedf3e5e80e3a593465653">unlock</a> (<a class="el" href="classmongo_1_1ResourceId.html">ResourceId</a> resId)</td></tr>
<tr class="memdesc:ab608ef47a3fedf3e5e80e3a593465653"><td class="mdescLeft">&#160;</td><td class="mdescRight">Releases a lock previously acquired through a lock call.  <a href="#ab608ef47a3fedf3e5e80e3a593465653">More...</a><br /></td></tr>
<tr class="separator:ab608ef47a3fedf3e5e80e3a593465653"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acaf2ba4e812da09ce1c45ed37d738565"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="namespacemongo.html#a9a3ebc0a91ee78ba95fc1ef18a948a2b">LockMode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1LockerImpl.html#acaf2ba4e812da09ce1c45ed37d738565">getLockMode</a> (<a class="el" href="classmongo_1_1ResourceId.html">ResourceId</a> resId) const</td></tr>
<tr class="memdesc:acaf2ba4e812da09ce1c45ed37d738565"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves the mode in which a lock is held or checks whether the lock held for a particular resource covers the specified mode.  <a href="#acaf2ba4e812da09ce1c45ed37d738565">More...</a><br /></td></tr>
<tr class="separator:acaf2ba4e812da09ce1c45ed37d738565"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a56561c28ec9aa2ebc25295e7fc36a5b7"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1LockerImpl.html#a56561c28ec9aa2ebc25295e7fc36a5b7">isLockHeldForMode</a> (<a class="el" href="classmongo_1_1ResourceId.html">ResourceId</a> resId, <a class="el" href="namespacemongo.html#a9a3ebc0a91ee78ba95fc1ef18a948a2b">LockMode</a> mode) const</td></tr>
<tr class="separator:a56561c28ec9aa2ebc25295e7fc36a5b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa4a875748a0b9898023cb45c6a7446d"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1LockerImpl.html#aaa4a875748a0b9898023cb45c6a7446d">isDbLockedForMode</a> (StringData dbName, <a class="el" href="namespacemongo.html#a9a3ebc0a91ee78ba95fc1ef18a948a2b">LockMode</a> mode) const</td></tr>
<tr class="separator:aaa4a875748a0b9898023cb45c6a7446d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6649874f62a8cdd5221f09163c00d3f2"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1LockerImpl.html#a6649874f62a8cdd5221f09163c00d3f2">isCollectionLockedForMode</a> (StringData <a class="el" href="namespacemongo.html#aa1aad236ca83643ab0718062dd62f4fc">ns</a>, <a class="el" href="namespacemongo.html#a9a3ebc0a91ee78ba95fc1ef18a948a2b">LockMode</a> mode) const</td></tr>
<tr class="separator:a6649874f62a8cdd5221f09163c00d3f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ed094dda7db7d147942b3842a2bdcc7"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classmongo_1_1ResourceId.html">ResourceId</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1LockerImpl.html#a4ed094dda7db7d147942b3842a2bdcc7">getWaitingResource</a> () const</td></tr>
<tr class="memdesc:a4ed094dda7db7d147942b3842a2bdcc7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the resource that this locker is waiting/blocked on (if any).  <a href="#a4ed094dda7db7d147942b3842a2bdcc7">More...</a><br /></td></tr>
<tr class="separator:a4ed094dda7db7d147942b3842a2bdcc7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a77d5334cecfcf5da4ffb1ece721bf43b"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="namespacemongo.html#aa639063deea016a1dac8f046e93900a6">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1LockerImpl.html#a77d5334cecfcf5da4ffb1ece721bf43b">getLockerInfo</a> (<a class="el" href="structmongo_1_1Locker_1_1LockerInfo.html">LockerInfo</a> *lockerInfo) const</td></tr>
<tr class="separator:a77d5334cecfcf5da4ffb1ece721bf43b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b048b62e8671cdc39601db58701c337"><td class="memItemLeft" align="right" valign="top">virtual boost::optional&lt; <a class="el" href="structmongo_1_1Locker_1_1LockerInfo.html">LockerInfo</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1LockerImpl.html#a4b048b62e8671cdc39601db58701c337">getLockerInfo</a> () const final</td></tr>
<tr class="memdesc:a4b048b62e8671cdc39601db58701c337"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns boost::none if this is an instance of <a class="el" href="classmongo_1_1LockerNoop.html" title="Locker, which cannot be used to lock/unlock resources and just returns true for checks for whether a ...">LockerNoop</a>, or a populated LockerInfo otherwise.  <a href="#a4b048b62e8671cdc39601db58701c337">More...</a><br /></td></tr>
<tr class="separator:a4b048b62e8671cdc39601db58701c337"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a57f74c5fb2465b912fe1021e1228b130"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1LockerImpl.html#a57f74c5fb2465b912fe1021e1228b130">saveLockStateAndUnlock</a> (<a class="el" href="structmongo_1_1Locker_1_1LockSnapshot.html">LockSnapshot</a> *stateOut)</td></tr>
<tr class="memdesc:a57f74c5fb2465b912fe1021e1228b130"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves all locks held by this transaction, other than RESOURCE_MUTEX locks, and what mode they're held in.  <a href="#a57f74c5fb2465b912fe1021e1228b130">More...</a><br /></td></tr>
<tr class="separator:a57f74c5fb2465b912fe1021e1228b130"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c18ee5ac579058ce8db79f501724992"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="namespacemongo.html#aa639063deea016a1dac8f046e93900a6">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1LockerImpl.html#a7c18ee5ac579058ce8db79f501724992">restoreLockState</a> (OperationContext *<a class="el" href="namespacemongo.html#a15b23ef1d9a7f6cdadbf866f1e8e5043">opCtx</a>, const <a class="el" href="structmongo_1_1Locker_1_1LockSnapshot.html">LockSnapshot</a> &amp;stateToRestore)</td></tr>
<tr class="memdesc:a7c18ee5ac579058ce8db79f501724992"><td class="mdescLeft">&#160;</td><td class="mdescRight">Re-locks all locks whose state was stored in 'stateToRestore'.  <a href="#a7c18ee5ac579058ce8db79f501724992">More...</a><br /></td></tr>
<tr class="separator:a7c18ee5ac579058ce8db79f501724992"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a854ebed7d0615200c1cb0c6138cbe39b"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="namespacemongo.html#aa639063deea016a1dac8f046e93900a6">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1LockerImpl.html#a854ebed7d0615200c1cb0c6138cbe39b">restoreLockState</a> (const <a class="el" href="structmongo_1_1Locker_1_1LockSnapshot.html">LockSnapshot</a> &amp;stateToRestore)</td></tr>
<tr class="separator:a854ebed7d0615200c1cb0c6138cbe39b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a744aefc2e5818ef096e1208119cb9332"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="namespacemongo.html#aa639063deea016a1dac8f046e93900a6">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1LockerImpl.html#a744aefc2e5818ef096e1208119cb9332">releaseTicket</a> ()</td></tr>
<tr class="memdesc:a744aefc2e5818ef096e1208119cb9332"><td class="mdescLeft">&#160;</td><td class="mdescRight">Releases the ticket associated with the <a class="el" href="classmongo_1_1Locker.html" title="Interface for acquiring locks. ">Locker</a>.  <a href="#a744aefc2e5818ef096e1208119cb9332">More...</a><br /></td></tr>
<tr class="separator:a744aefc2e5818ef096e1208119cb9332"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac7e78b09f64b0825e9c468fab9724af5"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="namespacemongo.html#aa639063deea016a1dac8f046e93900a6">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1LockerImpl.html#ac7e78b09f64b0825e9c468fab9724af5">reacquireTicket</a> (OperationContext *<a class="el" href="namespacemongo.html#a15b23ef1d9a7f6cdadbf866f1e8e5043">opCtx</a>)</td></tr>
<tr class="memdesc:ac7e78b09f64b0825e9c468fab9724af5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reacquires a ticket for the <a class="el" href="classmongo_1_1Locker.html" title="Interface for acquiring locks. ">Locker</a>.  <a href="#ac7e78b09f64b0825e9c468fab9724af5">More...</a><br /></td></tr>
<tr class="separator:ac7e78b09f64b0825e9c468fab9724af5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46568e297c13b6d0b282c87d60f4d851"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacemongo.html#af54347edd3ad8dc00c6c27e0816e2dea">LockResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1LockerImpl.html#a46568e297c13b6d0b282c87d60f4d851">lockBegin</a> (OperationContext *<a class="el" href="namespacemongo.html#a15b23ef1d9a7f6cdadbf866f1e8e5043">opCtx</a>, <a class="el" href="classmongo_1_1ResourceId.html">ResourceId</a> resId, <a class="el" href="namespacemongo.html#a9a3ebc0a91ee78ba95fc1ef18a948a2b">LockMode</a> mode)</td></tr>
<tr class="memdesc:a46568e297c13b6d0b282c87d60f4d851"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allows for lock requests to be requested in a non-blocking way.  <a href="#a46568e297c13b6d0b282c87d60f4d851">More...</a><br /></td></tr>
<tr class="separator:a46568e297c13b6d0b282c87d60f4d851"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf7533f9a1623c8e3f9f10df0e65c685"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacemongo.html#af54347edd3ad8dc00c6c27e0816e2dea">LockResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1LockerImpl.html#acf7533f9a1623c8e3f9f10df0e65c685">lockComplete</a> (OperationContext *<a class="el" href="namespacemongo.html#a15b23ef1d9a7f6cdadbf866f1e8e5043">opCtx</a>, <a class="el" href="classmongo_1_1ResourceId.html">ResourceId</a> resId, <a class="el" href="namespacemongo.html#a9a3ebc0a91ee78ba95fc1ef18a948a2b">LockMode</a> mode, Date_t deadline, bool checkDeadlock)</td></tr>
<tr class="memdesc:acf7533f9a1623c8e3f9f10df0e65c685"><td class="mdescLeft">&#160;</td><td class="mdescRight">Waits for the completion of a lock, previously requested through lockBegin or lockGlobalBegin.  <a href="#acf7533f9a1623c8e3f9f10df0e65c685">More...</a><br /></td></tr>
<tr class="separator:acf7533f9a1623c8e3f9f10df0e65c685"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e13191fb5b133232b9ca84e4c42914e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacemongo.html#af54347edd3ad8dc00c6c27e0816e2dea">LockResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1LockerImpl.html#a9e13191fb5b133232b9ca84e4c42914e">lockComplete</a> (<a class="el" href="classmongo_1_1ResourceId.html">ResourceId</a> resId, <a class="el" href="namespacemongo.html#a9a3ebc0a91ee78ba95fc1ef18a948a2b">LockMode</a> mode, Date_t deadline, bool checkDeadlock)</td></tr>
<tr class="separator:a9e13191fb5b133232b9ca84e4c42914e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a450dd94e881056eb0ef2addc835f4b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classmongo_1_1FastMapNoAlloc.html">FastMapNoAlloc</a>&lt; <a class="el" href="classmongo_1_1ResourceId.html">ResourceId</a>, <a class="el" href="structmongo_1_1LockRequest.html">LockRequest</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1LockerImpl.html#a9a450dd94e881056eb0ef2addc835f4b">getRequestsForTest</a> () const</td></tr>
<tr class="memdesc:a9a450dd94e881056eb0ef2addc835f4b"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function is for unit testing only.  <a href="#a9a450dd94e881056eb0ef2addc835f4b">More...</a><br /></td></tr>
<tr class="separator:a9a450dd94e881056eb0ef2addc835f4b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abec0e7ada9c31a9e4f8d35d71204dc4f"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="namespacemongo.html#aa639063deea016a1dac8f046e93900a6">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1LockerImpl.html#abec0e7ada9c31a9e4f8d35d71204dc4f">dump</a> () const</td></tr>
<tr class="separator:abec0e7ada9c31a9e4f8d35d71204dc4f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab66822b7ada973d946b55ee119b30943"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1LockerImpl.html#ab66822b7ada973d946b55ee119b30943">isW</a> () const</td></tr>
<tr class="separator:ab66822b7ada973d946b55ee119b30943"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f955d0c82b3a78a94619d0b27dc1044"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1LockerImpl.html#a1f955d0c82b3a78a94619d0b27dc1044">isR</a> () const</td></tr>
<tr class="separator:a1f955d0c82b3a78a94619d0b27dc1044"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a2a82f40c48e229e981ed0f050a7230"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1LockerImpl.html#a6a2a82f40c48e229e981ed0f050a7230">isLocked</a> () const</td></tr>
<tr class="separator:a6a2a82f40c48e229e981ed0f050a7230"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a96c45bad6c72299e80ae3c1f83f11b76"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1LockerImpl.html#a96c45bad6c72299e80ae3c1f83f11b76">isWriteLocked</a> () const</td></tr>
<tr class="separator:a96c45bad6c72299e80ae3c1f83f11b76"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abae09f8c61783861f7a20c11ce07bd0e"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1LockerImpl.html#abae09f8c61783861f7a20c11ce07bd0e">isReadLocked</a> () const</td></tr>
<tr class="separator:abae09f8c61783861f7a20c11ce07bd0e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad1d0a75cbb1ab91c34231743a364c92"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1LockerImpl.html#aad1d0a75cbb1ab91c34231743a364c92">isGlobalLockedRecursively</a> () override</td></tr>
<tr class="separator:aad1d0a75cbb1ab91c34231743a364c92"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a518883ab6c32341fa7003fd3a84eda2c"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1LockerImpl.html#a518883ab6c32341fa7003fd3a84eda2c">hasLockPending</a> () const</td></tr>
<tr class="memdesc:a518883ab6c32341fa7003fd3a84eda2c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pending means we are currently trying to get a lock (could be the parallel batch writer lock).  <a href="#a518883ab6c32341fa7003fd3a84eda2c">More...</a><br /></td></tr>
<tr class="separator:a518883ab6c32341fa7003fd3a84eda2c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classmongo_1_1Locker"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classmongo_1_1Locker')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classmongo_1_1Locker.html">mongo::Locker</a></td></tr>
<tr class="memitem:a1c5830580247311e1ae6ba55490d860a inherit pub_methods_classmongo_1_1Locker"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1Locker.html#a1c5830580247311e1ae6ba55490d860a">~Locker</a> ()</td></tr>
<tr class="separator:a1c5830580247311e1ae6ba55490d860a inherit pub_methods_classmongo_1_1Locker"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac27e7f292e2b3d737b8182a0eb3a25cc inherit pub_methods_classmongo_1_1Locker"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1Locker.html#ac27e7f292e2b3d737b8182a0eb3a25cc">isNoop</a> () const</td></tr>
<tr class="memdesc:ac27e7f292e2b3d737b8182a0eb3a25cc inherit pub_methods_classmongo_1_1Locker"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if this is an instance of <a class="el" href="classmongo_1_1LockerNoop.html" title="Locker, which cannot be used to lock/unlock resources and just returns true for checks for whether a ...">LockerNoop</a>.  <a href="classmongo_1_1Locker.html#ac27e7f292e2b3d737b8182a0eb3a25cc">More...</a><br /></td></tr>
<tr class="separator:ac27e7f292e2b3d737b8182a0eb3a25cc inherit pub_methods_classmongo_1_1Locker"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae94b9faef1df1a23e353b09bb778f8cc inherit pub_methods_classmongo_1_1Locker"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacemongo.html#aa639063deea016a1dac8f046e93900a6">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1Locker.html#ae94b9faef1df1a23e353b09bb778f8cc">setShouldConflictWithSecondaryBatchApplication</a> (bool newValue)</td></tr>
<tr class="memdesc:ae94b9faef1df1a23e353b09bb778f8cc inherit pub_methods_classmongo_1_1Locker"><td class="mdescLeft">&#160;</td><td class="mdescRight">If set to false, this opts out of conflicting with replication's use of the ParallelBatchWriterMode lock.  <a href="classmongo_1_1Locker.html#ae94b9faef1df1a23e353b09bb778f8cc">More...</a><br /></td></tr>
<tr class="separator:ae94b9faef1df1a23e353b09bb778f8cc inherit pub_methods_classmongo_1_1Locker"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a587ef968cd89c5d79e34dee55e444656 inherit pub_methods_classmongo_1_1Locker"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1Locker.html#a587ef968cd89c5d79e34dee55e444656">shouldConflictWithSecondaryBatchApplication</a> () const</td></tr>
<tr class="separator:a587ef968cd89c5d79e34dee55e444656 inherit pub_methods_classmongo_1_1Locker"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa328b64d04622634a7bd87656828d88f inherit pub_methods_classmongo_1_1Locker"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacemongo.html#aa639063deea016a1dac8f046e93900a6">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1Locker.html#aa328b64d04622634a7bd87656828d88f">setShouldAcquireTicket</a> (bool newValue)</td></tr>
<tr class="memdesc:aa328b64d04622634a7bd87656828d88f inherit pub_methods_classmongo_1_1Locker"><td class="mdescLeft">&#160;</td><td class="mdescRight">If set to false, this opts out of the ticket mechanism.  <a href="classmongo_1_1Locker.html#aa328b64d04622634a7bd87656828d88f">More...</a><br /></td></tr>
<tr class="separator:aa328b64d04622634a7bd87656828d88f inherit pub_methods_classmongo_1_1Locker"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a05ed3cacd071f0610e20b59adca08a9b inherit pub_methods_classmongo_1_1Locker"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1Locker.html#a05ed3cacd071f0610e20b59adca08a9b">shouldAcquireTicket</a> () const</td></tr>
<tr class="separator:a05ed3cacd071f0610e20b59adca08a9b inherit pub_methods_classmongo_1_1Locker"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3068c40167d05e4679c7cc70ab858b34 inherit pub_methods_classmongo_1_1Locker"><td class="memItemLeft" align="right" valign="top">unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1Locker.html#a3068c40167d05e4679c7cc70ab858b34">numResourcesToUnlockAtEndUnitOfWorkForTest</a> () const</td></tr>
<tr class="memdesc:a3068c40167d05e4679c7cc70ab858b34 inherit pub_methods_classmongo_1_1Locker"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function is for unit testing only.  <a href="classmongo_1_1Locker.html#a3068c40167d05e4679c7cc70ab858b34">More...</a><br /></td></tr>
<tr class="separator:a3068c40167d05e4679c7cc70ab858b34 inherit pub_methods_classmongo_1_1Locker"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-types"></a>
Private Types</h2></td></tr>
<tr class="memitem:a43c481d031f4ec1174e7f4b569c26fc7"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="classmongo_1_1FastMapNoAlloc.html">FastMapNoAlloc</a>&lt; <a class="el" href="classmongo_1_1ResourceId.html">ResourceId</a>, <a class="el" href="structmongo_1_1LockRequest.html">LockRequest</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1LockerImpl.html#a43c481d031f4ec1174e7f4b569c26fc7">LockRequestsMap</a></td></tr>
<tr class="separator:a43c481d031f4ec1174e7f4b569c26fc7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:ae3b860c0d5907f1684bffb23a51ec212"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacemongo.html#af54347edd3ad8dc00c6c27e0816e2dea">LockResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1LockerImpl.html#ae3b860c0d5907f1684bffb23a51ec212">_lockGlobalBegin</a> (OperationContext *<a class="el" href="namespacemongo.html#a15b23ef1d9a7f6cdadbf866f1e8e5043">opCtx</a>, <a class="el" href="namespacemongo.html#a9a3ebc0a91ee78ba95fc1ef18a948a2b">LockMode</a>, Date_t deadline)</td></tr>
<tr class="memdesc:ae3b860c0d5907f1684bffb23a51ec212"><td class="mdescLeft">&#160;</td><td class="mdescRight">Like lockGlobalBegin, but accepts a deadline for acquiring a ticket.  <a href="#ae3b860c0d5907f1684bffb23a51ec212">More...</a><br /></td></tr>
<tr class="separator:ae3b860c0d5907f1684bffb23a51ec212"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea4a77222993f5861120abd4805d18eb"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1LockerImpl.html#aea4a77222993f5861120abd4805d18eb">_unlockImpl</a> (<a class="el" href="classmongo_1_1FastMapNoAlloc.html#a11d69f89804e78db9c362e94908c2cd6">LockRequestsMap::Iterator</a> *<a class="el" href="ephemeral__for__test__btree__impl_8cpp.html#a0ddfc1c8ae8e964f3b74e8d71d19cf95">it</a>)</td></tr>
<tr class="memdesc:aea4a77222993f5861120abd4805d18eb"><td class="mdescLeft">&#160;</td><td class="mdescRight">The main functionality of the unlock method, except accepts iterator in order to avoid additional lookups during unlockGlobal.  <a href="#aea4a77222993f5861120abd4805d18eb">More...</a><br /></td></tr>
<tr class="separator:aea4a77222993f5861120abd4805d18eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a73c2bae63f6e1c13e45dfebed806e749"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacemongo.html#a9a3ebc0a91ee78ba95fc1ef18a948a2b">LockMode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1LockerImpl.html#a73c2bae63f6e1c13e45dfebed806e749">_getModeForMMAPV1FlushLock</a> () const</td></tr>
<tr class="memdesc:a73c2bae63f6e1c13e45dfebed806e749"><td class="mdescLeft">&#160;</td><td class="mdescRight">MMAP V1 locking code yields and re-acquires the flush lock occasionally in order to allow the flush thread proceed.  <a href="#a73c2bae63f6e1c13e45dfebed806e749">More...</a><br /></td></tr>
<tr class="separator:a73c2bae63f6e1c13e45dfebed806e749"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16c1da1d962d3b585589b1839168bb49"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1LockerImpl.html#a16c1da1d962d3b585589b1839168bb49">_shouldDelayUnlock</a> (<a class="el" href="classmongo_1_1ResourceId.html">ResourceId</a> resId, <a class="el" href="namespacemongo.html#a9a3ebc0a91ee78ba95fc1ef18a948a2b">LockMode</a> mode) const</td></tr>
<tr class="memdesc:a16c1da1d962d3b585589b1839168bb49"><td class="mdescLeft">&#160;</td><td class="mdescRight">Whether we should use two phase locking.  <a href="#a16c1da1d962d3b585589b1839168bb49">More...</a><br /></td></tr>
<tr class="separator:a16c1da1d962d3b585589b1839168bb49"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5dc7b4320a251ccb3fa245a030537554"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacemongo.html#aa639063deea016a1dac8f046e93900a6">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1LockerImpl.html#a5dc7b4320a251ccb3fa245a030537554">_releaseTicket</a> ()</td></tr>
<tr class="memdesc:a5dc7b4320a251ccb3fa245a030537554"><td class="mdescLeft">&#160;</td><td class="mdescRight">Releases the ticket for the <a class="el" href="classmongo_1_1Locker.html" title="Interface for acquiring locks. ">Locker</a>.  <a href="#a5dc7b4320a251ccb3fa245a030537554">More...</a><br /></td></tr>
<tr class="separator:a5dc7b4320a251ccb3fa245a030537554"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c7317e0e0d81e65c70d03520edca561"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacemongo.html#af54347edd3ad8dc00c6c27e0816e2dea">LockResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1LockerImpl.html#a1c7317e0e0d81e65c70d03520edca561">_acquireTicket</a> (OperationContext *<a class="el" href="namespacemongo.html#a15b23ef1d9a7f6cdadbf866f1e8e5043">opCtx</a>, <a class="el" href="namespacemongo.html#a9a3ebc0a91ee78ba95fc1ef18a948a2b">LockMode</a> mode, Date_t deadline)</td></tr>
<tr class="memdesc:a1c7317e0e0d81e65c70d03520edca561"><td class="mdescLeft">&#160;</td><td class="mdescRight">Acquires a ticket for the <a class="el" href="classmongo_1_1Locker.html" title="Interface for acquiring locks. ">Locker</a> under 'mode'.  <a href="#a1c7317e0e0d81e65c70d03520edca561">More...</a><br /></td></tr>
<tr class="separator:a1c7317e0e0d81e65c70d03520edca561"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a35783a7f49ae13e870466a728c23d220"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="namespacemongo.html#ad7b6e5bd2d44b9b4fe9031b23492c38a">LockerId</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1LockerImpl.html#a35783a7f49ae13e870466a728c23d220">_id</a></td></tr>
<tr class="separator:a35783a7f49ae13e870466a728c23d220"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6402ad47d374f00d14da9e7dba788649"><td class="memItemLeft" align="right" valign="top">SpinLock&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1LockerImpl.html#a6402ad47d374f00d14da9e7dba788649">_lock</a></td></tr>
<tr class="separator:a6402ad47d374f00d14da9e7dba788649"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ffae261cfbdd556abd43983538bd26b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classmongo_1_1LockerImpl.html#a43c481d031f4ec1174e7f4b569c26fc7">LockRequestsMap</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1LockerImpl.html#a9ffae261cfbdd556abd43983538bd26b">_requests</a></td></tr>
<tr class="separator:a9ffae261cfbdd556abd43983538bd26b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d212fee1cd34de6bc29b2816d1f2cd4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classmongo_1_1CondVarLockGrantNotification.html">CondVarLockGrantNotification</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1LockerImpl.html#a0d212fee1cd34de6bc29b2816d1f2cd4">_notify</a></td></tr>
<tr class="separator:a0d212fee1cd34de6bc29b2816d1f2cd4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6fa704dd3c60ee56723e7e277b4720ee"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacemongo.html#a6d64154a113b299d17bede9f3e27491b">SingleThreadedLockStats</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1LockerImpl.html#a6fa704dd3c60ee56723e7e277b4720ee">_stats</a></td></tr>
<tr class="separator:a6fa704dd3c60ee56723e7e277b4720ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a44f7023efc0c8c309a5f941ad61112b7"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1LockerImpl.html#a44f7023efc0c8c309a5f941ad61112b7">_wuowNestingLevel</a></td></tr>
<tr class="separator:a44f7023efc0c8c309a5f941ad61112b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3cebabbf2708e628af24e56820c9d215"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacemongo.html#a9a3ebc0a91ee78ba95fc1ef18a948a2b">LockMode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1LockerImpl.html#a3cebabbf2708e628af24e56820c9d215">_modeForTicket</a> = <a class="el" href="namespacemongo.html#a9a3ebc0a91ee78ba95fc1ef18a948a2baa625d3d8cf5b7d884d2506c3a9d09dc1">MODE_NONE</a></td></tr>
<tr class="separator:a3cebabbf2708e628af24e56820c9d215"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afac2043619cc3aaa234ae78a73a50ad8"><td class="memItemLeft" align="right" valign="top">AtomicWord&lt; <a class="el" href="classmongo_1_1Locker.html#ac2bef72f3b29c8a23df4e3e8eba7396b">ClientState</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1LockerImpl.html#afac2043619cc3aaa234ae78a73a50ad8">_clientState</a> {<a class="el" href="classmongo_1_1Locker.html#ac2bef72f3b29c8a23df4e3e8eba7396ba0111dd42dd167087894c4d0540305679">kInactive</a>}</td></tr>
<tr class="separator:afac2043619cc3aaa234ae78a73a50ad8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23158d02ba6c577913efd7b1cec55cd7"><td class="memItemLeft" align="right" valign="top">stdx::thread::id&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1LockerImpl.html#a23158d02ba6c577913efd7b1cec55cd7">_threadId</a></td></tr>
<tr class="separator:a23158d02ba6c577913efd7b1cec55cd7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2799368a3c3946723051791304998528"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1LockerImpl.html#a2799368a3c3946723051791304998528">_sharedLocksShouldTwoPhaseLock</a> = false</td></tr>
<tr class="separator:a2799368a3c3946723051791304998528"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20193cfb2e257b636b2e8e68363802a7"><td class="memItemLeft" align="right" valign="top">boost::optional&lt; Milliseconds &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1LockerImpl.html#a20193cfb2e257b636b2e8e68363802a7">_maxLockTimeout</a></td></tr>
<tr class="separator:a20193cfb2e257b636b2e8e68363802a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="friends"></a>
Friends</h2></td></tr>
<tr class="memitem:a111c2e052e7bec29ea060592d0a12ea4"><td class="memItemLeft" align="right" valign="top">class&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1LockerImpl.html#a111c2e052e7bec29ea060592d0a12ea4">AutoYieldFlushLockForMMAPV1Commit</a></td></tr>
<tr class="separator:a111c2e052e7bec29ea060592d0a12ea4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pub_types_classmongo_1_1Locker"><td colspan="2" onclick="javascript:toggleInherit('pub_types_classmongo_1_1Locker')"><img src="closed.png" alt="-"/>&#160;Public Types inherited from <a class="el" href="classmongo_1_1Locker.html">mongo::Locker</a></td></tr>
<tr class="memitem:ac2bef72f3b29c8a23df4e3e8eba7396b inherit pub_types_classmongo_1_1Locker"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1Locker.html#ac2bef72f3b29c8a23df4e3e8eba7396b">ClientState</a> { <br />
&#160;&#160;<a class="el" href="classmongo_1_1Locker.html#ac2bef72f3b29c8a23df4e3e8eba7396ba0111dd42dd167087894c4d0540305679">kInactive</a>, 
<a class="el" href="classmongo_1_1Locker.html#ac2bef72f3b29c8a23df4e3e8eba7396ba2bc2ca3b799c4fe6401e6edb3dd29d2e">kActiveReader</a>, 
<a class="el" href="classmongo_1_1Locker.html#ac2bef72f3b29c8a23df4e3e8eba7396ba1c44a0c7b6f988e21362efd31325f71a">kActiveWriter</a>, 
<a class="el" href="classmongo_1_1Locker.html#ac2bef72f3b29c8a23df4e3e8eba7396bad06508796f0cf8cfb5e05df4ad30b2b8">kQueuedReader</a>, 
<br />
&#160;&#160;<a class="el" href="classmongo_1_1Locker.html#ac2bef72f3b29c8a23df4e3e8eba7396ba091e01efc9f2e477c93e26224e5e18a6">kQueuedWriter</a>
<br />
 }<tr class="memdesc:ac2bef72f3b29c8a23df4e3e8eba7396b"><td class="mdescLeft">&#160;</td><td class="mdescRight">State for reporting the number of active and queued reader and writer clients.  <a href="classmongo_1_1Locker.html#ac2bef72f3b29c8a23df4e3e8eba7396b">More...</a><br /></td></tr>
</td></tr>
<tr class="separator:ac2bef72f3b29c8a23df4e3e8eba7396b inherit pub_types_classmongo_1_1Locker"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_static_methods_classmongo_1_1Locker"><td colspan="2" onclick="javascript:toggleInherit('pub_static_methods_classmongo_1_1Locker')"><img src="closed.png" alt="-"/>&#160;Static Public Member Functions inherited from <a class="el" href="classmongo_1_1Locker.html">mongo::Locker</a></td></tr>
<tr class="memitem:a2f2acb3bc1115d2c0b7f7a41640a5b11 inherit pub_static_methods_classmongo_1_1Locker"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="namespacemongo.html#aa639063deea016a1dac8f046e93900a6">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1Locker.html#a2f2acb3bc1115d2c0b7f7a41640a5b11">setGlobalThrottling</a> (class TicketHolder *reading, class TicketHolder *writing)</td></tr>
<tr class="memdesc:a2f2acb3bc1115d2c0b7f7a41640a5b11 inherit pub_static_methods_classmongo_1_1Locker"><td class="mdescLeft">&#160;</td><td class="mdescRight">Require global lock attempts to obtain tickets from 'reading' (for MODE_S and MODE_IS), and from 'writing' (for MODE_IX), which must have static lifetimes.  <a href="classmongo_1_1Locker.html#a2f2acb3bc1115d2c0b7f7a41640a5b11">More...</a><br /></td></tr>
<tr class="separator:a2f2acb3bc1115d2c0b7f7a41640a5b11 inherit pub_static_methods_classmongo_1_1Locker"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_methods_classmongo_1_1Locker"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_classmongo_1_1Locker')"><img src="closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="classmongo_1_1Locker.html">mongo::Locker</a></td></tr>
<tr class="memitem:aca0763e95e85e3ed6972ef6cb245fdb3 inherit pro_methods_classmongo_1_1Locker"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1Locker.html#aca0763e95e85e3ed6972ef6cb245fdb3">Locker</a> ()</td></tr>
<tr class="separator:aca0763e95e85e3ed6972ef6cb245fdb3 inherit pro_methods_classmongo_1_1Locker"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_attribs_classmongo_1_1Locker"><td colspan="2" onclick="javascript:toggleInherit('pro_attribs_classmongo_1_1Locker')"><img src="closed.png" alt="-"/>&#160;Protected Attributes inherited from <a class="el" href="classmongo_1_1Locker.html">mongo::Locker</a></td></tr>
<tr class="memitem:a5e907d7c1a238d90330768e7444430f4 inherit pro_attribs_classmongo_1_1Locker"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1Locker.html#a5e907d7c1a238d90330768e7444430f4">_uninterruptibleLocksRequested</a> = 0</td></tr>
<tr class="memdesc:a5e907d7c1a238d90330768e7444430f4 inherit pro_attribs_classmongo_1_1Locker"><td class="mdescLeft">&#160;</td><td class="mdescRight">The number of callers that are guarding from lock interruptions.  <a href="classmongo_1_1Locker.html#a5e907d7c1a238d90330768e7444430f4">More...</a><br /></td></tr>
<tr class="separator:a5e907d7c1a238d90330768e7444430f4 inherit pro_attribs_classmongo_1_1Locker"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae43ef3425b55d3cc48fb2e1d3f680379 inherit pro_attribs_classmongo_1_1Locker"><td class="memItemLeft" align="right" valign="top">unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1Locker.html#ae43ef3425b55d3cc48fb2e1d3f680379">_numResourcesToUnlockAtEndUnitOfWork</a> = 0</td></tr>
<tr class="memdesc:ae43ef3425b55d3cc48fb2e1d3f680379 inherit pro_attribs_classmongo_1_1Locker"><td class="mdescLeft">&#160;</td><td class="mdescRight">The number of LockRequests to unlock at the end of this WUOW.  <a href="classmongo_1_1Locker.html#ae43ef3425b55d3cc48fb2e1d3f680379">More...</a><br /></td></tr>
<tr class="separator:ae43ef3425b55d3cc48fb2e1d3f680379 inherit pro_attribs_classmongo_1_1Locker"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Member Typedef Documentation</h2>
<a id="a43c481d031f4ec1174e7f4b569c26fc7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a43c481d031f4ec1174e7f4b569c26fc7">&#9670;&nbsp;</a></span>LockRequestsMap</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;bool IsForMMAPV1&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="classmongo_1_1FastMapNoAlloc.html">FastMapNoAlloc</a>&lt;<a class="el" href="classmongo_1_1ResourceId.html">ResourceId</a>, <a class="el" href="structmongo_1_1LockRequest.html">LockRequest</a>&gt; <a class="el" href="classmongo_1_1LockerImpl.html">mongo::LockerImpl</a>&lt; IsForMMAPV1 &gt;::<a class="el" href="classmongo_1_1LockerImpl.html#a43c481d031f4ec1174e7f4b569c26fc7">LockRequestsMap</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a190718f908a08d7bda753029d51e0391"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a190718f908a08d7bda753029d51e0391">&#9670;&nbsp;</a></span>LockerImpl()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;bool IsForMMAPV1&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classmongo_1_1LockerImpl.html">mongo::LockerImpl</a>&lt; IsForMMAPV1 &gt;::<a class="el" href="classmongo_1_1LockerImpl.html">LockerImpl</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Instantiates new locker. </p>
<p>Must be given a unique identifier for disambiguation. Lockers having the same identifier will not conflict on lock acquisition. </p>

</div>
</div>
<a id="ac84e6d0d075d68373d97b5e1d2e932ef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac84e6d0d075d68373d97b5e1d2e932ef">&#9670;&nbsp;</a></span>~LockerImpl()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;bool IsForMMAPV1&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classmongo_1_1LockerImpl.html">mongo::LockerImpl</a>&lt; IsForMMAPV1 &gt;::~<a class="el" href="classmongo_1_1LockerImpl.html">LockerImpl</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a1c7317e0e0d81e65c70d03520edca561"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1c7317e0e0d81e65c70d03520edca561">&#9670;&nbsp;</a></span>_acquireTicket()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;bool IsForMMAPV1&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacemongo.html#af54347edd3ad8dc00c6c27e0816e2dea">LockResult</a> <a class="el" href="classmongo_1_1LockerImpl.html">mongo::LockerImpl</a>&lt; IsForMMAPV1 &gt;::_acquireTicket </td>
          <td>(</td>
          <td class="paramtype">OperationContext *&#160;</td>
          <td class="paramname"><em>opCtx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacemongo.html#a9a3ebc0a91ee78ba95fc1ef18a948a2b">LockMode</a>&#160;</td>
          <td class="paramname"><em>mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Date_t&#160;</td>
          <td class="paramname"><em>deadline</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Acquires a ticket for the <a class="el" href="classmongo_1_1Locker.html" title="Interface for acquiring locks. ">Locker</a> under 'mode'. </p>
<p>Returns LOCK_TIMEOUT if it cannot acquire a ticket within 'deadline'. </p>

</div>
</div>
<a id="a73c2bae63f6e1c13e45dfebed806e749"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a73c2bae63f6e1c13e45dfebed806e749">&#9670;&nbsp;</a></span>_getModeForMMAPV1FlushLock()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;bool IsForMMAPV1&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacemongo.html#a9a3ebc0a91ee78ba95fc1ef18a948a2b">LockMode</a> <a class="el" href="classmongo_1_1LockerImpl.html">mongo::LockerImpl</a>&lt; IsForMMAPV1 &gt;::_getModeForMMAPV1FlushLock </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>MMAP V1 locking code yields and re-acquires the flush lock occasionally in order to allow the flush thread proceed. </p>
<p>This call returns in what mode the flush lock should be acquired. It is based on the type of the operation (IS for readers, IX for writers). </p>

</div>
</div>
<a id="ae3b860c0d5907f1684bffb23a51ec212"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae3b860c0d5907f1684bffb23a51ec212">&#9670;&nbsp;</a></span>_lockGlobalBegin()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;bool IsForMMAPV1&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacemongo.html#af54347edd3ad8dc00c6c27e0816e2dea">LockResult</a> <a class="el" href="classmongo_1_1LockerImpl.html">mongo::LockerImpl</a>&lt; IsForMMAPV1 &gt;::_lockGlobalBegin </td>
          <td>(</td>
          <td class="paramtype">OperationContext *&#160;</td>
          <td class="paramname"><em>opCtx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacemongo.html#a9a3ebc0a91ee78ba95fc1ef18a948a2b">LockMode</a>&#160;</td>
          <td class="paramname"><em>mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Date_t&#160;</td>
          <td class="paramname"><em>deadline</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Like lockGlobalBegin, but accepts a deadline for acquiring a ticket. </p>

</div>
</div>
<a id="a5dc7b4320a251ccb3fa245a030537554"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5dc7b4320a251ccb3fa245a030537554">&#9670;&nbsp;</a></span>_releaseTicket()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;bool IsForMMAPV1&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacemongo.html#aa639063deea016a1dac8f046e93900a6">void</a> <a class="el" href="classmongo_1_1LockerImpl.html">mongo::LockerImpl</a>&lt; IsForMMAPV1 &gt;::_releaseTicket </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Releases the ticket for the <a class="el" href="classmongo_1_1Locker.html" title="Interface for acquiring locks. ">Locker</a>. </p>

</div>
</div>
<a id="a16c1da1d962d3b585589b1839168bb49"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a16c1da1d962d3b585589b1839168bb49">&#9670;&nbsp;</a></span>_shouldDelayUnlock()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;bool IsForMMAPV1&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classmongo_1_1LockerImpl.html">mongo::LockerImpl</a>&lt; IsForMMAPV1 &gt;::_shouldDelayUnlock </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classmongo_1_1ResourceId.html">ResourceId</a>&#160;</td>
          <td class="paramname"><em>resId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacemongo.html#a9a3ebc0a91ee78ba95fc1ef18a948a2b">LockMode</a>&#160;</td>
          <td class="paramname"><em>mode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Whether we should use two phase locking. </p>
<p>Returns true if the particular lock's release should be delayed until the end of the operation.</p>
<p>We delay release of write operation locks (X, IX) in order to ensure that the data changes they protect are committed successfully. endWriteUnitOfWork will release them afterwards. This protects other threads from seeing inconsistent in-memory state.</p>
<p>Shared locks (S, IS) will also participate in two-phase locking if '_sharedLocksShouldTwoPhaseLock' is true. This will protect open storage engine transactions across network calls. </p>

</div>
</div>
<a id="aea4a77222993f5861120abd4805d18eb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aea4a77222993f5861120abd4805d18eb">&#9670;&nbsp;</a></span>_unlockImpl()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;bool IsForMMAPV1&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classmongo_1_1LockerImpl.html">mongo::LockerImpl</a>&lt; IsForMMAPV1 &gt;::_unlockImpl </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classmongo_1_1FastMapNoAlloc.html#a11d69f89804e78db9c362e94908c2cd6">LockRequestsMap::Iterator</a> *&#160;</td>
          <td class="paramname"><em>it</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The main functionality of the unlock method, except accepts iterator in order to avoid additional lookups during unlockGlobal. </p>
<p>Frees locks immediately, so must not be called from inside a WUOW. </p>

</div>
</div>
<a id="acc909e1c84dcf282cac6a782a20563e5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acc909e1c84dcf282cac6a782a20563e5">&#9670;&nbsp;</a></span>beginWriteUnitOfWork()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;bool IsForMMAPV1&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacemongo.html#aa639063deea016a1dac8f046e93900a6">void</a> <a class="el" href="classmongo_1_1LockerImpl.html">mongo::LockerImpl</a>&lt; IsForMMAPV1 &gt;::beginWriteUnitOfWork </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>beginWriteUnitOfWork/endWriteUnitOfWork are called at the start and end of WriteUnitOfWorks. </p>
<p>They can be used to implement two-phase locking. Each call to begin should be matched with an eventual call to end.</p>
<p>endWriteUnitOfWork, if not called in a nested WUOW, will release all two-phase locking held lock resources. </p>

<p>Implements <a class="el" href="classmongo_1_1Locker.html#a8841f068962cec27d1d94af169e79773">mongo::Locker</a>.</p>

</div>
</div>
<a id="a1e30da00a25fc357ccebbe721b538059"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1e30da00a25fc357ccebbe721b538059">&#9670;&nbsp;</a></span>downgrade()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;bool IsForMMAPV1&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacemongo.html#aa639063deea016a1dac8f046e93900a6">void</a> <a class="el" href="classmongo_1_1LockerImpl.html">mongo::LockerImpl</a>&lt; IsForMMAPV1 &gt;::downgrade </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classmongo_1_1ResourceId.html">ResourceId</a>&#160;</td>
          <td class="paramname"><em>resId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacemongo.html#a9a3ebc0a91ee78ba95fc1ef18a948a2b">LockMode</a>&#160;</td>
          <td class="paramname"><em>newMode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Downgrades the specified resource's lock mode without changing the reference count. </p>

<p>Implements <a class="el" href="classmongo_1_1Locker.html#aa4a1bcd458d42b5fe709fdc776bd7ce0">mongo::Locker</a>.</p>

</div>
</div>
<a id="a693562a0483f6793cf6ebd36122595f2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a693562a0483f6793cf6ebd36122595f2">&#9670;&nbsp;</a></span>downgradeGlobalXtoSForMMAPV1()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;bool IsForMMAPV1&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacemongo.html#aa639063deea016a1dac8f046e93900a6">void</a> <a class="el" href="classmongo_1_1LockerImpl.html">mongo::LockerImpl</a>&lt; IsForMMAPV1 &gt;::downgradeGlobalXtoSForMMAPV1 </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This is only necessary for the MMAP V1 engine and in particular, the fsyncLock command which needs to first acquire the global lock in X-mode for truncating the journal and then downgrade to S before it blocks. </p>
<p>The downgrade is necessary in order to be nice and not block readers while under fsyncLock. </p>

<p>Implements <a class="el" href="classmongo_1_1Locker.html#a17c4b395a017ddd958f37e5a96609ad9">mongo::Locker</a>.</p>

</div>
</div>
<a id="abec0e7ada9c31a9e4f8d35d71204dc4f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abec0e7ada9c31a9e4f8d35d71204dc4f">&#9670;&nbsp;</a></span>dump()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;bool IsForMMAPV1&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacemongo.html#aa639063deea016a1dac8f046e93900a6">void</a> <a class="el" href="classmongo_1_1LockerImpl.html">mongo::LockerImpl</a>&lt; IsForMMAPV1 &gt;::dump </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="classmongo_1_1Locker.html#ae9b717f9cea0c297525991d33e8b235e">mongo::Locker</a>.</p>

</div>
</div>
<a id="a16a887a4a0e45f4ea5a16abd9aa118ba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a16a887a4a0e45f4ea5a16abd9aa118ba">&#9670;&nbsp;</a></span>endWriteUnitOfWork()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;bool IsForMMAPV1&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacemongo.html#aa639063deea016a1dac8f046e93900a6">void</a> <a class="el" href="classmongo_1_1LockerImpl.html">mongo::LockerImpl</a>&lt; IsForMMAPV1 &gt;::endWriteUnitOfWork </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="classmongo_1_1Locker.html#a4fada3707631d104963e19c42e903dd9">mongo::Locker</a>.</p>

</div>
</div>
<a id="a898868ff0b189458e9ccf6e7912b1c7c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a898868ff0b189458e9ccf6e7912b1c7c">&#9670;&nbsp;</a></span>getClientState()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;bool IsForMMAPV1&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classmongo_1_1Locker.html#ac2bef72f3b29c8a23df4e3e8eba7396b">Locker::ClientState</a> <a class="el" href="classmongo_1_1LockerImpl.html">mongo::LockerImpl</a>&lt; IsForMMAPV1 &gt;::getClientState </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return whether client is holding any locks (active), or is queued on any locks or waiting for a ticket (throttled). </p>

<p>Implements <a class="el" href="classmongo_1_1Locker.html#a66ca7b0475c0aab5ae4a3d876a2414db">mongo::Locker</a>.</p>

</div>
</div>
<a id="a25e6346558e7722752a6685cf0b5165a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a25e6346558e7722752a6685cf0b5165a">&#9670;&nbsp;</a></span>getId()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;bool IsForMMAPV1&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="namespacemongo.html#ad7b6e5bd2d44b9b4fe9031b23492c38a">LockerId</a> <a class="el" href="classmongo_1_1LockerImpl.html">mongo::LockerImpl</a>&lt; IsForMMAPV1 &gt;::getId </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="classmongo_1_1Locker.html#ab5759e316cf858d591f108957942b179">mongo::Locker</a>.</p>

</div>
</div>
<a id="a77d5334cecfcf5da4ffb1ece721bf43b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a77d5334cecfcf5da4ffb1ece721bf43b">&#9670;&nbsp;</a></span>getLockerInfo() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;bool IsForMMAPV1&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacemongo.html#aa639063deea016a1dac8f046e93900a6">void</a> <a class="el" href="classmongo_1_1LockerImpl.html">mongo::LockerImpl</a>&lt; IsForMMAPV1 &gt;::getLockerInfo </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structmongo_1_1Locker_1_1LockerInfo.html">LockerInfo</a> *&#160;</td>
          <td class="paramname"><em>lockerInfo</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="classmongo_1_1Locker.html#abc9e29a5656ea9b6181824e1a01f6c5e">mongo::Locker</a>.</p>

</div>
</div>
<a id="a4b048b62e8671cdc39601db58701c337"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4b048b62e8671cdc39601db58701c337">&#9670;&nbsp;</a></span>getLockerInfo() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;bool IsForMMAPV1&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">boost::optional&lt; <a class="el" href="structmongo_1_1Locker_1_1LockerInfo.html">Locker::LockerInfo</a> &gt; <a class="el" href="classmongo_1_1LockerImpl.html">mongo::LockerImpl</a>&lt; IsForMMAPV1 &gt;::getLockerInfo </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">final</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns boost::none if this is an instance of <a class="el" href="classmongo_1_1LockerNoop.html" title="Locker, which cannot be used to lock/unlock resources and just returns true for checks for whether a ...">LockerNoop</a>, or a populated LockerInfo otherwise. </p>

<p>Implements <a class="el" href="classmongo_1_1Locker.html#ac37f576922a90a10cabb5b43b9af22ce">mongo::Locker</a>.</p>

</div>
</div>
<a id="acaf2ba4e812da09ce1c45ed37d738565"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acaf2ba4e812da09ce1c45ed37d738565">&#9670;&nbsp;</a></span>getLockMode()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;bool IsForMMAPV1&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacemongo.html#a9a3ebc0a91ee78ba95fc1ef18a948a2b">LockMode</a> <a class="el" href="classmongo_1_1LockerImpl.html">mongo::LockerImpl</a>&lt; IsForMMAPV1 &gt;::getLockMode </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classmongo_1_1ResourceId.html">ResourceId</a>&#160;</td>
          <td class="paramname"><em>resId</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Retrieves the mode in which a lock is held or checks whether the lock held for a particular resource covers the specified mode. </p>
<p>For example isLockHeldForMode will return true for MODE_S, if MODE_X is already held, because MODE_X covers MODE_S. </p>

<p>Implements <a class="el" href="classmongo_1_1Locker.html#a9f28579c03a4265408543667d6651ec2">mongo::Locker</a>.</p>

</div>
</div>
<a id="a9a450dd94e881056eb0ef2addc835f4b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9a450dd94e881056eb0ef2addc835f4b">&#9670;&nbsp;</a></span>getRequestsForTest()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;bool IsForMMAPV1&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classmongo_1_1FastMapNoAlloc.html">FastMapNoAlloc</a>&lt;<a class="el" href="classmongo_1_1ResourceId.html">ResourceId</a>, <a class="el" href="structmongo_1_1LockRequest.html">LockRequest</a>&gt; <a class="el" href="classmongo_1_1LockerImpl.html">mongo::LockerImpl</a>&lt; IsForMMAPV1 &gt;::getRequestsForTest </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This function is for unit testing only. </p>

</div>
</div>
<a id="a0a59b50fbec6af980488c6964f292e60"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0a59b50fbec6af980488c6964f292e60">&#9670;&nbsp;</a></span>getThreadId()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;bool IsForMMAPV1&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">stdx::thread::id <a class="el" href="classmongo_1_1LockerImpl.html">mongo::LockerImpl</a>&lt; IsForMMAPV1 &gt;::getThreadId </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get a platform-specific thread identifier of the thread which owns the this locker for tracing purposes. </p>

<p>Implements <a class="el" href="classmongo_1_1Locker.html#a5d16c4f59aa603016c9798c371aca4b3">mongo::Locker</a>.</p>

</div>
</div>
<a id="a4ed094dda7db7d147942b3842a2bdcc7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4ed094dda7db7d147942b3842a2bdcc7">&#9670;&nbsp;</a></span>getWaitingResource()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;bool IsForMMAPV1&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classmongo_1_1ResourceId.html">ResourceId</a> <a class="el" href="classmongo_1_1LockerImpl.html">mongo::LockerImpl</a>&lt; IsForMMAPV1 &gt;::getWaitingResource </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the resource that this locker is waiting/blocked on (if any). </p>
<p>If the locker is not waiting for a resource the returned value will be invalid (isValid() == false). </p>

<p>Implements <a class="el" href="classmongo_1_1Locker.html#ac028513cbbe7b406f3d1ad9a9897a0b7">mongo::Locker</a>.</p>

</div>
</div>
<a id="a518883ab6c32341fa7003fd3a84eda2c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a518883ab6c32341fa7003fd3a84eda2c">&#9670;&nbsp;</a></span>hasLockPending()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;bool IsForMMAPV1&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool <a class="el" href="classmongo_1_1LockerImpl.html">mongo::LockerImpl</a>&lt; IsForMMAPV1 &gt;::hasLockPending </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Pending means we are currently trying to get a lock (could be the parallel batch writer lock). </p>

<p>Implements <a class="el" href="classmongo_1_1Locker.html#ab083c62d3b5a2a0001d295a13231e75b">mongo::Locker</a>.</p>

</div>
</div>
<a id="a59bbba14265db2373e5ca7e67f87b7cb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a59bbba14265db2373e5ca7e67f87b7cb">&#9670;&nbsp;</a></span>hasMaxLockTimeout()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;bool IsForMMAPV1&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classmongo_1_1LockerImpl.html">mongo::LockerImpl</a>&lt; IsForMMAPV1 &gt;::hasMaxLockTimeout </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns whether this <a class="el" href="classmongo_1_1Locker.html" title="Interface for acquiring locks. ">Locker</a> has a maximum lock timeout set. </p>

<p>Implements <a class="el" href="classmongo_1_1Locker.html#aaf58100e54f134e14666b32574d1cc55">mongo::Locker</a>.</p>

</div>
</div>
<a id="ad1b8fa7cd5e95d0e7082d8593ff296c3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad1b8fa7cd5e95d0e7082d8593ff296c3">&#9670;&nbsp;</a></span>inAWriteUnitOfWork()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;bool IsForMMAPV1&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool <a class="el" href="classmongo_1_1LockerImpl.html">mongo::LockerImpl</a>&lt; IsForMMAPV1 &gt;::inAWriteUnitOfWork </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="classmongo_1_1Locker.html#ae66bf1b8fc7bfbec0682e8b2d992bc53">mongo::Locker</a>.</p>

</div>
</div>
<a id="a6649874f62a8cdd5221f09163c00d3f2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6649874f62a8cdd5221f09163c00d3f2">&#9670;&nbsp;</a></span>isCollectionLockedForMode()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;bool IsForMMAPV1&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classmongo_1_1LockerImpl.html">mongo::LockerImpl</a>&lt; IsForMMAPV1 &gt;::isCollectionLockedForMode </td>
          <td>(</td>
          <td class="paramtype">StringData&#160;</td>
          <td class="paramname"><em>ns</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacemongo.html#a9a3ebc0a91ee78ba95fc1ef18a948a2b">LockMode</a>&#160;</td>
          <td class="paramname"><em>mode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="classmongo_1_1Locker.html#a85536052d5cb8ec45f336c6f03ada86d">mongo::Locker</a>.</p>

</div>
</div>
<a id="aaa4a875748a0b9898023cb45c6a7446d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaa4a875748a0b9898023cb45c6a7446d">&#9670;&nbsp;</a></span>isDbLockedForMode()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;bool IsForMMAPV1&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classmongo_1_1LockerImpl.html">mongo::LockerImpl</a>&lt; IsForMMAPV1 &gt;::isDbLockedForMode </td>
          <td>(</td>
          <td class="paramtype">StringData&#160;</td>
          <td class="paramname"><em>dbName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacemongo.html#a9a3ebc0a91ee78ba95fc1ef18a948a2b">LockMode</a>&#160;</td>
          <td class="paramname"><em>mode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="classmongo_1_1Locker.html#a036cb9a09e5b1a4f228c306119eca616">mongo::Locker</a>.</p>

</div>
</div>
<a id="aad1d0a75cbb1ab91c34231743a364c92"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aad1d0a75cbb1ab91c34231743a364c92">&#9670;&nbsp;</a></span>isGlobalLockedRecursively()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;bool IsForMMAPV1&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classmongo_1_1LockerImpl.html">mongo::LockerImpl</a>&lt; IsForMMAPV1 &gt;::isGlobalLockedRecursively </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="classmongo_1_1Locker.html#a1e9388a42f266d968b226193dff17174">mongo::Locker</a>.</p>

</div>
</div>
<a id="a6a2a82f40c48e229e981ed0f050a7230"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6a2a82f40c48e229e981ed0f050a7230">&#9670;&nbsp;</a></span>isLocked()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;bool IsForMMAPV1&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classmongo_1_1LockerImpl.html">mongo::LockerImpl</a>&lt; IsForMMAPV1 &gt;::isLocked </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="classmongo_1_1Locker.html#a21cc3c68d207730dff4603b67f56ab0f">mongo::Locker</a>.</p>

</div>
</div>
<a id="a56561c28ec9aa2ebc25295e7fc36a5b7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a56561c28ec9aa2ebc25295e7fc36a5b7">&#9670;&nbsp;</a></span>isLockHeldForMode()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;bool IsForMMAPV1&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classmongo_1_1LockerImpl.html">mongo::LockerImpl</a>&lt; IsForMMAPV1 &gt;::isLockHeldForMode </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classmongo_1_1ResourceId.html">ResourceId</a>&#160;</td>
          <td class="paramname"><em>resId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacemongo.html#a9a3ebc0a91ee78ba95fc1ef18a948a2b">LockMode</a>&#160;</td>
          <td class="paramname"><em>mode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="classmongo_1_1Locker.html#a8559abc548eaa478165993d6d76c643b">mongo::Locker</a>.</p>

</div>
</div>
<a id="a1f955d0c82b3a78a94619d0b27dc1044"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1f955d0c82b3a78a94619d0b27dc1044">&#9670;&nbsp;</a></span>isR()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;bool IsForMMAPV1&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classmongo_1_1LockerImpl.html">mongo::LockerImpl</a>&lt; IsForMMAPV1 &gt;::isR </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="classmongo_1_1Locker.html#a21214ab42c4475d51efff2f79bf75a33">mongo::Locker</a>.</p>

</div>
</div>
<a id="abae09f8c61783861f7a20c11ce07bd0e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abae09f8c61783861f7a20c11ce07bd0e">&#9670;&nbsp;</a></span>isReadLocked()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;bool IsForMMAPV1&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classmongo_1_1LockerImpl.html">mongo::LockerImpl</a>&lt; IsForMMAPV1 &gt;::isReadLocked </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="classmongo_1_1Locker.html#a93923186a25c568fd948fef28a59a7dd">mongo::Locker</a>.</p>

</div>
</div>
<a id="ab66822b7ada973d946b55ee119b30943"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab66822b7ada973d946b55ee119b30943">&#9670;&nbsp;</a></span>isW()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;bool IsForMMAPV1&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classmongo_1_1LockerImpl.html">mongo::LockerImpl</a>&lt; IsForMMAPV1 &gt;::isW </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="classmongo_1_1Locker.html#af942161dc4ac9ebbc37c0a10fe8fc460">mongo::Locker</a>.</p>

</div>
</div>
<a id="a96c45bad6c72299e80ae3c1f83f11b76"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a96c45bad6c72299e80ae3c1f83f11b76">&#9670;&nbsp;</a></span>isWriteLocked()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;bool IsForMMAPV1&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classmongo_1_1LockerImpl.html">mongo::LockerImpl</a>&lt; IsForMMAPV1 &gt;::isWriteLocked </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="classmongo_1_1Locker.html#ac7b4b7643ddc484609df324e7d201a15">mongo::Locker</a>.</p>

</div>
</div>
<a id="a179b77e68f2b296ecdc63136c3ba8ab6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a179b77e68f2b296ecdc63136c3ba8ab6">&#9670;&nbsp;</a></span>lock() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;bool IsForMMAPV1&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacemongo.html#af54347edd3ad8dc00c6c27e0816e2dea">LockResult</a> <a class="el" href="classmongo_1_1LockerImpl.html">mongo::LockerImpl</a>&lt; IsForMMAPV1 &gt;::lock </td>
          <td>(</td>
          <td class="paramtype">OperationContext *&#160;</td>
          <td class="paramname"><em>opCtx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classmongo_1_1ResourceId.html">ResourceId</a>&#160;</td>
          <td class="paramname"><em>resId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacemongo.html#a9a3ebc0a91ee78ba95fc1ef18a948a2b">LockMode</a>&#160;</td>
          <td class="paramname"><em>mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Date_t&#160;</td>
          <td class="paramname"><em>deadline</em> = <code>Date_t::max()</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>checkDeadlock</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Requests a lock for resource 'resId' with mode 'mode'. </p>
<p>An OperationContext 'opCtx' must be provided to interrupt waiting on the locker condition variable that indicates status of the lock acquisition. A lock operation would otherwise wait until a timeout or the lock is granted. </p>

<p>Implements <a class="el" href="classmongo_1_1Locker.html#a6921b0cb889468fab89a2519a068abad">mongo::Locker</a>.</p>

</div>
</div>
<a id="a4e33cc065fb13bd828aadcf6f12f9edf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4e33cc065fb13bd828aadcf6f12f9edf">&#9670;&nbsp;</a></span>lock() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;bool IsForMMAPV1&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="namespacemongo.html#af54347edd3ad8dc00c6c27e0816e2dea">LockResult</a> <a class="el" href="classmongo_1_1LockerImpl.html">mongo::LockerImpl</a>&lt; IsForMMAPV1 &gt;::lock </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classmongo_1_1ResourceId.html">ResourceId</a>&#160;</td>
          <td class="paramname"><em>resId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacemongo.html#a9a3ebc0a91ee78ba95fc1ef18a948a2b">LockMode</a>&#160;</td>
          <td class="paramname"><em>mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Date_t&#160;</td>
          <td class="paramname"><em>deadline</em> = <code>Date_t::max()</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>checkDeadlock</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Calling lock without an OperationContext does not allow LOCK_WAITING states to be interrupted. </p>

<p>Implements <a class="el" href="classmongo_1_1Locker.html#a6c06f9389e114005f6fd3cdee870aeb6">mongo::Locker</a>.</p>

</div>
</div>
<a id="a46568e297c13b6d0b282c87d60f4d851"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a46568e297c13b6d0b282c87d60f4d851">&#9670;&nbsp;</a></span>lockBegin()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;bool IsForMMAPV1&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacemongo.html#af54347edd3ad8dc00c6c27e0816e2dea">LockResult</a> <a class="el" href="classmongo_1_1LockerImpl.html">mongo::LockerImpl</a>&lt; IsForMMAPV1 &gt;::lockBegin </td>
          <td>(</td>
          <td class="paramtype">OperationContext *&#160;</td>
          <td class="paramname"><em>opCtx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classmongo_1_1ResourceId.html">ResourceId</a>&#160;</td>
          <td class="paramname"><em>resId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacemongo.html#a9a3ebc0a91ee78ba95fc1ef18a948a2b">LockMode</a>&#160;</td>
          <td class="paramname"><em>mode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Allows for lock requests to be requested in a non-blocking way. </p>
<p>There can be only one outstanding pending lock request per locker object.</p>
<p>lockBegin posts a request to the lock manager for the specified lock to be acquired, which either immediately grants the lock, or puts the requestor on the conflict queue and returns immediately with the result of the acquisition. The result can be one of:</p>
<p>LOCK_OK - Nothing more needs to be done. The lock is granted. LOCK_WAITING - The request has been queued up and will be granted as soon as the lock is free. If this result is returned, typically lockComplete needs to be called in order to wait for the actual grant to occur. If the caller no longer needs to wait for the grant to happen, unlock needs to be called with the same resource passed to lockBegin.</p>
<p>In other words for each call to lockBegin, which does not return LOCK_OK, there needs to be a corresponding call to either lockComplete or unlock.</p>
<p>If an operation context is provided that represents an interrupted operation, lockBegin will throw an exception whenever it would have been possible to grant the lock with LOCK_OK. This behavior can be disabled with an <a class="el" href="classmongo_1_1UninterruptibleLockGuard.html" title="This class prevents lock acquisitions from being interrupted when it is in scope. ...">UninterruptibleLockGuard</a>.</p>
<p>NOTE: These methods are not public and should only be used inside the class implementation and for unit-tests and not called directly. </p>

</div>
</div>
<a id="acf7533f9a1623c8e3f9f10df0e65c685"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acf7533f9a1623c8e3f9f10df0e65c685">&#9670;&nbsp;</a></span>lockComplete() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;bool IsForMMAPV1&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacemongo.html#af54347edd3ad8dc00c6c27e0816e2dea">LockResult</a> <a class="el" href="classmongo_1_1LockerImpl.html">mongo::LockerImpl</a>&lt; IsForMMAPV1 &gt;::lockComplete </td>
          <td>(</td>
          <td class="paramtype">OperationContext *&#160;</td>
          <td class="paramname"><em>opCtx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classmongo_1_1ResourceId.html">ResourceId</a>&#160;</td>
          <td class="paramname"><em>resId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacemongo.html#a9a3ebc0a91ee78ba95fc1ef18a948a2b">LockMode</a>&#160;</td>
          <td class="paramname"><em>mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Date_t&#160;</td>
          <td class="paramname"><em>deadline</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>checkDeadlock</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Waits for the completion of a lock, previously requested through lockBegin or lockGlobalBegin. </p>
<p>Must only be called, if lockBegin returned LOCK_WAITING.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">opCtx</td><td>Operation context that, if not null, will be used to allow interruptible lock acquisition. </td></tr>
    <tr><td class="paramname">resId</td><td>Resource id which was passed to an earlier lockBegin call. Must match. </td></tr>
    <tr><td class="paramname">mode</td><td>Mode which was passed to an earlier lockBegin call. Must match. </td></tr>
    <tr><td class="paramname">deadline</td><td>The absolute time point when this lock acquisition will time out, if not yet granted. </td></tr>
    <tr><td class="paramname">checkDeadlock</td><td>whether to perform deadlock detection while waiting. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a9e13191fb5b133232b9ca84e4c42914e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9e13191fb5b133232b9ca84e4c42914e">&#9670;&nbsp;</a></span>lockComplete() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;bool IsForMMAPV1&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacemongo.html#af54347edd3ad8dc00c6c27e0816e2dea">LockResult</a> <a class="el" href="classmongo_1_1LockerImpl.html">mongo::LockerImpl</a>&lt; IsForMMAPV1 &gt;::lockComplete </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classmongo_1_1ResourceId.html">ResourceId</a>&#160;</td>
          <td class="paramname"><em>resId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacemongo.html#a9a3ebc0a91ee78ba95fc1ef18a948a2b">LockMode</a>&#160;</td>
          <td class="paramname"><em>mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Date_t&#160;</td>
          <td class="paramname"><em>deadline</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>checkDeadlock</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ae6095035a20069df9f57b436e9e4382d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae6095035a20069df9f57b436e9e4382d">&#9670;&nbsp;</a></span>lockGlobal() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;bool IsForMMAPV1&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacemongo.html#af54347edd3ad8dc00c6c27e0816e2dea">LockResult</a> <a class="el" href="classmongo_1_1LockerImpl.html">mongo::LockerImpl</a>&lt; IsForMMAPV1 &gt;::lockGlobal </td>
          <td>(</td>
          <td class="paramtype">OperationContext *&#160;</td>
          <td class="paramname"><em>opCtx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacemongo.html#a9a3ebc0a91ee78ba95fc1ef18a948a2b">LockMode</a>&#160;</td>
          <td class="paramname"><em>mode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This should be the first method invoked for a particular <a class="el" href="classmongo_1_1Locker.html" title="Interface for acquiring locks. ">Locker</a> object. </p>
<p>It acquires the Global lock in the specified mode and effectively indicates the mode of the operation. This is what the lock modes on the global lock mean:</p>
<p>IX - Regular write operation IS - Regular read operation S - Stops all <em>write</em> activity. Used for administrative operations (repl, etc). X - Stops all activity. Used for administrative operations (repl state changes, shutdown, etc).</p>
<p>This method can be called recursively, but each call to lockGlobal must be accompanied by a call to unlockGlobal.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">opCtx</td><td>OperationContext used to interrupt the lock waiting, if provided. </td></tr>
    <tr><td class="paramname">mode</td><td>Mode in which the global lock should be acquired. Also indicates the intent of the operation.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>LOCK_OK, if the global lock (and the flush lock, for the MMAP V1 engine) were acquired within the specified time bound. Otherwise, the respective failure code and neither lock will be acquired. </dd></dl>

<p>Implements <a class="el" href="classmongo_1_1Locker.html#a2a42be1c14eebcd7e5173101088bc65c">mongo::Locker</a>.</p>

</div>
</div>
<a id="a6e9095ec95229b788dd0450e92197a55"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6e9095ec95229b788dd0450e92197a55">&#9670;&nbsp;</a></span>lockGlobal() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;bool IsForMMAPV1&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="namespacemongo.html#af54347edd3ad8dc00c6c27e0816e2dea">LockResult</a> <a class="el" href="classmongo_1_1LockerImpl.html">mongo::LockerImpl</a>&lt; IsForMMAPV1 &gt;::lockGlobal </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacemongo.html#a9a3ebc0a91ee78ba95fc1ef18a948a2b">LockMode</a>&#160;</td>
          <td class="paramname"><em>mode</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="classmongo_1_1Locker.html#a26abd7d8892aa4b3b589182b3c778ac4">mongo::Locker</a>.</p>

</div>
</div>
<a id="abec4edae17a1540d1b8a8d8287e467ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abec4edae17a1540d1b8a8d8287e467ae">&#9670;&nbsp;</a></span>lockGlobalBegin() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;bool IsForMMAPV1&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="namespacemongo.html#af54347edd3ad8dc00c6c27e0816e2dea">LockResult</a> <a class="el" href="classmongo_1_1LockerImpl.html">mongo::LockerImpl</a>&lt; IsForMMAPV1 &gt;::lockGlobalBegin </td>
          <td>(</td>
          <td class="paramtype">OperationContext *&#160;</td>
          <td class="paramname"><em>opCtx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacemongo.html#a9a3ebc0a91ee78ba95fc1ef18a948a2b">LockMode</a>&#160;</td>
          <td class="paramname"><em>mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Date_t&#160;</td>
          <td class="paramname"><em>deadline</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Requests the global lock to be acquired in the specified mode. </p>
<p>See the comments for lockBegin/Complete for more information on the semantics. The deadline indicates the absolute time point when this lock acquisition will time out, if not yet granted. The lockGlobalBegin method has a deadline for use with the TicketHolder, if there is one. </p>

<p>Implements <a class="el" href="classmongo_1_1Locker.html#a0aacb3eff2f28d1201c12199cfdc1076">mongo::Locker</a>.</p>

</div>
</div>
<a id="a09438e62404c4eec04c5aa4419b9608d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a09438e62404c4eec04c5aa4419b9608d">&#9670;&nbsp;</a></span>lockGlobalBegin() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;bool IsForMMAPV1&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="namespacemongo.html#af54347edd3ad8dc00c6c27e0816e2dea">LockResult</a> <a class="el" href="classmongo_1_1LockerImpl.html">mongo::LockerImpl</a>&lt; IsForMMAPV1 &gt;::lockGlobalBegin </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacemongo.html#a9a3ebc0a91ee78ba95fc1ef18a948a2b">LockMode</a>&#160;</td>
          <td class="paramname"><em>mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Date_t&#160;</td>
          <td class="paramname"><em>deadline</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="classmongo_1_1Locker.html#ad5adfd15ad7ecddf7e14de363a80dc03">mongo::Locker</a>.</p>

</div>
</div>
<a id="a223336d1f191dea8118b5909a9d0d626"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a223336d1f191dea8118b5909a9d0d626">&#9670;&nbsp;</a></span>lockGlobalComplete() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;bool IsForMMAPV1&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacemongo.html#af54347edd3ad8dc00c6c27e0816e2dea">LockResult</a> <a class="el" href="classmongo_1_1LockerImpl.html">mongo::LockerImpl</a>&lt; IsForMMAPV1 &gt;::lockGlobalComplete </td>
          <td>(</td>
          <td class="paramtype">OperationContext *&#160;</td>
          <td class="paramname"><em>opCtx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Date_t&#160;</td>
          <td class="paramname"><em>deadline</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Calling lockGlobalComplete without an OperationContext does not allow the lock acquisition to be interrupted. </p>

<p>Implements <a class="el" href="classmongo_1_1Locker.html#a37ebb980ed7277178a02c0d63070f628">mongo::Locker</a>.</p>

</div>
</div>
<a id="a425b455e0f8f4b8b32ecb0e88f58eff0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a425b455e0f8f4b8b32ecb0e88f58eff0">&#9670;&nbsp;</a></span>lockGlobalComplete() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;bool IsForMMAPV1&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="namespacemongo.html#af54347edd3ad8dc00c6c27e0816e2dea">LockResult</a> <a class="el" href="classmongo_1_1LockerImpl.html">mongo::LockerImpl</a>&lt; IsForMMAPV1 &gt;::lockGlobalComplete </td>
          <td>(</td>
          <td class="paramtype">Date_t&#160;</td>
          <td class="paramname"><em>deadline</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="classmongo_1_1Locker.html#a9b0832c3b93147a5eb7a11e835b11522">mongo::Locker</a>.</p>

</div>
</div>
<a id="a05d6542e55d24e316cd59c4d0aabe612"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a05d6542e55d24e316cd59c4d0aabe612">&#9670;&nbsp;</a></span>lockMMAPV1Flush()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;bool IsForMMAPV1&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacemongo.html#aa639063deea016a1dac8f046e93900a6">void</a> <a class="el" href="classmongo_1_1LockerImpl.html">mongo::LockerImpl</a>&lt; IsForMMAPV1 &gt;::lockMMAPV1Flush </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This method is used only in the MMAP V1 storage engine, otherwise it is a no-op. </p>
<p>See the comments in the implementation for more details on how MMAP V1 journaling works. </p>

<p>Implements <a class="el" href="classmongo_1_1Locker.html#a783ed88f079cd1ca223e6ce802ffc4c1">mongo::Locker</a>.</p>

</div>
</div>
<a id="ac7e78b09f64b0825e9c468fab9724af5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac7e78b09f64b0825e9c468fab9724af5">&#9670;&nbsp;</a></span>reacquireTicket()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;bool IsForMMAPV1&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacemongo.html#aa639063deea016a1dac8f046e93900a6">void</a> <a class="el" href="classmongo_1_1LockerImpl.html">mongo::LockerImpl</a>&lt; IsForMMAPV1 &gt;::reacquireTicket </td>
          <td>(</td>
          <td class="paramtype">OperationContext *&#160;</td>
          <td class="paramname"><em>opCtx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reacquires a ticket for the <a class="el" href="classmongo_1_1Locker.html" title="Interface for acquiring locks. ">Locker</a>. </p>
<p>This must only be called after <a class="el" href="classmongo_1_1LockerImpl.html#a744aefc2e5818ef096e1208119cb9332" title="Releases the ticket associated with the Locker. ">releaseTicket()</a>. It restores the ticket under its previous LockMode. An OperationContext is required to interrupt the ticket acquisition to prevent deadlocks. A dead lock is possible when a ticket is reacquired while holding a lock. </p>

<p>Implements <a class="el" href="classmongo_1_1Locker.html#a6f1fea527e4d6add6299395924c633e6">mongo::Locker</a>.</p>

</div>
</div>
<a id="a744aefc2e5818ef096e1208119cb9332"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a744aefc2e5818ef096e1208119cb9332">&#9670;&nbsp;</a></span>releaseTicket()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;bool IsForMMAPV1&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacemongo.html#aa639063deea016a1dac8f046e93900a6">void</a> <a class="el" href="classmongo_1_1LockerImpl.html">mongo::LockerImpl</a>&lt; IsForMMAPV1 &gt;::releaseTicket </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Releases the ticket associated with the <a class="el" href="classmongo_1_1Locker.html" title="Interface for acquiring locks. ">Locker</a>. </p>
<p>This allows locks to be held without contributing to reader/writer throttling. </p>

<p>Implements <a class="el" href="classmongo_1_1Locker.html#af06c99a1f4137946574e96f6ffc4d677">mongo::Locker</a>.</p>

</div>
</div>
<a id="a7c18ee5ac579058ce8db79f501724992"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7c18ee5ac579058ce8db79f501724992">&#9670;&nbsp;</a></span>restoreLockState() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;bool IsForMMAPV1&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacemongo.html#aa639063deea016a1dac8f046e93900a6">void</a> <a class="el" href="classmongo_1_1LockerImpl.html">mongo::LockerImpl</a>&lt; IsForMMAPV1 &gt;::restoreLockState </td>
          <td>(</td>
          <td class="paramtype">OperationContext *&#160;</td>
          <td class="paramname"><em>opCtx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structmongo_1_1Locker_1_1LockSnapshot.html">LockSnapshot</a> &amp;&#160;</td>
          <td class="paramname"><em>stateToRestore</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Re-locks all locks whose state was stored in 'stateToRestore'. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">opCtx</td><td>An operation context that enables the restoration to be interrupted. </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="classmongo_1_1Locker.html#af4beb55b1ead25e3c3ba5898089d0597">mongo::Locker</a>.</p>

</div>
</div>
<a id="a854ebed7d0615200c1cb0c6138cbe39b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a854ebed7d0615200c1cb0c6138cbe39b">&#9670;&nbsp;</a></span>restoreLockState() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;bool IsForMMAPV1&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="namespacemongo.html#aa639063deea016a1dac8f046e93900a6">void</a> <a class="el" href="classmongo_1_1LockerImpl.html">mongo::LockerImpl</a>&lt; IsForMMAPV1 &gt;::restoreLockState </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structmongo_1_1Locker_1_1LockSnapshot.html">LockSnapshot</a> &amp;&#160;</td>
          <td class="paramname"><em>stateToRestore</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="classmongo_1_1Locker.html#ac1f0c2ae05a8e9790a761251b5ab46d9">mongo::Locker</a>.</p>

</div>
</div>
<a id="a57f74c5fb2465b912fe1021e1228b130"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a57f74c5fb2465b912fe1021e1228b130">&#9670;&nbsp;</a></span>saveLockStateAndUnlock()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;bool IsForMMAPV1&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classmongo_1_1LockerImpl.html">mongo::LockerImpl</a>&lt; IsForMMAPV1 &gt;::saveLockStateAndUnlock </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structmongo_1_1Locker_1_1LockSnapshot.html">LockSnapshot</a> *&#160;</td>
          <td class="paramname"><em>stateOut</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Retrieves all locks held by this transaction, other than RESOURCE_MUTEX locks, and what mode they're held in. </p>
<p>Stores these locks in 'stateOut', destroying any previous state. Unlocks all locks held by this transaction. This functionality is used for yielding, which is voluntary/cooperative lock release and reacquisition in order to allow for interleaving of otherwise conflicting long-running operations.</p>
<p>This functionality is also used for releasing locks on databases and collections when cursors are dormant and waiting for a getMore request.</p>
<p>Returns true if locks are released. It is expected that restoreLockerImpl will be called in the future.</p>
<p>Returns false if locks are not released. restoreLockState(...) does not need to be called in this case. </p>

<p>Implements <a class="el" href="classmongo_1_1Locker.html#aaee361b6b57942c06f7276f4e56c1924">mongo::Locker</a>.</p>

</div>
</div>
<a id="a0cb45a28cabdbca62b76bfc7ca83677d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0cb45a28cabdbca62b76bfc7ca83677d">&#9670;&nbsp;</a></span>setMaxLockTimeout()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;bool IsForMMAPV1&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacemongo.html#aa639063deea016a1dac8f046e93900a6">void</a> <a class="el" href="classmongo_1_1LockerImpl.html">mongo::LockerImpl</a>&lt; IsForMMAPV1 &gt;::setMaxLockTimeout </td>
          <td>(</td>
          <td class="paramtype">Milliseconds&#160;</td>
          <td class="paramname"><em>maxTimeout</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This is useful to ensure that potential deadlocks do not occur. </p>
<p>Overrides provided timeouts in lock requests with 'maxTimeout' if the provided timeout is greater. Basically, no lock acquisition will take longer than 'maxTimeout'.</p>
<p>If an <a class="el" href="classmongo_1_1UninterruptibleLockGuard.html" title="This class prevents lock acquisitions from being interrupted when it is in scope. ...">UninterruptibleLockGuard</a> is set during a lock request, the max timeout override will be ignored.</p>
<p>Future lock requests may throw LockTimeout errors if a lock request provides a Date_t::max() deadline and 'maxTimeout' is reached. Presumably these callers do not expect to handle lock acquisition failure, so this is done to ensure the caller does not proceed as if the lock were successfully acquired. </p>

<p>Implements <a class="el" href="classmongo_1_1Locker.html#ae236984c0e83f06f4beab8cec9d29e06">mongo::Locker</a>.</p>

</div>
</div>
<a id="a0d4e14201a4ac315b85498102fe55002"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0d4e14201a4ac315b85498102fe55002">&#9670;&nbsp;</a></span>setSharedLocksShouldTwoPhaseLock()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;bool IsForMMAPV1&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacemongo.html#aa639063deea016a1dac8f046e93900a6">void</a> <a class="el" href="classmongo_1_1LockerImpl.html">mongo::LockerImpl</a>&lt; IsForMMAPV1 &gt;::setSharedLocksShouldTwoPhaseLock </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>sharedLocksShouldTwoPhaseLock</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Indicate that shared locks should participate in two-phase locking for this <a class="el" href="classmongo_1_1Locker.html" title="Interface for acquiring locks. ">Locker</a> instance. </p>

<p>Implements <a class="el" href="classmongo_1_1Locker.html#aaa21d3cf9682ceb71faaf958f7c82c36">mongo::Locker</a>.</p>

</div>
</div>
<a id="ab608ef47a3fedf3e5e80e3a593465653"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab608ef47a3fedf3e5e80e3a593465653">&#9670;&nbsp;</a></span>unlock()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;bool IsForMMAPV1&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classmongo_1_1LockerImpl.html">mongo::LockerImpl</a>&lt; IsForMMAPV1 &gt;::unlock </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classmongo_1_1ResourceId.html">ResourceId</a>&#160;</td>
          <td class="paramname"><em>resId</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Releases a lock previously acquired through a lock call. </p>
<p>It is an error to try to release lock which has not been previously acquired (invariant violation).</p>
<dl class="section return"><dt>Returns</dt><dd>true if the lock was actually released; false if only the reference count was decremented, but the lock is still held. </dd></dl>

<p>Implements <a class="el" href="classmongo_1_1Locker.html#a0efb8dcdd61205e09ea9a04c14603db4">mongo::Locker</a>.</p>

</div>
</div>
<a id="a25471a9785fd95682cf06bc83c744b6e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a25471a9785fd95682cf06bc83c744b6e">&#9670;&nbsp;</a></span>unlockGlobal()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;bool IsForMMAPV1&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classmongo_1_1LockerImpl.html">mongo::LockerImpl</a>&lt; IsForMMAPV1 &gt;::unlockGlobal </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Decrements the reference count on the global lock. </p>
<p>If the reference count on the global lock hits zero, the transaction is over, and unlockGlobal unlocks all other locks except for RESOURCE_MUTEX locks.</p>
<dl class="section return"><dt>Returns</dt><dd>true if this is the last endTransaction call (i.e., the global lock was released); false if there are still references on the global lock. This value should not be relied on and is only used for assertion purposes.</dd>
<dd>
false if the global lock is still held. </dd></dl>

<p>Implements <a class="el" href="classmongo_1_1Locker.html#ac21e8c6a9f0b70c286229b1c3710cd45">mongo::Locker</a>.</p>

</div>
</div>
<a id="aff3132177d05cf4cb7352ea28bacffd9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aff3132177d05cf4cb7352ea28bacffd9">&#9670;&nbsp;</a></span>unsetMaxLockTimeout()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;bool IsForMMAPV1&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacemongo.html#aa639063deea016a1dac8f046e93900a6">void</a> <a class="el" href="classmongo_1_1LockerImpl.html">mongo::LockerImpl</a>&lt; IsForMMAPV1 &gt;::unsetMaxLockTimeout </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Clears the max lock timeout override set by <a class="el" href="classmongo_1_1LockerImpl.html#a0cb45a28cabdbca62b76bfc7ca83677d" title="This is useful to ensure that potential deadlocks do not occur. ">setMaxLockTimeout()</a> above. </p>

<p>Implements <a class="el" href="classmongo_1_1Locker.html#a239b725701dcfa0f457262b2b186aee2">mongo::Locker</a>.</p>

</div>
</div>
<a id="af832a6997efa8507927e1acdbc52266b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af832a6997efa8507927e1acdbc52266b">&#9670;&nbsp;</a></span>unsetThreadId()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;bool IsForMMAPV1&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacemongo.html#aa639063deea016a1dac8f046e93900a6">void</a> <a class="el" href="classmongo_1_1LockerImpl.html">mongo::LockerImpl</a>&lt; IsForMMAPV1 &gt;::unsetThreadId </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Clears any cached thread id values. </p>

<p>Implements <a class="el" href="classmongo_1_1Locker.html#a49998c9f125b356fa58a03e8459e17d4">mongo::Locker</a>.</p>

</div>
</div>
<a id="ad17c45d74aedec5a2a298808f24665cb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad17c45d74aedec5a2a298808f24665cb">&#9670;&nbsp;</a></span>updateThreadIdToCurrentThread()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;bool IsForMMAPV1&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacemongo.html#aa639063deea016a1dac8f046e93900a6">void</a> <a class="el" href="classmongo_1_1LockerImpl.html">mongo::LockerImpl</a>&lt; IsForMMAPV1 &gt;::updateThreadIdToCurrentThread </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Updates any cached thread id values to represent the current thread. </p>

<p>Implements <a class="el" href="classmongo_1_1Locker.html#a8b0bb10d5d4a0af7054eee135f7a4f3d">mongo::Locker</a>.</p>

</div>
</div>
<h2 class="groupheader">Friends And Related Function Documentation</h2>
<a id="a111c2e052e7bec29ea060592d0a12ea4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a111c2e052e7bec29ea060592d0a12ea4">&#9670;&nbsp;</a></span>AutoYieldFlushLockForMMAPV1Commit</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;bool IsForMMAPV1&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">friend class <a class="el" href="classmongo_1_1AutoYieldFlushLockForMMAPV1Commit.html">AutoYieldFlushLockForMMAPV1Commit</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">friend</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="afac2043619cc3aaa234ae78a73a50ad8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afac2043619cc3aaa234ae78a73a50ad8">&#9670;&nbsp;</a></span>_clientState</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;bool IsForMMAPV1&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">AtomicWord&lt;<a class="el" href="classmongo_1_1Locker.html#ac2bef72f3b29c8a23df4e3e8eba7396b">ClientState</a>&gt; <a class="el" href="classmongo_1_1LockerImpl.html">mongo::LockerImpl</a>&lt; IsForMMAPV1 &gt;::_clientState {<a class="el" href="classmongo_1_1Locker.html#ac2bef72f3b29c8a23df4e3e8eba7396ba0111dd42dd167087894c4d0540305679">kInactive</a>}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a35783a7f49ae13e870466a728c23d220"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a35783a7f49ae13e870466a728c23d220">&#9670;&nbsp;</a></span>_id</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;bool IsForMMAPV1&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="namespacemongo.html#ad7b6e5bd2d44b9b4fe9031b23492c38a">LockerId</a> <a class="el" href="classmongo_1_1LockerImpl.html">mongo::LockerImpl</a>&lt; IsForMMAPV1 &gt;::_id</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a6402ad47d374f00d14da9e7dba788649"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6402ad47d374f00d14da9e7dba788649">&#9670;&nbsp;</a></span>_lock</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;bool IsForMMAPV1&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">SpinLock <a class="el" href="classmongo_1_1LockerImpl.html">mongo::LockerImpl</a>&lt; IsForMMAPV1 &gt;::_lock</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">mutable</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a20193cfb2e257b636b2e8e68363802a7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a20193cfb2e257b636b2e8e68363802a7">&#9670;&nbsp;</a></span>_maxLockTimeout</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;bool IsForMMAPV1&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">boost::optional&lt;Milliseconds&gt; <a class="el" href="classmongo_1_1LockerImpl.html">mongo::LockerImpl</a>&lt; IsForMMAPV1 &gt;::_maxLockTimeout</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a3cebabbf2708e628af24e56820c9d215"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3cebabbf2708e628af24e56820c9d215">&#9670;&nbsp;</a></span>_modeForTicket</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;bool IsForMMAPV1&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacemongo.html#a9a3ebc0a91ee78ba95fc1ef18a948a2b">LockMode</a> <a class="el" href="classmongo_1_1LockerImpl.html">mongo::LockerImpl</a>&lt; IsForMMAPV1 &gt;::_modeForTicket = <a class="el" href="namespacemongo.html#a9a3ebc0a91ee78ba95fc1ef18a948a2baa625d3d8cf5b7d884d2506c3a9d09dc1">MODE_NONE</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a0d212fee1cd34de6bc29b2816d1f2cd4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0d212fee1cd34de6bc29b2816d1f2cd4">&#9670;&nbsp;</a></span>_notify</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;bool IsForMMAPV1&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classmongo_1_1CondVarLockGrantNotification.html">CondVarLockGrantNotification</a> <a class="el" href="classmongo_1_1LockerImpl.html">mongo::LockerImpl</a>&lt; IsForMMAPV1 &gt;::_notify</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a9ffae261cfbdd556abd43983538bd26b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9ffae261cfbdd556abd43983538bd26b">&#9670;&nbsp;</a></span>_requests</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;bool IsForMMAPV1&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classmongo_1_1LockerImpl.html#a43c481d031f4ec1174e7f4b569c26fc7">LockRequestsMap</a> <a class="el" href="classmongo_1_1LockerImpl.html">mongo::LockerImpl</a>&lt; IsForMMAPV1 &gt;::_requests</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a2799368a3c3946723051791304998528"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2799368a3c3946723051791304998528">&#9670;&nbsp;</a></span>_sharedLocksShouldTwoPhaseLock</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;bool IsForMMAPV1&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classmongo_1_1LockerImpl.html">mongo::LockerImpl</a>&lt; IsForMMAPV1 &gt;::_sharedLocksShouldTwoPhaseLock = false</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a6fa704dd3c60ee56723e7e277b4720ee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6fa704dd3c60ee56723e7e277b4720ee">&#9670;&nbsp;</a></span>_stats</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;bool IsForMMAPV1&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacemongo.html#a6d64154a113b299d17bede9f3e27491b">SingleThreadedLockStats</a> <a class="el" href="classmongo_1_1LockerImpl.html">mongo::LockerImpl</a>&lt; IsForMMAPV1 &gt;::_stats</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a23158d02ba6c577913efd7b1cec55cd7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a23158d02ba6c577913efd7b1cec55cd7">&#9670;&nbsp;</a></span>_threadId</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;bool IsForMMAPV1&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">stdx::thread::id <a class="el" href="classmongo_1_1LockerImpl.html">mongo::LockerImpl</a>&lt; IsForMMAPV1 &gt;::_threadId</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a44f7023efc0c8c309a5f941ad61112b7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a44f7023efc0c8c309a5f941ad61112b7">&#9670;&nbsp;</a></span>_wuowNestingLevel</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;bool IsForMMAPV1&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classmongo_1_1LockerImpl.html">mongo::LockerImpl</a>&lt; IsForMMAPV1 &gt;::_wuowNestingLevel</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/home/louis/git/mongo/src/mongo/db/concurrency/<a class="el" href="lock__state_8h_source.html">lock_state.h</a></li>
<li>/home/louis/git/mongo/src/mongo/db/concurrency/<a class="el" href="lock__state_8cpp.html">lock_state.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.13-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacemongo.html">mongo</a></li><li class="navelem"><a class="el" href="classmongo_1_1LockerImpl.html">LockerImpl</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
