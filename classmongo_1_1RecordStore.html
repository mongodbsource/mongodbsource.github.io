<!-- HTML header for doxygen 1.8.13-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Storage Engine API: mongo::RecordStore Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link rel="shortcut icon" href="favicon.ico" type="image/x-icon" />
<link href="mongodb.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr>
  <td id="projectlogo"><img alt="Logo" src="mongodb-logo.jpg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Storage Engine API
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classmongo_1_1RecordStore.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="classmongo_1_1RecordStore-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">mongo::RecordStore Class Reference<span class="mlabels"><span class="mlabel">abstract</span></span></div>  </div>
</div><!--header-->
<div class="contents">

<p>An abstraction used for storing documents in a collection or entries in an index.  
 <a href="classmongo_1_1RecordStore.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="record__store_8h_source.html">record_store.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for mongo::RecordStore:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classmongo_1_1RecordStore.png" usemap="#mongo::RecordStore_map" alt=""/>
  <map id="mongo::RecordStore_map" name="mongo::RecordStore_map">
<area href="classmongo_1_1DevNullRecordStore.html" alt="mongo::DevNullRecordStore" shape="rect" coords="0,56,239,80"/>
<area href="classmongo_1_1EphemeralForTestRecordStore.html" title="A RecordStore that stores all data in-memory. " alt="mongo::EphemeralForTestRecordStore" shape="rect" coords="249,56,488,80"/>
<area href="classmongo_1_1HeapRecordStoreBtree.html" title="A RecordStore that stores all data on the heap. " alt="mongo::HeapRecordStoreBtree" shape="rect" coords="498,56,737,80"/>
<area href="classmongo_1_1MobileRecordStore.html" title="A RecordStore that stores all data in SQLite. " alt="mongo::MobileRecordStore" shape="rect" coords="747,56,986,80"/>
<area href="classmongo_1_1RecordStoreV1Base.html" alt="mongo::RecordStoreV1Base" shape="rect" coords="996,56,1235,80"/>
<area href="classmongo_1_1WiredTigerRecordStore.html" alt="mongo::WiredTigerRecordStore" shape="rect" coords="1494,56,1733,80"/>
<area href="classmongo_1_1CappedRecordStoreV1.html" alt="mongo::CappedRecordStoreV1" shape="rect" coords="871,112,1110,136"/>
<area href="classmongo_1_1SimpleRecordStoreV1.html" alt="mongo::SimpleRecordStoreV1" shape="rect" coords="1120,112,1359,136"/>
<area href="classmongo_1_1PrefixedWiredTigerRecordStore.html" alt="mongo::PrefixedWiredTigerRecordStore" shape="rect" coords="1369,112,1608,136"/>
<area href="classmongo_1_1StandardWiredTigerRecordStore.html" alt="mongo::StandardWiredTigerRecordStore" shape="rect" coords="1618,112,1857,136"/>
</map>
 </div></div>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>An abstraction used for storing documents in a collection or entries in an index. </p>
<p>In storage engines implementing the <a class="el" href="classmongo_1_1KVEngine.html">KVEngine</a>, record stores are also used for implementing catalogs.</p>
<p>Many methods take an OperationContext parameter. This contains the <a class="el" href="classmongo_1_1RecoveryUnit.html" title="A RecoveryUnit is responsible for ensuring that data is persisted. ">RecoveryUnit</a>, with all <a class="el" href="classmongo_1_1RecordStore.html" title="An abstraction used for storing documents in a collection or entries in an index. ...">RecordStore</a> specific transaction information, as well as the LockState. Methods that take an OperationContext may throw a <a class="el" href="classmongo_1_1WriteConflictException.html" title="This is thrown if during a write, two or more operations conflict with each other. ">WriteConflictException</a>.</p>
<p>This class must be thread-safe for document-level locking storage engines. In addition, for storage engines implementing the <a class="el" href="classmongo_1_1KVEngine.html">KVEngine</a> some methods must be thread safe, see <a class="el" href="classmongo_1_1KVCatalog.html">KVCatalog</a>. Only for MMAPv1 is this class not thread-safe. </p>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a10c9d0781171d6885030398acb2d2a59"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1RecordStore.html#a10c9d0781171d6885030398acb2d2a59">RecordStore</a> (StringData <a class="el" href="classmongo_1_1RecordStore.html#ab57ca9998314c5c59f284515fd8bdea8">ns</a>)</td></tr>
<tr class="separator:a10c9d0781171d6885030398acb2d2a59"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15f0fd57480351bdc0986944f66ee300"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1RecordStore.html#a15f0fd57480351bdc0986944f66ee300">~RecordStore</a> ()</td></tr>
<tr class="separator:a15f0fd57480351bdc0986944f66ee300"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3add80715366bb26bcf8afdca47261b3"><td class="memItemLeft" align="right" valign="top">virtual const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1RecordStore.html#a3add80715366bb26bcf8afdca47261b3">name</a> () const =0</td></tr>
<tr class="separator:a3add80715366bb26bcf8afdca47261b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab57ca9998314c5c59f284515fd8bdea8"><td class="memItemLeft" align="right" valign="top">virtual const std::string &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1RecordStore.html#ab57ca9998314c5c59f284515fd8bdea8">ns</a> () const</td></tr>
<tr class="separator:ab57ca9998314c5c59f284515fd8bdea8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af81322ff97471b16bfd172cd0020ec5b"><td class="memItemLeft" align="right" valign="top">virtual long long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1RecordStore.html#af81322ff97471b16bfd172cd0020ec5b">dataSize</a> (OperationContext *<a class="el" href="namespacemongo.html#a15b23ef1d9a7f6cdadbf866f1e8e5043">opCtx</a>) const =0</td></tr>
<tr class="memdesc:af81322ff97471b16bfd172cd0020ec5b"><td class="mdescLeft">&#160;</td><td class="mdescRight">The dataSize is an approximation of the sum of the sizes (in bytes) of the documents or entries in the recordStore.  <a href="#af81322ff97471b16bfd172cd0020ec5b">More...</a><br /></td></tr>
<tr class="separator:af81322ff97471b16bfd172cd0020ec5b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ce1ace33ef4a63bb681ec4cab82bddd"><td class="memItemLeft" align="right" valign="top">virtual long long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1RecordStore.html#a6ce1ace33ef4a63bb681ec4cab82bddd">numRecords</a> (OperationContext *<a class="el" href="namespacemongo.html#a15b23ef1d9a7f6cdadbf866f1e8e5043">opCtx</a>) const =0</td></tr>
<tr class="memdesc:a6ce1ace33ef4a63bb681ec4cab82bddd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Total number of record in the <a class="el" href="classmongo_1_1RecordStore.html" title="An abstraction used for storing documents in a collection or entries in an index. ...">RecordStore</a>.  <a href="#a6ce1ace33ef4a63bb681ec4cab82bddd">More...</a><br /></td></tr>
<tr class="separator:a6ce1ace33ef4a63bb681ec4cab82bddd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f586a7df2a8ce13061f12311e8fcf47"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1RecordStore.html#a3f586a7df2a8ce13061f12311e8fcf47">isCapped</a> () const =0</td></tr>
<tr class="separator:a3f586a7df2a8ce13061f12311e8fcf47"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0919c25270d91c3501d796e5178a0c8e"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="namespacemongo.html#aa639063deea016a1dac8f046e93900a6">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1RecordStore.html#a0919c25270d91c3501d796e5178a0c8e">setCappedCallback</a> (<a class="el" href="classmongo_1_1CappedCallback.html">CappedCallback</a> *)</td></tr>
<tr class="separator:a0919c25270d91c3501d796e5178a0c8e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa70dc26fa382ed42d86b47c4419739df"><td class="memItemLeft" align="right" valign="top">virtual int64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1RecordStore.html#aa70dc26fa382ed42d86b47c4419739df">storageSize</a> (OperationContext *<a class="el" href="namespacemongo.html#a15b23ef1d9a7f6cdadbf866f1e8e5043">opCtx</a>, BSONObjBuilder *extraInfo=NULL, int infoLevel=0) const =0</td></tr>
<tr class="separator:aa70dc26fa382ed42d86b47c4419739df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adee284dee4957dbe7eff17da80e01183"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classmongo_1_1RecordData.html">RecordData</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1RecordStore.html#adee284dee4957dbe7eff17da80e01183">dataFor</a> (OperationContext *<a class="el" href="namespacemongo.html#a15b23ef1d9a7f6cdadbf866f1e8e5043">opCtx</a>, const RecordId &amp;loc) const</td></tr>
<tr class="memdesc:adee284dee4957dbe7eff17da80e01183"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the <a class="el" href="classmongo_1_1RecordData.html" title="A replacement for the Record class. ">RecordData</a> at loc, which must exist.  <a href="#adee284dee4957dbe7eff17da80e01183">More...</a><br /></td></tr>
<tr class="separator:adee284dee4957dbe7eff17da80e01183"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a881b5b4d85a8e6544160b0275cd47222"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1RecordStore.html#a881b5b4d85a8e6544160b0275cd47222">findRecord</a> (OperationContext *<a class="el" href="namespacemongo.html#a15b23ef1d9a7f6cdadbf866f1e8e5043">opCtx</a>, const RecordId &amp;loc, <a class="el" href="classmongo_1_1RecordData.html">RecordData</a> *out) const</td></tr>
<tr class="separator:a881b5b4d85a8e6544160b0275cd47222"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88d00f49ffbbe8228dfd1b0bb7f093b3"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="namespacemongo.html#aa639063deea016a1dac8f046e93900a6">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1RecordStore.html#a88d00f49ffbbe8228dfd1b0bb7f093b3">deleteRecord</a> (OperationContext *<a class="el" href="namespacemongo.html#a15b23ef1d9a7f6cdadbf866f1e8e5043">opCtx</a>, const RecordId &amp;dl)=0</td></tr>
<tr class="separator:a88d00f49ffbbe8228dfd1b0bb7f093b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae3c39aa6eedd361492038a4b4a0acc69"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classmongo_1_1StatusWith.html">StatusWith</a>&lt; RecordId &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1RecordStore.html#ae3c39aa6eedd361492038a4b4a0acc69">insertRecord</a> (OperationContext *<a class="el" href="namespacemongo.html#a15b23ef1d9a7f6cdadbf866f1e8e5043">opCtx</a>, const char *<a class="el" href="ephemeral__for__test__record__store__test_8cpp.html#a7b0b6386ed9af4d133c80f6322cc60dc">data</a>, int len, Timestamp timestamp, bool enforceQuota)=0</td></tr>
<tr class="separator:ae3c39aa6eedd361492038a4b4a0acc69"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a289ed02de76406a5516d5a14f27dbf22"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="namespacemongo.html#a7dd53a44ec884164bc07ed073e9f31da">Status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1RecordStore.html#a289ed02de76406a5516d5a14f27dbf22">insertRecords</a> (OperationContext *<a class="el" href="namespacemongo.html#a15b23ef1d9a7f6cdadbf866f1e8e5043">opCtx</a>, std::vector&lt; <a class="el" href="structmongo_1_1Record.html">Record</a> &gt; *records, std::vector&lt; Timestamp &gt; *timestamps, bool enforceQuota)</td></tr>
<tr class="separator:a289ed02de76406a5516d5a14f27dbf22"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2cd3a7f097b6a0c8ae9036df1f4a1b03"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="namespacemongo.html#a7dd53a44ec884164bc07ed073e9f31da">Status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1RecordStore.html#a2cd3a7f097b6a0c8ae9036df1f4a1b03">insertRecordsWithDocWriter</a> (OperationContext *<a class="el" href="namespacemongo.html#a15b23ef1d9a7f6cdadbf866f1e8e5043">opCtx</a>, const <a class="el" href="classmongo_1_1DocWriter.html">DocWriter</a> *const *docs, const Timestamp *timestamps, size_t nDocs, RecordId *idsOut=nullptr)=0</td></tr>
<tr class="memdesc:a2cd3a7f097b6a0c8ae9036df1f4a1b03"><td class="mdescLeft">&#160;</td><td class="mdescRight">Inserts nDocs documents into this <a class="el" href="classmongo_1_1RecordStore.html" title="An abstraction used for storing documents in a collection or entries in an index. ...">RecordStore</a> using the <a class="el" href="classmongo_1_1DocWriter.html" title="Allows inserting a Record &quot;in-place&quot; without creating a copy ahead of time. ">DocWriter</a> interface.  <a href="#a2cd3a7f097b6a0c8ae9036df1f4a1b03">More...</a><br /></td></tr>
<tr class="separator:a2cd3a7f097b6a0c8ae9036df1f4a1b03"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d5f95b3596bb8b1d85c5a24c2a48fb6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classmongo_1_1StatusWith.html">StatusWith</a>&lt; RecordId &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1RecordStore.html#a8d5f95b3596bb8b1d85c5a24c2a48fb6">insertRecordWithDocWriter</a> (OperationContext *<a class="el" href="namespacemongo.html#a15b23ef1d9a7f6cdadbf866f1e8e5043">opCtx</a>, const <a class="el" href="classmongo_1_1DocWriter.html">DocWriter</a> *doc, Timestamp timestamp)</td></tr>
<tr class="memdesc:a8d5f95b3596bb8b1d85c5a24c2a48fb6"><td class="mdescLeft">&#160;</td><td class="mdescRight">A thin wrapper around <a class="el" href="classmongo_1_1RecordStore.html#a2cd3a7f097b6a0c8ae9036df1f4a1b03" title="Inserts nDocs documents into this RecordStore using the DocWriter interface. ">insertRecordsWithDocWriter()</a> to simplify handling of single DocWriters.  <a href="#a8d5f95b3596bb8b1d85c5a24c2a48fb6">More...</a><br /></td></tr>
<tr class="separator:a8d5f95b3596bb8b1d85c5a24c2a48fb6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab11ecd3a04a7f5909e8943c8b51985c9"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="namespacemongo.html#a7dd53a44ec884164bc07ed073e9f31da">Status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1RecordStore.html#ab11ecd3a04a7f5909e8943c8b51985c9">updateRecord</a> (OperationContext *<a class="el" href="namespacemongo.html#a15b23ef1d9a7f6cdadbf866f1e8e5043">opCtx</a>, const RecordId &amp;oldLocation, const char *<a class="el" href="ephemeral__for__test__record__store__test_8cpp.html#a7b0b6386ed9af4d133c80f6322cc60dc">data</a>, int len, bool enforceQuota, <a class="el" href="classmongo_1_1UpdateNotifier.html">UpdateNotifier</a> *notifier)=0</td></tr>
<tr class="separator:ab11ecd3a04a7f5909e8943c8b51985c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01fa74c96c2440e87ca4a17cb1dab136"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1RecordStore.html#a01fa74c96c2440e87ca4a17cb1dab136">updateWithDamagesSupported</a> () const =0</td></tr>
<tr class="separator:a01fa74c96c2440e87ca4a17cb1dab136"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad15415ccbf70b1d4dade0fc543416967"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classmongo_1_1StatusWith.html">StatusWith</a>&lt; <a class="el" href="classmongo_1_1RecordData.html">RecordData</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1RecordStore.html#ad15415ccbf70b1d4dade0fc543416967">updateWithDamages</a> (OperationContext *<a class="el" href="namespacemongo.html#a15b23ef1d9a7f6cdadbf866f1e8e5043">opCtx</a>, const RecordId &amp;loc, const <a class="el" href="classmongo_1_1RecordData.html">RecordData</a> &amp;oldRec, const char *damageSource, const mutablebson::DamageVector &amp;damages)=0</td></tr>
<tr class="memdesc:ad15415ccbf70b1d4dade0fc543416967"><td class="mdescLeft">&#160;</td><td class="mdescRight">Updates the record positioned at 'loc' in-place using the deltas described by 'damages'.  <a href="#ad15415ccbf70b1d4dade0fc543416967">More...</a><br /></td></tr>
<tr class="separator:ad15415ccbf70b1d4dade0fc543416967"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1088a44661d162d4ddcd7b12d9b0ca77"><td class="memItemLeft" align="right" valign="top">virtual std::unique_ptr&lt; <a class="el" href="classmongo_1_1SeekableRecordCursor.html">SeekableRecordCursor</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1RecordStore.html#a1088a44661d162d4ddcd7b12d9b0ca77">getCursor</a> (OperationContext *<a class="el" href="namespacemongo.html#a15b23ef1d9a7f6cdadbf866f1e8e5043">opCtx</a>, bool forward=true) const =0</td></tr>
<tr class="memdesc:a1088a44661d162d4ddcd7b12d9b0ca77"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a new cursor over this record store.  <a href="#a1088a44661d162d4ddcd7b12d9b0ca77">More...</a><br /></td></tr>
<tr class="separator:a1088a44661d162d4ddcd7b12d9b0ca77"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa34ca87ea7e872232cfefb6bc809d3f"><td class="memItemLeft" align="right" valign="top">virtual std::unique_ptr&lt; <a class="el" href="classmongo_1_1RecordCursor.html">RecordCursor</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1RecordStore.html#afa34ca87ea7e872232cfefb6bc809d3f">getCursorForRepair</a> (OperationContext *<a class="el" href="namespacemongo.html#a15b23ef1d9a7f6cdadbf866f1e8e5043">opCtx</a>) const</td></tr>
<tr class="memdesc:afa34ca87ea7e872232cfefb6bc809d3f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructs a cursor over a potentially corrupted store, which can be used to salvage damaged records.  <a href="#afa34ca87ea7e872232cfefb6bc809d3f">More...</a><br /></td></tr>
<tr class="separator:afa34ca87ea7e872232cfefb6bc809d3f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a044a55f90a381a3504d34139889a339c"><td class="memItemLeft" align="right" valign="top">virtual std::unique_ptr&lt; <a class="el" href="classmongo_1_1RecordCursor.html">RecordCursor</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1RecordStore.html#a044a55f90a381a3504d34139889a339c">getRandomCursor</a> (OperationContext *<a class="el" href="namespacemongo.html#a15b23ef1d9a7f6cdadbf866f1e8e5043">opCtx</a>) const</td></tr>
<tr class="memdesc:a044a55f90a381a3504d34139889a339c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructs a cursor over a record store that returns documents in a randomized order, and allows storage engines to provide a more efficient way of random sampling of a record store than MongoDB's default sampling methods, which is used when this method returns {}.  <a href="#a044a55f90a381a3504d34139889a339c">More...</a><br /></td></tr>
<tr class="separator:a044a55f90a381a3504d34139889a339c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81cd14207566be7a6fe132215ea4238b"><td class="memItemLeft" align="right" valign="top">virtual std::vector&lt; std::unique_ptr&lt; <a class="el" href="classmongo_1_1RecordCursor.html">RecordCursor</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1RecordStore.html#a81cd14207566be7a6fe132215ea4238b">getManyCursors</a> (OperationContext *<a class="el" href="namespacemongo.html#a15b23ef1d9a7f6cdadbf866f1e8e5043">opCtx</a>) const</td></tr>
<tr class="memdesc:a81cd14207566be7a6fe132215ea4238b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns many RecordCursors that partition the <a class="el" href="classmongo_1_1RecordStore.html" title="An abstraction used for storing documents in a collection or entries in an index. ...">RecordStore</a> into many disjoint sets.  <a href="#a81cd14207566be7a6fe132215ea4238b">More...</a><br /></td></tr>
<tr class="separator:a81cd14207566be7a6fe132215ea4238b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a64860d998ce26a69c8571dd02ec2a5b8"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="namespacemongo.html#a7dd53a44ec884164bc07ed073e9f31da">Status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1RecordStore.html#a64860d998ce26a69c8571dd02ec2a5b8">truncate</a> (OperationContext *<a class="el" href="namespacemongo.html#a15b23ef1d9a7f6cdadbf866f1e8e5043">opCtx</a>)=0</td></tr>
<tr class="memdesc:a64860d998ce26a69c8571dd02ec2a5b8"><td class="mdescLeft">&#160;</td><td class="mdescRight">removes all Records  <a href="#a64860d998ce26a69c8571dd02ec2a5b8">More...</a><br /></td></tr>
<tr class="separator:a64860d998ce26a69c8571dd02ec2a5b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af94e47409108ed086b750b766ab6c54a"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="namespacemongo.html#aa639063deea016a1dac8f046e93900a6">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1RecordStore.html#af94e47409108ed086b750b766ab6c54a">cappedTruncateAfter</a> (OperationContext *<a class="el" href="namespacemongo.html#a15b23ef1d9a7f6cdadbf866f1e8e5043">opCtx</a>, RecordId end, bool <a class="el" href="btree__interface_8cpp.html#a70a7fb264031a3a75f54886770610f78">inclusive</a>)=0</td></tr>
<tr class="memdesc:af94e47409108ed086b750b766ab6c54a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Truncate documents newer than the document at 'end' from the capped collection.  <a href="#af94e47409108ed086b750b766ab6c54a">More...</a><br /></td></tr>
<tr class="separator:af94e47409108ed086b750b766ab6c54a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa2e20bee4cc02cb9bf7233930d18b0ab"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1RecordStore.html#aa2e20bee4cc02cb9bf7233930d18b0ab">compactSupported</a> () const</td></tr>
<tr class="memdesc:aa2e20bee4cc02cb9bf7233930d18b0ab"><td class="mdescLeft">&#160;</td><td class="mdescRight">does this <a class="el" href="classmongo_1_1RecordStore.html" title="An abstraction used for storing documents in a collection or entries in an index. ...">RecordStore</a> support the compact operation?  <a href="#aa2e20bee4cc02cb9bf7233930d18b0ab">More...</a><br /></td></tr>
<tr class="separator:aa2e20bee4cc02cb9bf7233930d18b0ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e22d1d3c67140ec14f52ed1c2bdc5d6"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1RecordStore.html#a6e22d1d3c67140ec14f52ed1c2bdc5d6">compactsInPlace</a> () const</td></tr>
<tr class="memdesc:a6e22d1d3c67140ec14f52ed1c2bdc5d6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Does <a class="el" href="classmongo_1_1RecordStore.html#a346acedb3f0b06954ab2deb83add6b38" title="Attempt to reduce the storage space used by this RecordStore. ">compact()</a> leave RecordIds alone or can they change.  <a href="#a6e22d1d3c67140ec14f52ed1c2bdc5d6">More...</a><br /></td></tr>
<tr class="separator:a6e22d1d3c67140ec14f52ed1c2bdc5d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a346acedb3f0b06954ab2deb83add6b38"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="namespacemongo.html#a7dd53a44ec884164bc07ed073e9f31da">Status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1RecordStore.html#a346acedb3f0b06954ab2deb83add6b38">compact</a> (OperationContext *<a class="el" href="namespacemongo.html#a15b23ef1d9a7f6cdadbf866f1e8e5043">opCtx</a>, <a class="el" href="classmongo_1_1RecordStoreCompactAdaptor.html">RecordStoreCompactAdaptor</a> *adaptor, const <a class="el" href="structmongo_1_1CompactOptions.html">CompactOptions</a> *<a class="el" href="namespacemongo.html#ad271b77bcd8d56d7a7e2205e9cb55df7">options</a>, <a class="el" href="structmongo_1_1CompactStats.html">CompactStats</a> *<a class="el" href="lock__state_8cpp.html#a462377416929733211c8a52a7de37ad9">stats</a>)</td></tr>
<tr class="memdesc:a346acedb3f0b06954ab2deb83add6b38"><td class="mdescLeft">&#160;</td><td class="mdescRight">Attempt to reduce the storage space used by this <a class="el" href="classmongo_1_1RecordStore.html" title="An abstraction used for storing documents in a collection or entries in an index. ...">RecordStore</a>.  <a href="#a346acedb3f0b06954ab2deb83add6b38">More...</a><br /></td></tr>
<tr class="separator:a346acedb3f0b06954ab2deb83add6b38"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae8985501aa36222d37ab2dd9b67707d7"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1RecordStore.html#ae8985501aa36222d37ab2dd9b67707d7">isInRecordIdOrder</a> () const</td></tr>
<tr class="memdesc:ae8985501aa36222d37ab2dd9b67707d7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Does the <a class="el" href="classmongo_1_1RecordStore.html" title="An abstraction used for storing documents in a collection or entries in an index. ...">RecordStore</a> cursor retrieve its document in RecordId Order?  <a href="#ae8985501aa36222d37ab2dd9b67707d7">More...</a><br /></td></tr>
<tr class="separator:ae8985501aa36222d37ab2dd9b67707d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7248338de6378676a2a1cbd1f38dab48"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="namespacemongo.html#a7dd53a44ec884164bc07ed073e9f31da">Status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1RecordStore.html#a7248338de6378676a2a1cbd1f38dab48">validate</a> (OperationContext *<a class="el" href="namespacemongo.html#a15b23ef1d9a7f6cdadbf866f1e8e5043">opCtx</a>, <a class="el" href="namespacemongo.html#a7cc155634c5bc912468d33fe47041775">ValidateCmdLevel</a> level, <a class="el" href="classmongo_1_1ValidateAdaptor.html">ValidateAdaptor</a> *adaptor, <a class="el" href="structmongo_1_1ValidateResults.html">ValidateResults</a> *results, BSONObjBuilder *output)=0</td></tr>
<tr class="separator:a7248338de6378676a2a1cbd1f38dab48"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5cb48e63dd3762331aa2ed79dcfd5edb"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="namespacemongo.html#aa639063deea016a1dac8f046e93900a6">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1RecordStore.html#a5cb48e63dd3762331aa2ed79dcfd5edb">appendCustomStats</a> (OperationContext *<a class="el" href="namespacemongo.html#a15b23ef1d9a7f6cdadbf866f1e8e5043">opCtx</a>, BSONObjBuilder *result, double scale) const =0</td></tr>
<tr class="separator:a5cb48e63dd3762331aa2ed79dcfd5edb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff413136bf8d0191d90fbf91f9db5072"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="namespacemongo.html#a7dd53a44ec884164bc07ed073e9f31da">Status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1RecordStore.html#aff413136bf8d0191d90fbf91f9db5072">touch</a> (OperationContext *<a class="el" href="namespacemongo.html#a15b23ef1d9a7f6cdadbf866f1e8e5043">opCtx</a>, BSONObjBuilder *output) const</td></tr>
<tr class="memdesc:aff413136bf8d0191d90fbf91f9db5072"><td class="mdescLeft">&#160;</td><td class="mdescRight">Load all data into cache.  <a href="#aff413136bf8d0191d90fbf91f9db5072">More...</a><br /></td></tr>
<tr class="separator:aff413136bf8d0191d90fbf91f9db5072"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:accdb134cd28102ea5b25bb1e5da38209"><td class="memItemLeft" align="right" valign="top">virtual boost::optional&lt; RecordId &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1RecordStore.html#accdb134cd28102ea5b25bb1e5da38209">oplogStartHack</a> (OperationContext *<a class="el" href="namespacemongo.html#a15b23ef1d9a7f6cdadbf866f1e8e5043">opCtx</a>, const RecordId &amp;startingPosition) const</td></tr>
<tr class="memdesc:accdb134cd28102ea5b25bb1e5da38209"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the RecordId of an oplog entry as close to startingPosition as possible without being higher.  <a href="#accdb134cd28102ea5b25bb1e5da38209">More...</a><br /></td></tr>
<tr class="separator:accdb134cd28102ea5b25bb1e5da38209"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac034b0f4a1a4f9e8dbc3190262e209ff"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="namespacemongo.html#a7dd53a44ec884164bc07ed073e9f31da">Status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1RecordStore.html#ac034b0f4a1a4f9e8dbc3190262e209ff">oplogDiskLocRegister</a> (OperationContext *<a class="el" href="namespacemongo.html#a15b23ef1d9a7f6cdadbf866f1e8e5043">opCtx</a>, const Timestamp &amp;opTime, bool orderedCommit)</td></tr>
<tr class="memdesc:ac034b0f4a1a4f9e8dbc3190262e209ff"><td class="mdescLeft">&#160;</td><td class="mdescRight">When we write to an oplog, we call this so that if the storage engine supports doc locking, it can manage the visibility of oplog entries to ensure they are ordered.  <a href="#ac034b0f4a1a4f9e8dbc3190262e209ff">More...</a><br /></td></tr>
<tr class="separator:ac034b0f4a1a4f9e8dbc3190262e209ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7486ead4beef7feb9448d317261e36ee"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="namespacemongo.html#aa639063deea016a1dac8f046e93900a6">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1RecordStore.html#a7486ead4beef7feb9448d317261e36ee">waitForAllEarlierOplogWritesToBeVisible</a> (OperationContext *<a class="el" href="namespacemongo.html#a15b23ef1d9a7f6cdadbf866f1e8e5043">opCtx</a>) const =0</td></tr>
<tr class="memdesc:a7486ead4beef7feb9448d317261e36ee"><td class="mdescLeft">&#160;</td><td class="mdescRight">Waits for all writes that completed before this call to be visible to forward scans.  <a href="#a7486ead4beef7feb9448d317261e36ee">More...</a><br /></td></tr>
<tr class="separator:a7486ead4beef7feb9448d317261e36ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ba5527ab658ec57fbd2b80554bdcf4a"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="namespacemongo.html#aa639063deea016a1dac8f046e93900a6">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1RecordStore.html#a4ba5527ab658ec57fbd2b80554bdcf4a">updateStatsAfterRepair</a> (OperationContext *<a class="el" href="namespacemongo.html#a15b23ef1d9a7f6cdadbf866f1e8e5043">opCtx</a>, long long <a class="el" href="classmongo_1_1RecordStore.html#a6ce1ace33ef4a63bb681ec4cab82bddd">numRecords</a>, long long <a class="el" href="classmongo_1_1RecordStore.html#af81322ff97471b16bfd172cd0020ec5b">dataSize</a>)=0</td></tr>
<tr class="memdesc:a4ba5527ab658ec57fbd2b80554bdcf4a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called after a repair operation is run with the recomputed numRecords and dataSize.  <a href="#a4ba5527ab658ec57fbd2b80554bdcf4a">More...</a><br /></td></tr>
<tr class="separator:a4ba5527ab658ec57fbd2b80554bdcf4a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a89264836634cbab1e2ea378c6bedcbc2"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="namespacemongo.html#a7dd53a44ec884164bc07ed073e9f31da">Status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1RecordStore.html#a89264836634cbab1e2ea378c6bedcbc2">updateCappedSize</a> (OperationContext *<a class="el" href="namespacemongo.html#a15b23ef1d9a7f6cdadbf866f1e8e5043">opCtx</a>, long long cappedSize)</td></tr>
<tr class="memdesc:a89264836634cbab1e2ea378c6bedcbc2"><td class="mdescLeft">&#160;</td><td class="mdescRight">used to support online change oplog size.  <a href="#a89264836634cbab1e2ea378c6bedcbc2">More...</a><br /></td></tr>
<tr class="separator:a89264836634cbab1e2ea378c6bedcbc2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a6a03f183b6b705e45a1e170a6bb5b6bc"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1RecordStore.html#a6a03f183b6b705e45a1e170a6bb5b6bc">_ns</a></td></tr>
<tr class="separator:a6a03f183b6b705e45a1e170a6bb5b6bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a5ce45888086e20e03578b860f54084a5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1RecordStore.html#a5ce45888086e20e03578b860f54084a5">MONGO_DISALLOW_COPYING</a> (<a class="el" href="classmongo_1_1RecordStore.html">RecordStore</a>)</td></tr>
<tr class="separator:a5ce45888086e20e03578b860f54084a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a10c9d0781171d6885030398acb2d2a59"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a10c9d0781171d6885030398acb2d2a59">&#9670;&nbsp;</a></span>RecordStore()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mongo::RecordStore::RecordStore </td>
          <td>(</td>
          <td class="paramtype">StringData&#160;</td>
          <td class="paramname"><em>ns</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a15f0fd57480351bdc0986944f66ee300"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a15f0fd57480351bdc0986944f66ee300">&#9670;&nbsp;</a></span>~RecordStore()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual mongo::RecordStore::~RecordStore </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a5cb48e63dd3762331aa2ed79dcfd5edb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5cb48e63dd3762331aa2ed79dcfd5edb">&#9670;&nbsp;</a></span>appendCustomStats()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="namespacemongo.html#aa639063deea016a1dac8f046e93900a6">void</a> mongo::RecordStore::appendCustomStats </td>
          <td>(</td>
          <td class="paramtype">OperationContext *&#160;</td>
          <td class="paramname"><em>opCtx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">BSONObjBuilder *&#160;</td>
          <td class="paramname"><em>result</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>scale</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">scaleSize</td><td>- amount by which to scale size metrics appends any custom stats from the <a class="el" href="classmongo_1_1RecordStore.html" title="An abstraction used for storing documents in a collection or entries in an index. ...">RecordStore</a> or other unique stats </td></tr>
  </table>
  </dd>
</dl>

<p>Implemented in <a class="el" href="classmongo_1_1RecordStoreV1Base.html#a7d0d3561996be0f0d82ebfec6e7ca3b9">mongo::RecordStoreV1Base</a>, <a class="el" href="classmongo_1_1WiredTigerRecordStore.html#a3fcd59c9e5a3dc2ef50ac923d483f795">mongo::WiredTigerRecordStore</a>, <a class="el" href="classmongo_1_1DevNullRecordStore.html#aaef23668ebd0e6f7d76d021de2bf48de">mongo::DevNullRecordStore</a>, <a class="el" href="classmongo_1_1HeapRecordStoreBtree.html#a432493872f2fc29c58e527d8c05d5e8c">mongo::HeapRecordStoreBtree</a>, <a class="el" href="classmongo_1_1MobileRecordStore.html#a314fa743815ce6e0fec31632bcb8223b">mongo::MobileRecordStore</a>, and <a class="el" href="classmongo_1_1EphemeralForTestRecordStore.html#a3a8cb42538ebec609025b7bfbb88b686">mongo::EphemeralForTestRecordStore</a>.</p>

</div>
</div>
<a id="af94e47409108ed086b750b766ab6c54a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af94e47409108ed086b750b766ab6c54a">&#9670;&nbsp;</a></span>cappedTruncateAfter()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="namespacemongo.html#aa639063deea016a1dac8f046e93900a6">void</a> mongo::RecordStore::cappedTruncateAfter </td>
          <td>(</td>
          <td class="paramtype">OperationContext *&#160;</td>
          <td class="paramname"><em>opCtx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">RecordId&#160;</td>
          <td class="paramname"><em>end</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>inclusive</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Truncate documents newer than the document at 'end' from the capped collection. </p>
<p>The collection cannot be completely emptied using this function. An assertion will be thrown if that is attempted. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">inclusive</td><td>- Truncate 'end' as well iff true </td></tr>
  </table>
  </dd>
</dl>

<p>Implemented in <a class="el" href="classmongo_1_1WiredTigerRecordStore.html#a71560b7efb7f6b4750ad18865a537707">mongo::WiredTigerRecordStore</a>, <a class="el" href="classmongo_1_1DevNullRecordStore.html#a07408913f7eacb4ce8a1c0e89e528104">mongo::DevNullRecordStore</a>, <a class="el" href="classmongo_1_1HeapRecordStoreBtree.html#a58fbe815d136a6e3165daa6c6b53322d">mongo::HeapRecordStoreBtree</a>, <a class="el" href="classmongo_1_1EphemeralForTestRecordStore.html#ad669cbdb5420a470cfa316d19456e2e5">mongo::EphemeralForTestRecordStore</a>, <a class="el" href="classmongo_1_1MobileRecordStore.html#ab154e1013d63be4901c095da6ccfe584">mongo::MobileRecordStore</a>, <a class="el" href="classmongo_1_1CappedRecordStoreV1.html#aeacb05b86830f45db2c28128a301893d">mongo::CappedRecordStoreV1</a>, and <a class="el" href="classmongo_1_1SimpleRecordStoreV1.html#a55593c27d21eb863d1d97a3b2fe7248f">mongo::SimpleRecordStoreV1</a>.</p>

</div>
</div>
<a id="a346acedb3f0b06954ab2deb83add6b38"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a346acedb3f0b06954ab2deb83add6b38">&#9670;&nbsp;</a></span>compact()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="namespacemongo.html#a7dd53a44ec884164bc07ed073e9f31da">Status</a> mongo::RecordStore::compact </td>
          <td>(</td>
          <td class="paramtype">OperationContext *&#160;</td>
          <td class="paramname"><em>opCtx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classmongo_1_1RecordStoreCompactAdaptor.html">RecordStoreCompactAdaptor</a> *&#160;</td>
          <td class="paramname"><em>adaptor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structmongo_1_1CompactOptions.html">CompactOptions</a> *&#160;</td>
          <td class="paramname"><em>options</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmongo_1_1CompactStats.html">CompactStats</a> *&#160;</td>
          <td class="paramname"><em>stats</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Attempt to reduce the storage space used by this <a class="el" href="classmongo_1_1RecordStore.html" title="An abstraction used for storing documents in a collection or entries in an index. ...">RecordStore</a>. </p>
<p>Only called if <a class="el" href="classmongo_1_1RecordStore.html#aa2e20bee4cc02cb9bf7233930d18b0ab" title="does this RecordStore support the compact operation? ">compactSupported()</a> returns true. No <a class="el" href="classmongo_1_1RecordStoreCompactAdaptor.html">RecordStoreCompactAdaptor</a> will be passed if <a class="el" href="classmongo_1_1RecordStore.html#a6e22d1d3c67140ec14f52ed1c2bdc5d6" title="Does compact() leave RecordIds alone or can they change. ">compactsInPlace()</a> returns true. </p>

<p>Reimplemented in <a class="el" href="classmongo_1_1WiredTigerRecordStore.html#afd1d865b0039dd62e0fb61e6bac3b04c">mongo::WiredTigerRecordStore</a>, <a class="el" href="classmongo_1_1MobileRecordStore.html#ad5a907a7da98fba5a8c89c014a301f6d">mongo::MobileRecordStore</a>, and <a class="el" href="classmongo_1_1SimpleRecordStoreV1.html#a153cdf17f1c65ce1897d0c3c6121b70f">mongo::SimpleRecordStoreV1</a>.</p>

</div>
</div>
<a id="a6e22d1d3c67140ec14f52ed1c2bdc5d6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6e22d1d3c67140ec14f52ed1c2bdc5d6">&#9670;&nbsp;</a></span>compactsInPlace()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool mongo::RecordStore::compactsInPlace </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Does <a class="el" href="classmongo_1_1RecordStore.html#a346acedb3f0b06954ab2deb83add6b38" title="Attempt to reduce the storage space used by this RecordStore. ">compact()</a> leave RecordIds alone or can they change. </p>
<p>Only called if <a class="el" href="classmongo_1_1RecordStore.html#aa2e20bee4cc02cb9bf7233930d18b0ab" title="does this RecordStore support the compact operation? ">compactSupported()</a> returns true. </p>

<p>Reimplemented in <a class="el" href="classmongo_1_1WiredTigerRecordStore.html#a3f0e1705d43bd52c90b26a55858f9320">mongo::WiredTigerRecordStore</a>, <a class="el" href="classmongo_1_1MobileRecordStore.html#a61252b0aafed3acbd97e27e78c7eb19f">mongo::MobileRecordStore</a>, and <a class="el" href="classmongo_1_1SimpleRecordStoreV1.html#abb2b24b6b0e30732addd3f46fecae91a">mongo::SimpleRecordStoreV1</a>.</p>

</div>
</div>
<a id="aa2e20bee4cc02cb9bf7233930d18b0ab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa2e20bee4cc02cb9bf7233930d18b0ab">&#9670;&nbsp;</a></span>compactSupported()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool mongo::RecordStore::compactSupported </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>does this <a class="el" href="classmongo_1_1RecordStore.html" title="An abstraction used for storing documents in a collection or entries in an index. ...">RecordStore</a> support the compact operation? </p>
<p>If you return true, you must provide implementations of all compact methods. </p>

<p>Reimplemented in <a class="el" href="classmongo_1_1WiredTigerRecordStore.html#a093c0b326bb638d1bf6b93aabdedeef8">mongo::WiredTigerRecordStore</a>, <a class="el" href="classmongo_1_1HeapRecordStoreBtree.html#ad65c96ddfa71c54302369729b1325bfa">mongo::HeapRecordStoreBtree</a>, <a class="el" href="classmongo_1_1MobileRecordStore.html#a9cdabab1f4d4784b1f77575af4570dee">mongo::MobileRecordStore</a>, and <a class="el" href="classmongo_1_1SimpleRecordStoreV1.html#a222cb0b9aa11505cbb60e0c6e3f97691">mongo::SimpleRecordStoreV1</a>.</p>

</div>
</div>
<a id="adee284dee4957dbe7eff17da80e01183"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adee284dee4957dbe7eff17da80e01183">&#9670;&nbsp;</a></span>dataFor()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="classmongo_1_1RecordData.html">RecordData</a> mongo::RecordStore::dataFor </td>
          <td>(</td>
          <td class="paramtype">OperationContext *&#160;</td>
          <td class="paramname"><em>opCtx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const RecordId &amp;&#160;</td>
          <td class="paramname"><em>loc</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the <a class="el" href="classmongo_1_1RecordData.html" title="A replacement for the Record class. ">RecordData</a> at loc, which must exist. </p>
<p>If unowned data is returned, it is valid until the next modification of this <a class="el" href="structmongo_1_1Record.html" title="The data items stored in a RecordStore. ">Record</a> or the lock on this collection is released.</p>
<p>In general, prefer findRecord or RecordCursor::seekExact since they can tell you if a record has been removed. </p>

<p>Reimplemented in <a class="el" href="classmongo_1_1RecordStoreV1Base.html#ad79fd851ddb04211f8b1bef9f31ef655">mongo::RecordStoreV1Base</a>, <a class="el" href="classmongo_1_1WiredTigerRecordStore.html#aa22d7b4cf44a00b564d095774ae62766">mongo::WiredTigerRecordStore</a>, <a class="el" href="classmongo_1_1DevNullRecordStore.html#a49ac33b963cf4293e315059333491b98">mongo::DevNullRecordStore</a>, <a class="el" href="classmongo_1_1EphemeralForTestRecordStore.html#aaacc6f8bf2f4787c2708d239d45ce243">mongo::EphemeralForTestRecordStore</a>, <a class="el" href="classmongo_1_1MobileRecordStore.html#a197c390e5562f51ac9bcd1cc1512bde4">mongo::MobileRecordStore</a>, and <a class="el" href="classmongo_1_1HeapRecordStoreBtree.html#af846e715e9f71ba85170cb58d4ef46a9">mongo::HeapRecordStoreBtree</a>.</p>

</div>
</div>
<a id="af81322ff97471b16bfd172cd0020ec5b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af81322ff97471b16bfd172cd0020ec5b">&#9670;&nbsp;</a></span>dataSize()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual long long mongo::RecordStore::dataSize </td>
          <td>(</td>
          <td class="paramtype">OperationContext *&#160;</td>
          <td class="paramname"><em>opCtx</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The dataSize is an approximation of the sum of the sizes (in bytes) of the documents or entries in the recordStore. </p>

<p>Implemented in <a class="el" href="classmongo_1_1RecordStoreV1Base.html#abdb58d3551c5124852e7767c4de42a1c">mongo::RecordStoreV1Base</a>, <a class="el" href="classmongo_1_1HeapRecordStoreBtree.html#afec4567ebdc9a3fea33f58efcfcc67aa">mongo::HeapRecordStoreBtree</a>, <a class="el" href="classmongo_1_1WiredTigerRecordStore.html#a1cd1e19b3a596d0b99c960f9bd202083">mongo::WiredTigerRecordStore</a>, <a class="el" href="classmongo_1_1MobileRecordStore.html#af66e183702bc9fde2cc4eb0840b208bc">mongo::MobileRecordStore</a>, <a class="el" href="classmongo_1_1EphemeralForTestRecordStore.html#aa56bb720d31163e1b767a25fea4459bc">mongo::EphemeralForTestRecordStore</a>, and <a class="el" href="classmongo_1_1DevNullRecordStore.html#afee68b37d506d4771c50371d39f9000b">mongo::DevNullRecordStore</a>.</p>

</div>
</div>
<a id="a88d00f49ffbbe8228dfd1b0bb7f093b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a88d00f49ffbbe8228dfd1b0bb7f093b3">&#9670;&nbsp;</a></span>deleteRecord()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="namespacemongo.html#aa639063deea016a1dac8f046e93900a6">void</a> mongo::RecordStore::deleteRecord </td>
          <td>(</td>
          <td class="paramtype">OperationContext *&#160;</td>
          <td class="paramname"><em>opCtx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const RecordId &amp;&#160;</td>
          <td class="paramname"><em>dl</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implemented in <a class="el" href="classmongo_1_1RecordStoreV1Base.html#ab85898bb25580f82d9a3b154686a67e8">mongo::RecordStoreV1Base</a>, <a class="el" href="classmongo_1_1WiredTigerRecordStore.html#aab83cb9cd43d4dbe96814854072d7c53">mongo::WiredTigerRecordStore</a>, <a class="el" href="classmongo_1_1DevNullRecordStore.html#a44dea3474cfc5d90d1b98b89cb713b44">mongo::DevNullRecordStore</a>, <a class="el" href="classmongo_1_1EphemeralForTestRecordStore.html#ab1ecc800a08eae2a4015e2d6f6c0b177">mongo::EphemeralForTestRecordStore</a>, <a class="el" href="classmongo_1_1MobileRecordStore.html#a4303b451a034bc3bb0c72d6bc9ce6264">mongo::MobileRecordStore</a>, and <a class="el" href="classmongo_1_1HeapRecordStoreBtree.html#a01d4cb81e2e133c3237481a8f6162769">mongo::HeapRecordStoreBtree</a>.</p>

</div>
</div>
<a id="a881b5b4d85a8e6544160b0275cd47222"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a881b5b4d85a8e6544160b0275cd47222">&#9670;&nbsp;</a></span>findRecord()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool mongo::RecordStore::findRecord </td>
          <td>(</td>
          <td class="paramtype">OperationContext *&#160;</td>
          <td class="paramname"><em>opCtx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const RecordId &amp;&#160;</td>
          <td class="paramname"><em>loc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classmongo_1_1RecordData.html">RecordData</a> *&#160;</td>
          <td class="paramname"><em>out</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">out</td><td>- If the record exists, the contents of this are set. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true iff there is a <a class="el" href="structmongo_1_1Record.html" title="The data items stored in a RecordStore. ">Record</a> for loc</dd></dl>
<p>If unowned data is returned, it is valid until the next modification of this <a class="el" href="structmongo_1_1Record.html" title="The data items stored in a RecordStore. ">Record</a> or the lock on this collection is released.</p>
<p>In general prefer RecordCursor::seekExact since it can avoid copying data in more storageEngines.</p>
<p>Warning: MMAPv1 cannot detect if RecordIds are valid. Therefore callers should only pass potentially deleted RecordIds to seek methods if they know that MMAPv1 is not the current storage engine. All new storage engines must support detecting the existence of Records. </p>

<p>Reimplemented in <a class="el" href="classmongo_1_1RecordStoreV1Base.html#ac4f7b877a9bdedb1071afa6d2803ba2b">mongo::RecordStoreV1Base</a>, <a class="el" href="classmongo_1_1WiredTigerRecordStore.html#ada7d5d97b19e522705267264b9d22cce">mongo::WiredTigerRecordStore</a>, <a class="el" href="classmongo_1_1DevNullRecordStore.html#a6645536831f90440e819e50b57e9220e">mongo::DevNullRecordStore</a>, <a class="el" href="classmongo_1_1EphemeralForTestRecordStore.html#a78ccf6b56ef42b965c8f67810a55c8be">mongo::EphemeralForTestRecordStore</a>, <a class="el" href="classmongo_1_1MobileRecordStore.html#aea109aecc6a72bd4d5f2a0f7ef3cb627">mongo::MobileRecordStore</a>, and <a class="el" href="classmongo_1_1HeapRecordStoreBtree.html#a64e4fc0d6a41f880b348441fda4ae71a">mongo::HeapRecordStoreBtree</a>.</p>

</div>
</div>
<a id="a1088a44661d162d4ddcd7b12d9b0ca77"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1088a44661d162d4ddcd7b12d9b0ca77">&#9670;&nbsp;</a></span>getCursor()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual std::unique_ptr&lt;<a class="el" href="classmongo_1_1SeekableRecordCursor.html">SeekableRecordCursor</a>&gt; mongo::RecordStore::getCursor </td>
          <td>(</td>
          <td class="paramtype">OperationContext *&#160;</td>
          <td class="paramname"><em>opCtx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>forward</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns a new cursor over this record store. </p>
<p>The cursor is logically positioned before the first (or last if !forward) <a class="el" href="structmongo_1_1Record.html" title="The data items stored in a RecordStore. ">Record</a> in the collection so that <a class="el" href="structmongo_1_1Record.html" title="The data items stored in a RecordStore. ">Record</a> will be returned on the first call to next(). Implementations are allowed to lazily seek to the first <a class="el" href="structmongo_1_1Record.html" title="The data items stored in a RecordStore. ">Record</a> when next() is called rather than doing it on construction. </p>

<p>Implemented in <a class="el" href="classmongo_1_1PrefixedWiredTigerRecordStore.html#af9cb5e55d1d964251fa68859ba7bdad8">mongo::PrefixedWiredTigerRecordStore</a>, <a class="el" href="classmongo_1_1StandardWiredTigerRecordStore.html#a38f78b3a163d325ba8c4605c7a91e729">mongo::StandardWiredTigerRecordStore</a>, <a class="el" href="classmongo_1_1WiredTigerRecordStore.html#ae25df04b22b252b7751a616578808fd2">mongo::WiredTigerRecordStore</a>, <a class="el" href="classmongo_1_1DevNullRecordStore.html#a5108496f19f939bacf7ac8cccbcfbbb6">mongo::DevNullRecordStore</a>, <a class="el" href="classmongo_1_1HeapRecordStoreBtree.html#a12567db713ae7a9aea4e35a3e8e0af7b">mongo::HeapRecordStoreBtree</a>, <a class="el" href="classmongo_1_1EphemeralForTestRecordStore.html#ad097ba420e49a1b3bff71f7b3cedc463">mongo::EphemeralForTestRecordStore</a>, <a class="el" href="classmongo_1_1MobileRecordStore.html#afd274a3bd09302b15fd5db020a272fa8">mongo::MobileRecordStore</a>, <a class="el" href="classmongo_1_1CappedRecordStoreV1.html#aa4f898ef3c6c7f322ce22925f22a0650">mongo::CappedRecordStoreV1</a>, and <a class="el" href="classmongo_1_1SimpleRecordStoreV1.html#a00bc6b2aaf2c574f4c7ff7e89fd1a8e1">mongo::SimpleRecordStoreV1</a>.</p>

</div>
</div>
<a id="afa34ca87ea7e872232cfefb6bc809d3f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afa34ca87ea7e872232cfefb6bc809d3f">&#9670;&nbsp;</a></span>getCursorForRepair()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual std::unique_ptr&lt;<a class="el" href="classmongo_1_1RecordCursor.html">RecordCursor</a>&gt; mongo::RecordStore::getCursorForRepair </td>
          <td>(</td>
          <td class="paramtype">OperationContext *&#160;</td>
          <td class="paramname"><em>opCtx</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Constructs a cursor over a potentially corrupted store, which can be used to salvage damaged records. </p>
<p>The iterator might return every record in the store if all of them are reachable and not corrupted. Returns NULL if not supported. </p>

<p>Reimplemented in <a class="el" href="classmongo_1_1RecordStoreV1Base.html#ac0295261fbb750f4baa5f1ceecb8aea8">mongo::RecordStoreV1Base</a>.</p>

</div>
</div>
<a id="a81cd14207566be7a6fe132215ea4238b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a81cd14207566be7a6fe132215ea4238b">&#9670;&nbsp;</a></span>getManyCursors()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual std::vector&lt;std::unique_ptr&lt;<a class="el" href="classmongo_1_1RecordCursor.html">RecordCursor</a>&gt; &gt; mongo::RecordStore::getManyCursors </td>
          <td>(</td>
          <td class="paramtype">OperationContext *&#160;</td>
          <td class="paramname"><em>opCtx</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns many RecordCursors that partition the <a class="el" href="classmongo_1_1RecordStore.html" title="An abstraction used for storing documents in a collection or entries in an index. ...">RecordStore</a> into many disjoint sets. </p>
<p>Iterating all returned RecordCursors is equivalent to iterating the full store. </p>

<p>Reimplemented in <a class="el" href="classmongo_1_1WiredTigerRecordStore.html#af70575129e67dd2aa4642cb5a4328a04">mongo::WiredTigerRecordStore</a>, <a class="el" href="classmongo_1_1CappedRecordStoreV1.html#acd0699c78bebfd7fce4b3b9d8344433f">mongo::CappedRecordStoreV1</a>, and <a class="el" href="classmongo_1_1SimpleRecordStoreV1.html#a753b0522ec8641be658a9c694bc87e56">mongo::SimpleRecordStoreV1</a>.</p>

</div>
</div>
<a id="a044a55f90a381a3504d34139889a339c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a044a55f90a381a3504d34139889a339c">&#9670;&nbsp;</a></span>getRandomCursor()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual std::unique_ptr&lt;<a class="el" href="classmongo_1_1RecordCursor.html">RecordCursor</a>&gt; mongo::RecordStore::getRandomCursor </td>
          <td>(</td>
          <td class="paramtype">OperationContext *&#160;</td>
          <td class="paramname"><em>opCtx</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Constructs a cursor over a record store that returns documents in a randomized order, and allows storage engines to provide a more efficient way of random sampling of a record store than MongoDB's default sampling methods, which is used when this method returns {}. </p>
<p>This method may be implemented using a pseudo-random walk over B-trees or a similar approach. Different cursors should return documents in a different order. Random cursors may return the same document more than once and, as a result, may return more documents than exist in the record store. Implementations should avoid obvious biases toward older, newer, larger smaller or other specific classes of documents. </p>

<p>Reimplemented in <a class="el" href="classmongo_1_1WiredTigerRecordStore.html#a1fa9e789ade11477d7454bbd0a77d6d4">mongo::WiredTigerRecordStore</a>.</p>

</div>
</div>
<a id="ae3c39aa6eedd361492038a4b4a0acc69"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae3c39aa6eedd361492038a4b4a0acc69">&#9670;&nbsp;</a></span>insertRecord()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="classmongo_1_1StatusWith.html">StatusWith</a>&lt;RecordId&gt; mongo::RecordStore::insertRecord </td>
          <td>(</td>
          <td class="paramtype">OperationContext *&#160;</td>
          <td class="paramname"><em>opCtx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Timestamp&#160;</td>
          <td class="paramname"><em>timestamp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>enforceQuota</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implemented in <a class="el" href="classmongo_1_1RecordStoreV1Base.html#a25e0cf46dbf25dec29c03d0539572722">mongo::RecordStoreV1Base</a>, <a class="el" href="classmongo_1_1WiredTigerRecordStore.html#aa06008c82176a4c7ff471ac0e3a03ee8">mongo::WiredTigerRecordStore</a>, <a class="el" href="classmongo_1_1DevNullRecordStore.html#a7c23364f040f4da3f40c361a4704eeac">mongo::DevNullRecordStore</a>, <a class="el" href="classmongo_1_1EphemeralForTestRecordStore.html#a84adad8f93100026f44a556cfb490ada">mongo::EphemeralForTestRecordStore</a>, <a class="el" href="classmongo_1_1MobileRecordStore.html#afb366a455f665dc26e2bb5f100488a5e">mongo::MobileRecordStore</a>, and <a class="el" href="classmongo_1_1HeapRecordStoreBtree.html#a6f373e01917221f449ff2422e3768c8a">mongo::HeapRecordStoreBtree</a>.</p>

</div>
</div>
<a id="a289ed02de76406a5516d5a14f27dbf22"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a289ed02de76406a5516d5a14f27dbf22">&#9670;&nbsp;</a></span>insertRecords()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="namespacemongo.html#a7dd53a44ec884164bc07ed073e9f31da">Status</a> mongo::RecordStore::insertRecords </td>
          <td>(</td>
          <td class="paramtype">OperationContext *&#160;</td>
          <td class="paramname"><em>opCtx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; <a class="el" href="structmongo_1_1Record.html">Record</a> &gt; *&#160;</td>
          <td class="paramname"><em>records</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; Timestamp &gt; *&#160;</td>
          <td class="paramname"><em>timestamps</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>enforceQuota</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reimplemented in <a class="el" href="classmongo_1_1WiredTigerRecordStore.html#af16429e6661f93d5f6d572f0bb586272">mongo::WiredTigerRecordStore</a>.</p>

</div>
</div>
<a id="a2cd3a7f097b6a0c8ae9036df1f4a1b03"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2cd3a7f097b6a0c8ae9036df1f4a1b03">&#9670;&nbsp;</a></span>insertRecordsWithDocWriter()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="namespacemongo.html#a7dd53a44ec884164bc07ed073e9f31da">Status</a> mongo::RecordStore::insertRecordsWithDocWriter </td>
          <td>(</td>
          <td class="paramtype">OperationContext *&#160;</td>
          <td class="paramname"><em>opCtx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classmongo_1_1DocWriter.html">DocWriter</a> *const *&#160;</td>
          <td class="paramname"><em>docs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const Timestamp *&#160;</td>
          <td class="paramname"><em>timestamps</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>nDocs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">RecordId *&#160;</td>
          <td class="paramname"><em>idsOut</em> = <code>nullptr</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Inserts nDocs documents into this <a class="el" href="classmongo_1_1RecordStore.html" title="An abstraction used for storing documents in a collection or entries in an index. ...">RecordStore</a> using the <a class="el" href="classmongo_1_1DocWriter.html" title="Allows inserting a Record &quot;in-place&quot; without creating a copy ahead of time. ">DocWriter</a> interface. </p>
<p>This allows the storage engine to reserve space for a record and have it built in-place rather than building the record then copying it into its destination.</p>
<p>On success, if idsOut is non-null the RecordIds of the inserted records will be written into it. It must have space for nDocs RecordIds. </p>

<p>Implemented in <a class="el" href="classmongo_1_1RecordStoreV1Base.html#aaa41022e23a9f6fb3ce412d5e8999092">mongo::RecordStoreV1Base</a>, <a class="el" href="classmongo_1_1WiredTigerRecordStore.html#a39d7545a668b0862067a8f038726faf5">mongo::WiredTigerRecordStore</a>, <a class="el" href="classmongo_1_1DevNullRecordStore.html#a8b081630e69e680f1642c2d48dacc4a0">mongo::DevNullRecordStore</a>, <a class="el" href="classmongo_1_1EphemeralForTestRecordStore.html#ae18f0dcca3f9399c0387db2c6bb66d26">mongo::EphemeralForTestRecordStore</a>, <a class="el" href="classmongo_1_1MobileRecordStore.html#a65ece7f0b97e0238cfa0520c9874eda4">mongo::MobileRecordStore</a>, and <a class="el" href="classmongo_1_1HeapRecordStoreBtree.html#ac6262a3f62597d90ccf43daa2db56c0e">mongo::HeapRecordStoreBtree</a>.</p>

</div>
</div>
<a id="a8d5f95b3596bb8b1d85c5a24c2a48fb6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8d5f95b3596bb8b1d85c5a24c2a48fb6">&#9670;&nbsp;</a></span>insertRecordWithDocWriter()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classmongo_1_1StatusWith.html">StatusWith</a>&lt;RecordId&gt; mongo::RecordStore::insertRecordWithDocWriter </td>
          <td>(</td>
          <td class="paramtype">OperationContext *&#160;</td>
          <td class="paramname"><em>opCtx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classmongo_1_1DocWriter.html">DocWriter</a> *&#160;</td>
          <td class="paramname"><em>doc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Timestamp&#160;</td>
          <td class="paramname"><em>timestamp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>A thin wrapper around <a class="el" href="classmongo_1_1RecordStore.html#a2cd3a7f097b6a0c8ae9036df1f4a1b03" title="Inserts nDocs documents into this RecordStore using the DocWriter interface. ">insertRecordsWithDocWriter()</a> to simplify handling of single DocWriters. </p>

</div>
</div>
<a id="a3f586a7df2a8ce13061f12311e8fcf47"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3f586a7df2a8ce13061f12311e8fcf47">&#9670;&nbsp;</a></span>isCapped()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool mongo::RecordStore::isCapped </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implemented in <a class="el" href="classmongo_1_1RecordStoreV1Base.html#ac7b060592574eb25dcac595fc80de041">mongo::RecordStoreV1Base</a>, <a class="el" href="classmongo_1_1EphemeralForTestRecordStore.html#adb9de892095671c4d7ac8a1486a25cb5">mongo::EphemeralForTestRecordStore</a>, <a class="el" href="classmongo_1_1HeapRecordStoreBtree.html#aeed101ffb822aa4efba7eb480326db1a">mongo::HeapRecordStoreBtree</a>, <a class="el" href="classmongo_1_1MobileRecordStore.html#ab414fdc30ce0663d3bbb5084c88144eb">mongo::MobileRecordStore</a>, <a class="el" href="classmongo_1_1WiredTigerRecordStore.html#a54bec605c8ee634abd3922f770cdce7e">mongo::WiredTigerRecordStore</a>, <a class="el" href="classmongo_1_1DevNullRecordStore.html#a794bfb5f916fcf4f4108640f97ce3e6a">mongo::DevNullRecordStore</a>, <a class="el" href="classmongo_1_1SimpleRecordStoreV1.html#ac6249dba061abf1a51043c0e76e214c1">mongo::SimpleRecordStoreV1</a>, and <a class="el" href="classmongo_1_1CappedRecordStoreV1.html#a5266ad1cc643d0b561fe0dabaebd8ff2">mongo::CappedRecordStoreV1</a>.</p>

</div>
</div>
<a id="ae8985501aa36222d37ab2dd9b67707d7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae8985501aa36222d37ab2dd9b67707d7">&#9670;&nbsp;</a></span>isInRecordIdOrder()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool mongo::RecordStore::isInRecordIdOrder </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Does the <a class="el" href="classmongo_1_1RecordStore.html" title="An abstraction used for storing documents in a collection or entries in an index. ...">RecordStore</a> cursor retrieve its document in RecordId Order? </p>
<p>If a subclass overrides the default value to true, the <a class="el" href="classmongo_1_1RecordStore.html" title="An abstraction used for storing documents in a collection or entries in an index. ...">RecordStore</a> cursor must retrieve its documents in RecordId order.</p>
<p>This enables your storage engine to run collection validation in the background. </p>

<p>Reimplemented in <a class="el" href="classmongo_1_1WiredTigerRecordStore.html#a49983797c3cc4b2244082f23aa602ad1">mongo::WiredTigerRecordStore</a>.</p>

</div>
</div>
<a id="a5ce45888086e20e03578b860f54084a5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5ce45888086e20e03578b860f54084a5">&#9670;&nbsp;</a></span>MONGO_DISALLOW_COPYING()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mongo::RecordStore::MONGO_DISALLOW_COPYING </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classmongo_1_1RecordStore.html">RecordStore</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a3add80715366bb26bcf8afdca47261b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3add80715366bb26bcf8afdca47261b3">&#9670;&nbsp;</a></span>name()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual const char* mongo::RecordStore::name </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implemented in <a class="el" href="classmongo_1_1HeapRecordStoreBtree.html#aedd1fe799bfde2b5e0edd8eeb0e68422">mongo::HeapRecordStoreBtree</a>, <a class="el" href="classmongo_1_1WiredTigerRecordStore.html#ae4b288574a04e78493120772d9fc2b9f">mongo::WiredTigerRecordStore</a>, <a class="el" href="classmongo_1_1DevNullRecordStore.html#add76965b32381d03509afcee020295cc">mongo::DevNullRecordStore</a>, <a class="el" href="classmongo_1_1EphemeralForTestRecordStore.html#ae5a1331379481eaddd61832a726b13ab">mongo::EphemeralForTestRecordStore</a>, <a class="el" href="classmongo_1_1MobileRecordStore.html#ad4470e1973ef8113e9bcc0b192146c8e">mongo::MobileRecordStore</a>, <a class="el" href="classmongo_1_1CappedRecordStoreV1.html#a196549bfce11b3a09a8ae6d66863f9c4">mongo::CappedRecordStoreV1</a>, and <a class="el" href="classmongo_1_1SimpleRecordStoreV1.html#a966405310e0f5db7151c51a41f1e0089">mongo::SimpleRecordStoreV1</a>.</p>

</div>
</div>
<a id="ab57ca9998314c5c59f284515fd8bdea8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab57ca9998314c5c59f284515fd8bdea8">&#9670;&nbsp;</a></span>ns()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual const std::string&amp; mongo::RecordStore::ns </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a6ce1ace33ef4a63bb681ec4cab82bddd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6ce1ace33ef4a63bb681ec4cab82bddd">&#9670;&nbsp;</a></span>numRecords()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual long long mongo::RecordStore::numRecords </td>
          <td>(</td>
          <td class="paramtype">OperationContext *&#160;</td>
          <td class="paramname"><em>opCtx</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Total number of record in the <a class="el" href="classmongo_1_1RecordStore.html" title="An abstraction used for storing documents in a collection or entries in an index. ...">RecordStore</a>. </p>
<p>You may need to cache it, so this call takes constant time, as it is called often. </p>

<p>Implemented in <a class="el" href="classmongo_1_1RecordStoreV1Base.html#afd525b1896e01a9e4b732956e46c12f3">mongo::RecordStoreV1Base</a>, <a class="el" href="classmongo_1_1WiredTigerRecordStore.html#aff72e332fa44846ee25a296f0f9d0af8">mongo::WiredTigerRecordStore</a>, <a class="el" href="classmongo_1_1MobileRecordStore.html#a85f74fae6d6d8eb3eb3f64050d9f1aac">mongo::MobileRecordStore</a>, <a class="el" href="classmongo_1_1EphemeralForTestRecordStore.html#ae861130f25522d675b0fe55c5fc5e19b">mongo::EphemeralForTestRecordStore</a>, <a class="el" href="classmongo_1_1DevNullRecordStore.html#ad8e687d32902bb5430ba6e6811e47ac3">mongo::DevNullRecordStore</a>, and <a class="el" href="classmongo_1_1HeapRecordStoreBtree.html#a9f30fa91d06e00436401203e567a6025">mongo::HeapRecordStoreBtree</a>.</p>

</div>
</div>
<a id="ac034b0f4a1a4f9e8dbc3190262e209ff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac034b0f4a1a4f9e8dbc3190262e209ff">&#9670;&nbsp;</a></span>oplogDiskLocRegister()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="namespacemongo.html#a7dd53a44ec884164bc07ed073e9f31da">Status</a> mongo::RecordStore::oplogDiskLocRegister </td>
          <td>(</td>
          <td class="paramtype">OperationContext *&#160;</td>
          <td class="paramname"><em>opCtx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const Timestamp &amp;&#160;</td>
          <td class="paramname"><em>opTime</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>orderedCommit</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>When we write to an oplog, we call this so that if the storage engine supports doc locking, it can manage the visibility of oplog entries to ensure they are ordered. </p>
<p>Since this is called inside of a <a class="el" href="classmongo_1_1WriteUnitOfWork.html" title="The WriteUnitOfWork is an RAII type that begins a storage engine write unit of work on both the Locke...">WriteUnitOfWork</a> while holding a std::mutex, it is illegal to acquire any <a class="el" href="classmongo_1_1LockManager.html" title="Entry point for the lock manager scheduling functionality. ">LockManager</a> locks inside of this function.</p>
<p>If <code>orderedCommit</code> is true, the storage engine can assume the input <code>opTime</code> has become visible in the oplog. Otherwise the storage engine must continue to maintain its own visibility management. Calls with <code>orderedCommit</code> true will not be concurrent with calls of <code>orderedCommit</code> false. </p>

<p>Reimplemented in <a class="el" href="classmongo_1_1WiredTigerRecordStore.html#ab9b16823d9cc96c8bd3a73ca02201b85">mongo::WiredTigerRecordStore</a>.</p>

</div>
</div>
<a id="accdb134cd28102ea5b25bb1e5da38209"></a>
<h2 class="memtitle"><span class="permalink"><a href="#accdb134cd28102ea5b25bb1e5da38209">&#9670;&nbsp;</a></span>oplogStartHack()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual boost::optional&lt;RecordId&gt; mongo::RecordStore::oplogStartHack </td>
          <td>(</td>
          <td class="paramtype">OperationContext *&#160;</td>
          <td class="paramname"><em>opCtx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const RecordId &amp;&#160;</td>
          <td class="paramname"><em>startingPosition</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return the RecordId of an oplog entry as close to startingPosition as possible without being higher. </p>
<p>If there are no entries &lt;= startingPosition, return RecordId().</p>
<p>If you don't implement the oplogStartHack, just use the default implementation which returns boost::none. </p>

<p>Reimplemented in <a class="el" href="classmongo_1_1WiredTigerRecordStore.html#a21842d8a49c54495055de0fe9c0692a2">mongo::WiredTigerRecordStore</a>, <a class="el" href="classmongo_1_1MobileRecordStore.html#a72a4f2dd1da4a50a66bc9c716cb8d6cd">mongo::MobileRecordStore</a>, and <a class="el" href="classmongo_1_1EphemeralForTestRecordStore.html#a53ea2bc0d07e60eb6b7809e711057760">mongo::EphemeralForTestRecordStore</a>.</p>

</div>
</div>
<a id="a0919c25270d91c3501d796e5178a0c8e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0919c25270d91c3501d796e5178a0c8e">&#9670;&nbsp;</a></span>setCappedCallback()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="namespacemongo.html#aa639063deea016a1dac8f046e93900a6">void</a> mongo::RecordStore::setCappedCallback </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classmongo_1_1CappedCallback.html">CappedCallback</a> *&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reimplemented in <a class="el" href="classmongo_1_1WiredTigerRecordStore.html#a548b8d7c403ed7e547290cc94b88dc7a">mongo::WiredTigerRecordStore</a>, <a class="el" href="classmongo_1_1EphemeralForTestRecordStore.html#a85fb5c5950e1e44f4a98c69d57ff68a6">mongo::EphemeralForTestRecordStore</a>, <a class="el" href="classmongo_1_1MobileRecordStore.html#a459fd94434f5fd7613d0e427b6bb0d78">mongo::MobileRecordStore</a>, <a class="el" href="classmongo_1_1CappedRecordStoreV1.html#adb36361f7e44704918ff92c2883561c4">mongo::CappedRecordStoreV1</a>, and <a class="el" href="classmongo_1_1DevNullRecordStore.html#aa75bddb51e5c45d637b8aa9126795040">mongo::DevNullRecordStore</a>.</p>

</div>
</div>
<a id="aa70dc26fa382ed42d86b47c4419739df"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa70dc26fa382ed42d86b47c4419739df">&#9670;&nbsp;</a></span>storageSize()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual int64_t mongo::RecordStore::storageSize </td>
          <td>(</td>
          <td class="paramtype">OperationContext *&#160;</td>
          <td class="paramname"><em>opCtx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">BSONObjBuilder *&#160;</td>
          <td class="paramname"><em>extraInfo</em> = <code>NULL</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>infoLevel</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">extraInfo</td><td>- optional more debug info </td></tr>
    <tr><td class="paramname">level</td><td>- optional, level of debug info to put in (higher is more) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>total estimate size (in bytes) on stable storage </dd></dl>

<p>Implemented in <a class="el" href="classmongo_1_1RecordStoreV1Base.html#a1fc1c02d3c5eda0d2bb29d7b0ca4d25e">mongo::RecordStoreV1Base</a>, <a class="el" href="classmongo_1_1HeapRecordStoreBtree.html#ab045d41186e66bd24552cb825308c285">mongo::HeapRecordStoreBtree</a>, <a class="el" href="classmongo_1_1WiredTigerRecordStore.html#a8516aaf6b5aef90ef33bce8169d41ae3">mongo::WiredTigerRecordStore</a>, <a class="el" href="classmongo_1_1MobileRecordStore.html#a0defd6b6a51c6343a1b782265e971fe2">mongo::MobileRecordStore</a>, <a class="el" href="classmongo_1_1EphemeralForTestRecordStore.html#a65d13859cf719c179456b54538897935">mongo::EphemeralForTestRecordStore</a>, and <a class="el" href="classmongo_1_1DevNullRecordStore.html#a6cfe4cabf88057abad57325cc8faeebe">mongo::DevNullRecordStore</a>.</p>

</div>
</div>
<a id="aff413136bf8d0191d90fbf91f9db5072"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aff413136bf8d0191d90fbf91f9db5072">&#9670;&nbsp;</a></span>touch()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="namespacemongo.html#a7dd53a44ec884164bc07ed073e9f31da">Status</a> mongo::RecordStore::touch </td>
          <td>(</td>
          <td class="paramtype">OperationContext *&#160;</td>
          <td class="paramname"><em>opCtx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">BSONObjBuilder *&#160;</td>
          <td class="paramname"><em>output</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Load all data into cache. </p>
<p>What cache depends on implementation.</p>
<p>If the underlying storage engine does not support the operation, returns ErrorCodes::CommandNotSupported</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">output</td><td>(optional) - where to put detailed stats </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="classmongo_1_1RecordStoreV1Base.html#a04677d27fb11c9dd7a44f60ff6e55886">mongo::RecordStoreV1Base</a>, <a class="el" href="classmongo_1_1WiredTigerRecordStore.html#abe9b930a3354c1f91e6afb719ba1d27f">mongo::WiredTigerRecordStore</a>, <a class="el" href="classmongo_1_1DevNullRecordStore.html#abffab46a651b0580f88375f5fd40270d">mongo::DevNullRecordStore</a>, <a class="el" href="classmongo_1_1MobileRecordStore.html#abbbd814d6ab388b5a0f2ffa699b94539">mongo::MobileRecordStore</a>, <a class="el" href="classmongo_1_1EphemeralForTestRecordStore.html#a5826e312f30b6cb21b13a540e6f8145a">mongo::EphemeralForTestRecordStore</a>, and <a class="el" href="classmongo_1_1HeapRecordStoreBtree.html#ac8013b74da8bf200334d0cd29e170d71">mongo::HeapRecordStoreBtree</a>.</p>

</div>
</div>
<a id="a64860d998ce26a69c8571dd02ec2a5b8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a64860d998ce26a69c8571dd02ec2a5b8">&#9670;&nbsp;</a></span>truncate()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="namespacemongo.html#a7dd53a44ec884164bc07ed073e9f31da">Status</a> mongo::RecordStore::truncate </td>
          <td>(</td>
          <td class="paramtype">OperationContext *&#160;</td>
          <td class="paramname"><em>opCtx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>removes all Records </p>

<p>Implemented in <a class="el" href="classmongo_1_1WiredTigerRecordStore.html#a6db00997264a11e65d9c70da1b9282d1">mongo::WiredTigerRecordStore</a>, <a class="el" href="classmongo_1_1DevNullRecordStore.html#ae8d3476cbdd3bdb284e4651e1e1fda3e">mongo::DevNullRecordStore</a>, <a class="el" href="classmongo_1_1HeapRecordStoreBtree.html#ace98280b0264cfc077685c0c13776a31">mongo::HeapRecordStoreBtree</a>, <a class="el" href="classmongo_1_1EphemeralForTestRecordStore.html#a4adee62f2845b1599f795e989871250e">mongo::EphemeralForTestRecordStore</a>, <a class="el" href="classmongo_1_1MobileRecordStore.html#aa1a620c6a0f8e68c34c89d78bdd18a60">mongo::MobileRecordStore</a>, <a class="el" href="classmongo_1_1SimpleRecordStoreV1.html#a891ad8af2cfa2bebba17c91c5f0d61b8">mongo::SimpleRecordStoreV1</a>, and <a class="el" href="classmongo_1_1CappedRecordStoreV1.html#ad1a3d44a2184f4b3626e2fb3b032b3f4">mongo::CappedRecordStoreV1</a>.</p>

</div>
</div>
<a id="a89264836634cbab1e2ea378c6bedcbc2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a89264836634cbab1e2ea378c6bedcbc2">&#9670;&nbsp;</a></span>updateCappedSize()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="namespacemongo.html#a7dd53a44ec884164bc07ed073e9f31da">Status</a> mongo::RecordStore::updateCappedSize </td>
          <td>(</td>
          <td class="paramtype">OperationContext *&#160;</td>
          <td class="paramname"><em>opCtx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long long&#160;</td>
          <td class="paramname"><em>cappedSize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>used to support online change oplog size. </p>

<p>Reimplemented in <a class="el" href="classmongo_1_1WiredTigerRecordStore.html#af3f7e0c645fa2bb0642942f6750d02ff">mongo::WiredTigerRecordStore</a>, and <a class="el" href="classmongo_1_1MobileRecordStore.html#a03980ab6319848783523a94a8bab8b66">mongo::MobileRecordStore</a>.</p>

</div>
</div>
<a id="ab11ecd3a04a7f5909e8943c8b51985c9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab11ecd3a04a7f5909e8943c8b51985c9">&#9670;&nbsp;</a></span>updateRecord()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="namespacemongo.html#a7dd53a44ec884164bc07ed073e9f31da">Status</a> mongo::RecordStore::updateRecord </td>
          <td>(</td>
          <td class="paramtype">OperationContext *&#160;</td>
          <td class="paramname"><em>opCtx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const RecordId &amp;&#160;</td>
          <td class="paramname"><em>oldLocation</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>enforceQuota</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classmongo_1_1UpdateNotifier.html">UpdateNotifier</a> *&#160;</td>
          <td class="paramname"><em>notifier</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">notifier</td><td>- Only used by record stores which do not support doc-locking. Called only in the case of an in-place update. Called just before the in-place write occurs. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Status - If a document move is required (MMAPv1 only) then a status of ErrorCodes::NeedsDocumentMove will be returned. On receipt of this status no update will be performed. It is the caller's responsibility to:<ol type="1">
<li>Remove the existing document and associated index keys.</li>
<li>Insert a new document and index keys.</li>
</ol>
</dd></dl>
<p>For capped record stores, the record size will never change. </p>

<p>Implemented in <a class="el" href="classmongo_1_1RecordStoreV1Base.html#ada84ce1b4bc9283fe793f93c635f754f">mongo::RecordStoreV1Base</a>, <a class="el" href="classmongo_1_1WiredTigerRecordStore.html#a251ef4c544e9005d42a528744e7f8a23">mongo::WiredTigerRecordStore</a>, <a class="el" href="classmongo_1_1DevNullRecordStore.html#a92119397b58b12db5280e9f7386622b5">mongo::DevNullRecordStore</a>, <a class="el" href="classmongo_1_1HeapRecordStoreBtree.html#a46cb68af9083a941bb5520afbdd41034">mongo::HeapRecordStoreBtree</a>, <a class="el" href="classmongo_1_1EphemeralForTestRecordStore.html#a75ab729000c0c594a2a119dad957bc5c">mongo::EphemeralForTestRecordStore</a>, and <a class="el" href="classmongo_1_1MobileRecordStore.html#a946c349d9b1e0eff2d99cb77e612b53e">mongo::MobileRecordStore</a>.</p>

</div>
</div>
<a id="a4ba5527ab658ec57fbd2b80554bdcf4a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4ba5527ab658ec57fbd2b80554bdcf4a">&#9670;&nbsp;</a></span>updateStatsAfterRepair()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="namespacemongo.html#aa639063deea016a1dac8f046e93900a6">void</a> mongo::RecordStore::updateStatsAfterRepair </td>
          <td>(</td>
          <td class="paramtype">OperationContext *&#160;</td>
          <td class="paramname"><em>opCtx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long long&#160;</td>
          <td class="paramname"><em>numRecords</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long long&#160;</td>
          <td class="paramname"><em>dataSize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Called after a repair operation is run with the recomputed numRecords and dataSize. </p>

<p>Implemented in <a class="el" href="classmongo_1_1RecordStoreV1Base.html#aad76f2070018a9cc101a2572dde532c2">mongo::RecordStoreV1Base</a>, <a class="el" href="classmongo_1_1WiredTigerRecordStore.html#aa1c7d645b7c05af50d816a0e67367a01">mongo::WiredTigerRecordStore</a>, <a class="el" href="classmongo_1_1DevNullRecordStore.html#afdc9889fab6c9e813c45a4c939ffc708">mongo::DevNullRecordStore</a>, <a class="el" href="classmongo_1_1HeapRecordStoreBtree.html#a91c8f20dceb95302862aece793b7a2e0">mongo::HeapRecordStoreBtree</a>, <a class="el" href="classmongo_1_1MobileRecordStore.html#ae04d6ee66b5c2b591f1e52108417f9d6">mongo::MobileRecordStore</a>, and <a class="el" href="classmongo_1_1EphemeralForTestRecordStore.html#a93ddd00af4b4656b43431bd83c54de6c">mongo::EphemeralForTestRecordStore</a>.</p>

</div>
</div>
<a id="ad15415ccbf70b1d4dade0fc543416967"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad15415ccbf70b1d4dade0fc543416967">&#9670;&nbsp;</a></span>updateWithDamages()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="classmongo_1_1StatusWith.html">StatusWith</a>&lt;<a class="el" href="classmongo_1_1RecordData.html">RecordData</a>&gt; mongo::RecordStore::updateWithDamages </td>
          <td>(</td>
          <td class="paramtype">OperationContext *&#160;</td>
          <td class="paramname"><em>opCtx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const RecordId &amp;&#160;</td>
          <td class="paramname"><em>loc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classmongo_1_1RecordData.html">RecordData</a> &amp;&#160;</td>
          <td class="paramname"><em>oldRec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>damageSource</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const mutablebson::DamageVector &amp;&#160;</td>
          <td class="paramname"><em>damages</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Updates the record positioned at 'loc' in-place using the deltas described by 'damages'. </p>
<p>The 'damages' vector describes contiguous ranges of 'damageSource' from which to copy and apply byte-level changes to the data.</p>
<dl class="section return"><dt>Returns</dt><dd>the updated version of the record. If unowned data is returned, then it is valid until the next modification of this <a class="el" href="structmongo_1_1Record.html" title="The data items stored in a RecordStore. ">Record</a> or the lock on the collection has been released. </dd></dl>

<p>Implemented in <a class="el" href="classmongo_1_1RecordStoreV1Base.html#a4dac740cc9074a4f4c93278dbbad71af">mongo::RecordStoreV1Base</a>, <a class="el" href="classmongo_1_1WiredTigerRecordStore.html#ae4798bb6e38cfba9ea37b6353905efdf">mongo::WiredTigerRecordStore</a>, <a class="el" href="classmongo_1_1DevNullRecordStore.html#aaec57bafdf2dc1b660571f39e13150a7">mongo::DevNullRecordStore</a>, <a class="el" href="classmongo_1_1HeapRecordStoreBtree.html#a93777ed5e7e6bccebc0e0e9dbabfdbab">mongo::HeapRecordStoreBtree</a>, <a class="el" href="classmongo_1_1EphemeralForTestRecordStore.html#acf3e3dd57ee143e6735c4cbe5783106d">mongo::EphemeralForTestRecordStore</a>, and <a class="el" href="classmongo_1_1MobileRecordStore.html#a8ba206a9cd9ed8586c50773912b43500">mongo::MobileRecordStore</a>.</p>

</div>
</div>
<a id="a01fa74c96c2440e87ca4a17cb1dab136"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a01fa74c96c2440e87ca4a17cb1dab136">&#9670;&nbsp;</a></span>updateWithDamagesSupported()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool mongo::RecordStore::updateWithDamagesSupported </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>Returns 'false' if this record store does not implement 'updatewithDamages'. If this method returns false, 'updateWithDamages' must not be called, and all updates must be routed through 'updateRecord' above. This allows the update framework to avoid doing the work of damage tracking if the underlying record store cannot utilize that information. </dd></dl>

<p>Implemented in <a class="el" href="classmongo_1_1RecordStoreV1Base.html#a963b7f96f3ff29cd779ac30234300fac">mongo::RecordStoreV1Base</a>, <a class="el" href="classmongo_1_1WiredTigerRecordStore.html#a26ec836af436bfbfadd0adf0d6d700d4">mongo::WiredTigerRecordStore</a>, <a class="el" href="classmongo_1_1DevNullRecordStore.html#a6ed983fe794406336d9d082f5a79948c">mongo::DevNullRecordStore</a>, <a class="el" href="classmongo_1_1HeapRecordStoreBtree.html#a6c0e5ce913c64a63ebf101b87290adf3">mongo::HeapRecordStoreBtree</a>, <a class="el" href="classmongo_1_1EphemeralForTestRecordStore.html#aca1eb09951f923ed23dbd571d0fdcd59">mongo::EphemeralForTestRecordStore</a>, and <a class="el" href="classmongo_1_1MobileRecordStore.html#aae81f7ff5514cbf6300f00ed09c71392">mongo::MobileRecordStore</a>.</p>

</div>
</div>
<a id="a7248338de6378676a2a1cbd1f38dab48"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7248338de6378676a2a1cbd1f38dab48">&#9670;&nbsp;</a></span>validate()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="namespacemongo.html#a7dd53a44ec884164bc07ed073e9f31da">Status</a> mongo::RecordStore::validate </td>
          <td>(</td>
          <td class="paramtype">OperationContext *&#160;</td>
          <td class="paramname"><em>opCtx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacemongo.html#a7cc155634c5bc912468d33fe47041775">ValidateCmdLevel</a>&#160;</td>
          <td class="paramname"><em>level</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classmongo_1_1ValidateAdaptor.html">ValidateAdaptor</a> *&#160;</td>
          <td class="paramname"><em>adaptor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmongo_1_1ValidateResults.html">ValidateResults</a> *&#160;</td>
          <td class="paramname"><em>results</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">BSONObjBuilder *&#160;</td>
          <td class="paramname"><em>output</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>OK if the validate run successfully OK will be returned even if corruption is found deatils will be in result </dd></dl>

<p>Implemented in <a class="el" href="classmongo_1_1RecordStoreV1Base.html#a776e9c50ce491e6578da0965b8a4abce">mongo::RecordStoreV1Base</a>, <a class="el" href="classmongo_1_1WiredTigerRecordStore.html#a3835335ad61194e577de1399be1738a1">mongo::WiredTigerRecordStore</a>, <a class="el" href="classmongo_1_1DevNullRecordStore.html#a15dabfc879c7b5db21db70b099897af3">mongo::DevNullRecordStore</a>, <a class="el" href="classmongo_1_1HeapRecordStoreBtree.html#ab0fbd07a6333884d478ceef4655711ef">mongo::HeapRecordStoreBtree</a>, <a class="el" href="classmongo_1_1MobileRecordStore.html#a7f9b5c9443ad58b6bff2bdd96f90e094">mongo::MobileRecordStore</a>, and <a class="el" href="classmongo_1_1EphemeralForTestRecordStore.html#ab0b7edc033b60324785a350924255d5e">mongo::EphemeralForTestRecordStore</a>.</p>

</div>
</div>
<a id="a7486ead4beef7feb9448d317261e36ee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7486ead4beef7feb9448d317261e36ee">&#9670;&nbsp;</a></span>waitForAllEarlierOplogWritesToBeVisible()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="namespacemongo.html#aa639063deea016a1dac8f046e93900a6">void</a> mongo::RecordStore::waitForAllEarlierOplogWritesToBeVisible </td>
          <td>(</td>
          <td class="paramtype">OperationContext *&#160;</td>
          <td class="paramname"><em>opCtx</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Waits for all writes that completed before this call to be visible to forward scans. </p>
<p>See the comment on <a class="el" href="classmongo_1_1RecordCursor.html" title="Retrieves Records from a RecordStore. ">RecordCursor</a> for more details about the visibility rules.</p>
<p>It is only legal to call this on an oplog. It is illegal to call this inside a <a class="el" href="classmongo_1_1WriteUnitOfWork.html" title="The WriteUnitOfWork is an RAII type that begins a storage engine write unit of work on both the Locke...">WriteUnitOfWork</a>. </p>

<p>Implemented in <a class="el" href="classmongo_1_1RecordStoreV1Base.html#a36c57f893b166712e359b219c7cade73">mongo::RecordStoreV1Base</a>, <a class="el" href="classmongo_1_1WiredTigerRecordStore.html#a8bca45e830771b8817d0c75260d949c6">mongo::WiredTigerRecordStore</a>, <a class="el" href="classmongo_1_1DevNullRecordStore.html#af0ccda60606ccc9750be0a4dc001a0a0">mongo::DevNullRecordStore</a>, <a class="el" href="classmongo_1_1HeapRecordStoreBtree.html#ada7fd2fd75733d6c22a61ed16c3fcf3b">mongo::HeapRecordStoreBtree</a>, <a class="el" href="classmongo_1_1MobileRecordStore.html#aeaa689458429d1650242387573f9ead7">mongo::MobileRecordStore</a>, and <a class="el" href="classmongo_1_1EphemeralForTestRecordStore.html#a5db3272563afc7f351091ff8f5e50fe5">mongo::EphemeralForTestRecordStore</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a6a03f183b6b705e45a1e170a6bb5b6bc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6a03f183b6b705e45a1e170a6bb5b6bc">&#9670;&nbsp;</a></span>_ns</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string mongo::RecordStore::_ns</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>/home/louis/git/mongo/src/mongo/db/storage/<a class="el" href="record__store_8h_source.html">record_store.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.13-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacemongo.html">mongo</a></li><li class="navelem"><a class="el" href="classmongo_1_1RecordStore.html">RecordStore</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
