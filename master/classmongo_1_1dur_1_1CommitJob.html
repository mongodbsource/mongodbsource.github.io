<!-- HTML header for doxygen 1.8.13-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Storage Engine API: mongo::dur::CommitJob Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link rel="shortcut icon" href="favicon.ico" type="image/x-icon" />
<link href="mongodb.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr>
  <td id="projectlogo"><img alt="Logo" src="mongodb-logo.jpg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Storage Engine API
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classmongo_1_1dur_1_1CommitJob.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classmongo_1_1dur_1_1CommitJob-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">mongo::dur::CommitJob Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Tracks all write operations on the private view so they can be journaled.  
 <a href="classmongo_1_1dur_1_1CommitJob.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="dur__commitjob_8h_source.html">dur_commitjob.h</a>&gt;</code></p>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Tracks all write operations on the private view so they can be journaled. </p>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ab4ea2268a7e1455a40d03a1d617ca80c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1dur_1_1CommitJob.html#ab4ea2268a7e1455a40d03a1d617ca80c">CommitJob</a> ()</td></tr>
<tr class="separator:ab4ea2268a7e1455a40d03a1d617ca80c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f0e81c5fa63f11dfd37d4c5547a9f29"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1dur_1_1CommitJob.html#a1f0e81c5fa63f11dfd37d4c5547a9f29">~CommitJob</a> ()</td></tr>
<tr class="separator:a1f0e81c5fa63f11dfd37d4c5547a9f29"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab92623be4e56859ca10088a701a4d56c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacemongo.html#aa639063deea016a1dac8f046e93900a6">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1dur_1_1CommitJob.html#ab92623be4e56859ca10088a701a4d56c">noteOp</a> (std::shared_ptr&lt; <a class="el" href="classmongo_1_1dur_1_1DurOp.html">DurOp</a> &gt; p)</td></tr>
<tr class="memdesc:ab92623be4e56859ca10088a701a4d56c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Note an operation other than a "basic write".  <a href="#ab92623be4e56859ca10088a701a4d56c">More...</a><br /></td></tr>
<tr class="separator:ab92623be4e56859ca10088a701a4d56c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a92193d4ef165824a64465efa0dea3bda"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacemongo.html#aa639063deea016a1dac8f046e93900a6">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1dur_1_1CommitJob.html#a92193d4ef165824a64465efa0dea3bda">note</a> (<a class="el" href="namespacemongo.html#aa639063deea016a1dac8f046e93900a6">void</a> *p, int len)</td></tr>
<tr class="memdesc:a92193d4ef165824a64465efa0dea3bda"><td class="mdescLeft">&#160;</td><td class="mdescRight">Record/note an intent to write.  <a href="#a92193d4ef165824a64465efa0dea3bda">More...</a><br /></td></tr>
<tr class="separator:a92193d4ef165824a64465efa0dea3bda"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a83b3d6282f984b2dc6538d350995a063"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1dur_1_1CommitJob.html#a83b3d6282f984b2dc6538d350995a063">hasWritten</a> () const</td></tr>
<tr class="memdesc:a83b3d6282f984b2dc6538d350995a063"><td class="mdescLeft">&#160;</td><td class="mdescRight">When this value is false we don't have to do any group commit.  <a href="#a83b3d6282f984b2dc6538d350995a063">More...</a><br /></td></tr>
<tr class="separator:a83b3d6282f984b2dc6538d350995a063"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0988ee813d6be29b2901ef1cf6ff9688"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacemongo.html#aa639063deea016a1dac8f046e93900a6">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1dur_1_1CommitJob.html#a0988ee813d6be29b2901ef1cf6ff9688">committingReset</a> ()</td></tr>
<tr class="memdesc:a0988ee813d6be29b2901ef1cf6ff9688"><td class="mdescLeft">&#160;</td><td class="mdescRight">We use the commitjob object over and over, calling <a class="el" href="classmongo_1_1dur_1_1CommitJob.html#a0988ee813d6be29b2901ef1cf6ff9688" title="We use the commitjob object over and over, calling committingReset() rather than reconstructing. ">committingReset()</a> rather than reconstructing.  <a href="#a0988ee813d6be29b2901ef1cf6ff9688">More...</a><br /></td></tr>
<tr class="separator:a0988ee813d6be29b2901ef1cf6ff9688"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a912c62092a5cd1aea2a009cc24064fd7"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1dur_1_1CommitJob.html#a912c62092a5cd1aea2a009cc24064fd7">bytes</a> () const</td></tr>
<tr class="memdesc:a912c62092a5cd1aea2a009cc24064fd7"><td class="mdescLeft">&#160;</td><td class="mdescRight">We check how much written and if it is getting to be a lot, we commit sooner.  <a href="#a912c62092a5cd1aea2a009cc24064fd7">More...</a><br /></td></tr>
<tr class="separator:a912c62092a5cd1aea2a009cc24064fd7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada6a8fe041d1aa0deeae6e8297c16c7e"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="namespacemongo_1_1dur.html#aa4b98f38b9ecea8d9717195158fac89a">WriteIntentsVector</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1dur_1_1CommitJob.html#ada6a8fe041d1aa0deeae6e8297c16c7e">getIntentsSorted</a> ()</td></tr>
<tr class="memdesc:ada6a8fe041d1aa0deeae6e8297c16c7e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sorts the internal list of write intents so that overlapping and duplicate items can be merged.  <a href="#ada6a8fe041d1aa0deeae6e8297c16c7e">More...</a><br /></td></tr>
<tr class="separator:ada6a8fe041d1aa0deeae6e8297c16c7e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc564933177970da05dcf1ae6dd0c68c"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="namespacemongo_1_1dur.html#ac094574385ece69889ba914b440fe776">DurOpsVector</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1dur_1_1CommitJob.html#adc564933177970da05dcf1ae6dd0c68c">ops</a> () const</td></tr>
<tr class="separator:adc564933177970da05dcf1ae6dd0c68c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a6b92a50e89c4ed5ea312fe04ba57e401"><td class="memItemLeft" align="right" valign="top">SimpleMutex&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1dur_1_1CommitJob.html#a6b92a50e89c4ed5ea312fe04ba57e401">groupCommitMutex</a></td></tr>
<tr class="separator:a6b92a50e89c4ed5ea312fe04ba57e401"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a21c67cb9c54becda5f28bf1b1f596ee2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1dur_1_1CommitJob.html#a21c67cb9c54becda5f28bf1b1f596ee2">MONGO_DISALLOW_COPYING</a> (<a class="el" href="classmongo_1_1dur_1_1CommitJob.html">CommitJob</a>)</td></tr>
<tr class="separator:a21c67cb9c54becda5f28bf1b1f596ee2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ec0c20e4f5df06548f01974c19ea2b7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacemongo.html#aa639063deea016a1dac8f046e93900a6">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1dur_1_1CommitJob.html#a0ec0c20e4f5df06548f01974c19ea2b7">_insertWriteIntent</a> (<a class="el" href="namespacemongo.html#aa639063deea016a1dac8f046e93900a6">void</a> *p, int len)</td></tr>
<tr class="separator:a0ec0c20e4f5df06548f01974c19ea2b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a9cf187a5c79affdf59195da4a056f806"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1dur_1_1CommitJob.html#a9cf187a5c79affdf59195da4a056f806">_hasWritten</a></td></tr>
<tr class="separator:a9cf187a5c79affdf59195da4a056f806"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed00deba6b4ecffbf44adfce81afbb7c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classmongo_1_1dur_1_1Already.html">Already</a>&lt; 127 &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1dur_1_1CommitJob.html#aed00deba6b4ecffbf44adfce81afbb7c">_alreadyNoted</a></td></tr>
<tr class="separator:aed00deba6b4ecffbf44adfce81afbb7c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a86d1d126230c070a16a1ed0972219974"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacemongo_1_1dur.html#aa4b98f38b9ecea8d9717195158fac89a">WriteIntentsVector</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1dur_1_1CommitJob.html#a86d1d126230c070a16a1ed0972219974">_intents</a></td></tr>
<tr class="separator:a86d1d126230c070a16a1ed0972219974"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a995c992fddc04be02f07dbd7bbb3daae"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacemongo_1_1dur.html#ac094574385ece69889ba914b440fe776">DurOpsVector</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1dur_1_1CommitJob.html#a995c992fddc04be02f07dbd7bbb3daae">_durOps</a></td></tr>
<tr class="separator:a995c992fddc04be02f07dbd7bbb3daae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6dabd6d57dcbf9ec5c12699393d7cc4b"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1dur_1_1CommitJob.html#a6dabd6d57dcbf9ec5c12699393d7cc4b">_lastNotedPos</a></td></tr>
<tr class="separator:a6dabd6d57dcbf9ec5c12699393d7cc4b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34e82386e6457626eba4372cf05d55d4"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1dur_1_1CommitJob.html#a34e82386e6457626eba4372cf05d55d4">_bytes</a></td></tr>
<tr class="separator:a34e82386e6457626eba4372cf05d55d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a157c80019f11dbb30c735bc4f954866f"><td class="memItemLeft" align="right" valign="top">uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1dur_1_1CommitJob.html#a157c80019f11dbb30c735bc4f954866f">_lastComplainMs</a></td></tr>
<tr class="separator:a157c80019f11dbb30c735bc4f954866f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb66d2cf1eb65d1a7ebbc45407263476"><td class="memItemLeft" align="right" valign="top">unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1dur_1_1CommitJob.html#afb66d2cf1eb65d1a7ebbc45407263476">_complains</a></td></tr>
<tr class="separator:afb66d2cf1eb65d1a7ebbc45407263476"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ab4ea2268a7e1455a40d03a1d617ca80c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab4ea2268a7e1455a40d03a1d617ca80c">&#9670;&nbsp;</a></span>CommitJob()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">mongo::dur::CommitJob::CommitJob </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a1f0e81c5fa63f11dfd37d4c5547a9f29"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1f0e81c5fa63f11dfd37d4c5547a9f29">&#9670;&nbsp;</a></span>~CommitJob()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">mongo::dur::CommitJob::~CommitJob </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a0ec0c20e4f5df06548f01974c19ea2b7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0ec0c20e4f5df06548f01974c19ea2b7">&#9670;&nbsp;</a></span>_insertWriteIntent()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacemongo.html#aa639063deea016a1dac8f046e93900a6">void</a> mongo::dur::CommitJob::_insertWriteIntent </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacemongo.html#aa639063deea016a1dac8f046e93900a6">void</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a912c62092a5cd1aea2a009cc24064fd7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a912c62092a5cd1aea2a009cc24064fd7">&#9670;&nbsp;</a></span>bytes()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t mongo::dur::CommitJob::bytes </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>We check how much written and if it is getting to be a lot, we commit sooner. </p>

</div>
</div>
<a id="a0988ee813d6be29b2901ef1cf6ff9688"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0988ee813d6be29b2901ef1cf6ff9688">&#9670;&nbsp;</a></span>committingReset()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacemongo.html#aa639063deea016a1dac8f046e93900a6">void</a> mongo::dur::CommitJob::committingReset </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>We use the commitjob object over and over, calling <a class="el" href="classmongo_1_1dur_1_1CommitJob.html#a0988ee813d6be29b2901ef1cf6ff9688" title="We use the commitjob object over and over, calling committingReset() rather than reconstructing. ">committingReset()</a> rather than reconstructing. </p>

</div>
</div>
<a id="ada6a8fe041d1aa0deeae6e8297c16c7e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ada6a8fe041d1aa0deeae6e8297c16c7e">&#9670;&nbsp;</a></span>getIntentsSorted()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="namespacemongo_1_1dur.html#aa4b98f38b9ecea8d9717195158fac89a">WriteIntentsVector</a>&amp; mongo::dur::CommitJob::getIntentsSorted </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sorts the internal list of write intents so that overlapping and duplicate items can be merged. </p>
<p>We do the sort here so the caller receives something they must keep const from their POV. </p>

</div>
</div>
<a id="a83b3d6282f984b2dc6538d350995a063"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a83b3d6282f984b2dc6538d350995a063">&#9670;&nbsp;</a></span>hasWritten()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool mongo::dur::CommitJob::hasWritten </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>When this value is false we don't have to do any group commit. </p>

</div>
</div>
<a id="a21c67cb9c54becda5f28bf1b1f596ee2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a21c67cb9c54becda5f28bf1b1f596ee2">&#9670;&nbsp;</a></span>MONGO_DISALLOW_COPYING()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mongo::dur::CommitJob::MONGO_DISALLOW_COPYING </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classmongo_1_1dur_1_1CommitJob.html">CommitJob</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a92193d4ef165824a64465efa0dea3bda"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a92193d4ef165824a64465efa0dea3bda">&#9670;&nbsp;</a></span>note()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacemongo.html#aa639063deea016a1dac8f046e93900a6">void</a> mongo::dur::CommitJob::note </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacemongo.html#aa639063deea016a1dac8f046e93900a6">void</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Record/note an intent to write. </p>
<p>NOTE: Not thread safe. Requires the mutex to be locked. </p>

</div>
</div>
<a id="ab92623be4e56859ca10088a701a4d56c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab92623be4e56859ca10088a701a4d56c">&#9670;&nbsp;</a></span>noteOp()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacemongo.html#aa639063deea016a1dac8f046e93900a6">void</a> mongo::dur::CommitJob::noteOp </td>
          <td>(</td>
          <td class="paramtype">std::shared_ptr&lt; <a class="el" href="classmongo_1_1dur_1_1DurOp.html">DurOp</a> &gt;&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Note an operation other than a "basic write". </p>

</div>
</div>
<a id="adc564933177970da05dcf1ae6dd0c68c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adc564933177970da05dcf1ae6dd0c68c">&#9670;&nbsp;</a></span>ops()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="namespacemongo_1_1dur.html#ac094574385ece69889ba914b440fe776">DurOpsVector</a>&amp; mongo::dur::CommitJob::ops </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="aed00deba6b4ecffbf44adfce81afbb7c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aed00deba6b4ecffbf44adfce81afbb7c">&#9670;&nbsp;</a></span>_alreadyNoted</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classmongo_1_1dur_1_1Already.html">Already</a>&lt;127&gt; mongo::dur::CommitJob::_alreadyNoted</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a34e82386e6457626eba4372cf05d55d4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a34e82386e6457626eba4372cf05d55d4">&#9670;&nbsp;</a></span>_bytes</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t mongo::dur::CommitJob::_bytes</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="afb66d2cf1eb65d1a7ebbc45407263476"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afb66d2cf1eb65d1a7ebbc45407263476">&#9670;&nbsp;</a></span>_complains</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned mongo::dur::CommitJob::_complains</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a995c992fddc04be02f07dbd7bbb3daae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a995c992fddc04be02f07dbd7bbb3daae">&#9670;&nbsp;</a></span>_durOps</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacemongo_1_1dur.html#ac094574385ece69889ba914b440fe776">DurOpsVector</a> mongo::dur::CommitJob::_durOps</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a9cf187a5c79affdf59195da4a056f806"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9cf187a5c79affdf59195da4a056f806">&#9670;&nbsp;</a></span>_hasWritten</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool mongo::dur::CommitJob::_hasWritten</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a86d1d126230c070a16a1ed0972219974"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a86d1d126230c070a16a1ed0972219974">&#9670;&nbsp;</a></span>_intents</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacemongo_1_1dur.html#aa4b98f38b9ecea8d9717195158fac89a">WriteIntentsVector</a> mongo::dur::CommitJob::_intents</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a157c80019f11dbb30c735bc4f954866f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a157c80019f11dbb30c735bc4f954866f">&#9670;&nbsp;</a></span>_lastComplainMs</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t mongo::dur::CommitJob::_lastComplainMs</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a6dabd6d57dcbf9ec5c12699393d7cc4b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6dabd6d57dcbf9ec5c12699393d7cc4b">&#9670;&nbsp;</a></span>_lastNotedPos</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t mongo::dur::CommitJob::_lastNotedPos</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a6b92a50e89c4ed5ea312fe04ba57e401"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6b92a50e89c4ed5ea312fe04ba57e401">&#9670;&nbsp;</a></span>groupCommitMutex</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">SimpleMutex mongo::dur::CommitJob::groupCommitMutex</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/home/louis/git/mongo/src/mongo/db/storage/mmap_v1/<a class="el" href="dur__commitjob_8h_source.html">dur_commitjob.h</a></li>
<li>/home/louis/git/mongo/src/mongo/db/storage/mmap_v1/<a class="el" href="dur__commitjob_8cpp.html">dur_commitjob.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.13-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacemongo.html">mongo</a></li><li class="navelem"><a class="el" href="namespacemongo_1_1dur.html">dur</a></li><li class="navelem"><a class="el" href="classmongo_1_1dur_1_1CommitJob.html">CommitJob</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
