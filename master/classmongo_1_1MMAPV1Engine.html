<!-- HTML header for doxygen 1.8.13-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Storage Engine API: mongo::MMAPV1Engine Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link rel="shortcut icon" href="favicon.ico" type="image/x-icon" />
<link href="mongodb.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr>
  <td id="projectlogo"><img alt="Logo" src="mongodb-logo.jpg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Storage Engine API
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classmongo_1_1MMAPV1Engine.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-types">Private Types</a> &#124;
<a href="#pri-static-methods">Static Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classmongo_1_1MMAPV1Engine-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">mongo::MMAPV1Engine Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="mmap__v1__engine_8h_source.html">mmap_v1_engine.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for mongo::MMAPV1Engine:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classmongo_1_1MMAPV1Engine.png" usemap="#mongo::MMAPV1Engine_map" alt=""/>
  <map id="mongo::MMAPV1Engine_map" name="mongo::MMAPV1Engine_map">
<area href="classmongo_1_1StorageEngine.html" title="The StorageEngine class is the top level interface for creating a new storage engine. " alt="mongo::StorageEngine" shape="rect" coords="0,0,149,24"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a8e1b64db410a7d7b23f0abdad2128d7b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1MMAPV1Engine.html#a8e1b64db410a7d7b23f0abdad2128d7b">MMAPV1Engine</a> (const <a class="el" href="classmongo_1_1StorageEngineLockFile.html">StorageEngineLockFile</a> *lockFile, ClockSource *cs)</td></tr>
<tr class="separator:a8e1b64db410a7d7b23f0abdad2128d7b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01d710e7097b5bf8019711d0e5a752e3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1MMAPV1Engine.html#a01d710e7097b5bf8019711d0e5a752e3">MMAPV1Engine</a> (const <a class="el" href="classmongo_1_1StorageEngineLockFile.html">StorageEngineLockFile</a> *lockFile, ClockSource *cs, std::unique_ptr&lt; <a class="el" href="classmongo_1_1ExtentManager_1_1Factory.html">ExtentManager::Factory</a> &gt; extentManagerFactory)</td></tr>
<tr class="separator:a01d710e7097b5bf8019711d0e5a752e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a000103f8aa9ed0246026f0ee391fa7a0"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1MMAPV1Engine.html#a000103f8aa9ed0246026f0ee391fa7a0">~MMAPV1Engine</a> ()</td></tr>
<tr class="separator:a000103f8aa9ed0246026f0ee391fa7a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a11e4508c71689c46509eef948568ecff"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacemongo.html#aa639063deea016a1dac8f046e93900a6">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1MMAPV1Engine.html#a11e4508c71689c46509eef948568ecff">finishInit</a> ()</td></tr>
<tr class="memdesc:a11e4508c71689c46509eef948568ecff"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called after the globalStorageEngine pointer has been set up, before any other methods are called.  <a href="#a11e4508c71689c46509eef948568ecff">More...</a><br /></td></tr>
<tr class="separator:a11e4508c71689c46509eef948568ecff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab7384e04569060f189589b5a802af7f9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classmongo_1_1RecoveryUnit.html">RecoveryUnit</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1MMAPV1Engine.html#ab7384e04569060f189589b5a802af7f9">newRecoveryUnit</a> ()</td></tr>
<tr class="memdesc:ab7384e04569060f189589b5a802af7f9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a new interface to the storage engine's recovery unit.  <a href="#ab7384e04569060f189589b5a802af7f9">More...</a><br /></td></tr>
<tr class="separator:ab7384e04569060f189589b5a802af7f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7db0b44be79e733162601483ccdc809f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacemongo.html#aa639063deea016a1dac8f046e93900a6">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1MMAPV1Engine.html#a7db0b44be79e733162601483ccdc809f">listDatabases</a> (std::vector&lt; std::string &gt; *out) const</td></tr>
<tr class="memdesc:a7db0b44be79e733162601483ccdc809f"><td class="mdescLeft">&#160;</td><td class="mdescRight">List the databases stored in this storage engine.  <a href="#a7db0b44be79e733162601483ccdc809f">More...</a><br /></td></tr>
<tr class="separator:a7db0b44be79e733162601483ccdc809f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a05b153cbe3e51e8f0d6bb73a5641260b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1MMAPV1Engine.html#a05b153cbe3e51e8f0d6bb73a5641260b">flushAllFiles</a> (OperationContext *<a class="el" href="namespacemongo.html#a15b23ef1d9a7f6cdadbf866f1e8e5043">opCtx</a>, bool sync)</td></tr>
<tr class="separator:a05b153cbe3e51e8f0d6bb73a5641260b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13537c5dc05eda6e1cc8fe16ba7bc247"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacemongo.html#a7dd53a44ec884164bc07ed073e9f31da">Status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1MMAPV1Engine.html#a13537c5dc05eda6e1cc8fe16ba7bc247">beginBackup</a> (OperationContext *<a class="el" href="namespacemongo.html#a15b23ef1d9a7f6cdadbf866f1e8e5043">opCtx</a>)</td></tr>
<tr class="memdesc:a13537c5dc05eda6e1cc8fe16ba7bc247"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transitions the storage engine into backup mode.  <a href="#a13537c5dc05eda6e1cc8fe16ba7bc247">More...</a><br /></td></tr>
<tr class="separator:a13537c5dc05eda6e1cc8fe16ba7bc247"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8354e58b6289b5d97a6dac9e832116aa"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacemongo.html#aa639063deea016a1dac8f046e93900a6">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1MMAPV1Engine.html#a8354e58b6289b5d97a6dac9e832116aa">endBackup</a> (OperationContext *<a class="el" href="namespacemongo.html#a15b23ef1d9a7f6cdadbf866f1e8e5043">opCtx</a>)</td></tr>
<tr class="memdesc:a8354e58b6289b5d97a6dac9e832116aa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transitions the storage engine out of backup mode.  <a href="#a8354e58b6289b5d97a6dac9e832116aa">More...</a><br /></td></tr>
<tr class="separator:a8354e58b6289b5d97a6dac9e832116aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7d128a74c0be66ebee486ea3b87b8d3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classmongo_1_1DatabaseCatalogEntry.html">DatabaseCatalogEntry</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1MMAPV1Engine.html#ad7d128a74c0be66ebee486ea3b87b8d3">getDatabaseCatalogEntry</a> (OperationContext *<a class="el" href="namespacemongo.html#a15b23ef1d9a7f6cdadbf866f1e8e5043">opCtx</a>, StringData <a class="el" href="namespacemongo.html#a4ae6ca2f1e345dcee0a3bf19089f12f0">db</a>)</td></tr>
<tr class="memdesc:ad7d128a74c0be66ebee486ea3b87b8d3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the <a class="el" href="classmongo_1_1DatabaseCatalogEntry.html">DatabaseCatalogEntry</a> that describes the database indicated by 'db'.  <a href="#ad7d128a74c0be66ebee486ea3b87b8d3">More...</a><br /></td></tr>
<tr class="separator:ad7d128a74c0be66ebee486ea3b87b8d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aafd4179b7d2fe9a5c32d7875e396b3bf"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1MMAPV1Engine.html#aafd4179b7d2fe9a5c32d7875e396b3bf">supportsDocLocking</a> () const</td></tr>
<tr class="memdesc:aafd4179b7d2fe9a5c32d7875e396b3bf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns whether the storage engine supports its own locking locking below the collection level.  <a href="#aafd4179b7d2fe9a5c32d7875e396b3bf">More...</a><br /></td></tr>
<tr class="separator:aafd4179b7d2fe9a5c32d7875e396b3bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a43a180e057a84fdafb03a0eaff6fe536"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1MMAPV1Engine.html#a43a180e057a84fdafb03a0eaff6fe536">isMmapV1</a> () const</td></tr>
<tr class="memdesc:a43a180e057a84fdafb03a0eaff6fe536"><td class="mdescLeft">&#160;</td><td class="mdescRight">Only MMAPv1 should override this and return true to trigger MMAPv1-specific behavior.  <a href="#a43a180e057a84fdafb03a0eaff6fe536">More...</a><br /></td></tr>
<tr class="separator:a43a180e057a84fdafb03a0eaff6fe536"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b7df1455b2c0e1d7b6c0103e21e8624"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1MMAPV1Engine.html#a8b7df1455b2c0e1d7b6c0103e21e8624">isDurable</a> () const</td></tr>
<tr class="memdesc:a8b7df1455b2c0e1d7b6c0103e21e8624"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns whether the engine supports a journalling concept or not.  <a href="#a8b7df1455b2c0e1d7b6c0103e21e8624">More...</a><br /></td></tr>
<tr class="separator:a8b7df1455b2c0e1d7b6c0103e21e8624"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa779b0bee11584aaf8ec6d2aad4ca4b8"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1MMAPV1Engine.html#aa779b0bee11584aaf8ec6d2aad4ca4b8">isEphemeral</a> () const</td></tr>
<tr class="memdesc:aa779b0bee11584aaf8ec6d2aad4ca4b8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if the engine does not persist data to disk; false otherwise.  <a href="#aa779b0bee11584aaf8ec6d2aad4ca4b8">More...</a><br /></td></tr>
<tr class="separator:aa779b0bee11584aaf8ec6d2aad4ca4b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a551b69ea194eb2f260dd65008def685c"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="namespacemongo.html#a7dd53a44ec884164bc07ed073e9f31da">Status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1MMAPV1Engine.html#a551b69ea194eb2f260dd65008def685c">closeDatabase</a> (OperationContext *<a class="el" href="namespacemongo.html#a15b23ef1d9a7f6cdadbf866f1e8e5043">opCtx</a>, StringData <a class="el" href="namespacemongo.html#a4ae6ca2f1e345dcee0a3bf19089f12f0">db</a>)</td></tr>
<tr class="memdesc:a551b69ea194eb2f260dd65008def685c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Closes all file handles associated with a database.  <a href="#a551b69ea194eb2f260dd65008def685c">More...</a><br /></td></tr>
<tr class="separator:a551b69ea194eb2f260dd65008def685c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe02a242a7a404e38d31cd7753ae80d7"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="namespacemongo.html#a7dd53a44ec884164bc07ed073e9f31da">Status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1MMAPV1Engine.html#afe02a242a7a404e38d31cd7753ae80d7">dropDatabase</a> (OperationContext *<a class="el" href="namespacemongo.html#a15b23ef1d9a7f6cdadbf866f1e8e5043">opCtx</a>, StringData <a class="el" href="namespacemongo.html#a4ae6ca2f1e345dcee0a3bf19089f12f0">db</a>)</td></tr>
<tr class="memdesc:afe02a242a7a404e38d31cd7753ae80d7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deletes all data and metadata for a database.  <a href="#afe02a242a7a404e38d31cd7753ae80d7">More...</a><br /></td></tr>
<tr class="separator:afe02a242a7a404e38d31cd7753ae80d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a025fcd63d5a0d9f01affc81f088d19b0"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="namespacemongo.html#aa639063deea016a1dac8f046e93900a6">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1MMAPV1Engine.html#a025fcd63d5a0d9f01affc81f088d19b0">cleanShutdown</a> ()</td></tr>
<tr class="memdesc:a025fcd63d5a0d9f01affc81f088d19b0"><td class="mdescLeft">&#160;</td><td class="mdescRight">This method will be called before there is a clean shutdown.  <a href="#a025fcd63d5a0d9f01affc81f088d19b0">More...</a><br /></td></tr>
<tr class="separator:a025fcd63d5a0d9f01affc81f088d19b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a486fa37132eb18bc7589d2a2a42076ce"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="namespacemongo.html#a7dd53a44ec884164bc07ed073e9f31da">Status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1MMAPV1Engine.html#a486fa37132eb18bc7589d2a2a42076ce">repairRecordStore</a> (OperationContext *<a class="el" href="namespacemongo.html#a15b23ef1d9a7f6cdadbf866f1e8e5043">opCtx</a>, const std::string &amp;<a class="el" href="namespacemongo.html#aa1aad236ca83643ab0718062dd62f4fc">ns</a>)</td></tr>
<tr class="memdesc:a486fa37132eb18bc7589d2a2a42076ce"><td class="mdescLeft">&#160;</td><td class="mdescRight">Recover as much data as possible from a potentially corrupt <a class="el" href="classmongo_1_1RecordStore.html" title="An abstraction used for storing documents in a collection or entries in an index. ...">RecordStore</a>.  <a href="#a486fa37132eb18bc7589d2a2a42076ce">More...</a><br /></td></tr>
<tr class="separator:a486fa37132eb18bc7589d2a2a42076ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e419c43d97c8d4950d5a75fb310c425"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacemongo.html#a7dd53a44ec884164bc07ed073e9f31da">Status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1MMAPV1Engine.html#a9e419c43d97c8d4950d5a75fb310c425">repairDatabase</a> (OperationContext *<a class="el" href="namespacemongo.html#a15b23ef1d9a7f6cdadbf866f1e8e5043">opCtx</a>, const std::string &amp;dbName, bool preserveClonedFilesOnFailure, bool backupOriginalFiles)</td></tr>
<tr class="separator:a9e419c43d97c8d4950d5a75fb310c425"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6862b123988756cb803864acb409f8ee"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classmongo_1_1RecordAccessTracker.html">RecordAccessTracker</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1MMAPV1Engine.html#a6862b123988756cb803864acb409f8ee">getRecordAccessTracker</a> ()</td></tr>
<tr class="memdesc:a6862b123988756cb803864acb409f8ee"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets a reference to the abstraction used by MMAP v1 to track recently used memory addresses.  <a href="#a6862b123988756cb803864acb409f8ee">More...</a><br /></td></tr>
<tr class="separator:a6862b123988756cb803864acb409f8ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6af850835385a7eb5553197ad0ab5841"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacemongo.html#aa639063deea016a1dac8f046e93900a6">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1MMAPV1Engine.html#a6af850835385a7eb5553197ad0ab5841">setJournalListener</a> (<a class="el" href="classmongo_1_1JournalListener.html">JournalListener</a> *jl) final</td></tr>
<tr class="memdesc:a6af850835385a7eb5553197ad0ab5841"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets a new <a class="el" href="classmongo_1_1JournalListener.html" title="This class allows for the storageEngine to alert the rest of the system about journaled write progres...">JournalListener</a>, which is used by the storage engine to alert the rest of the system about journaled write progress.  <a href="#a6af850835385a7eb5553197ad0ab5841">More...</a><br /></td></tr>
<tr class="separator:a6af850835385a7eb5553197ad0ab5841"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaabc7c5da80acf5feced97c720e3d743"><td class="memItemLeft" align="right" valign="top">Timestamp&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1MMAPV1Engine.html#aaabc7c5da80acf5feced97c720e3d743">getAllCommittedTimestamp</a> () const override</td></tr>
<tr class="memdesc:aaabc7c5da80acf5feced97c720e3d743"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the all committed timestamp.  <a href="#aaabc7c5da80acf5feced97c720e3d743">More...</a><br /></td></tr>
<tr class="separator:aaabc7c5da80acf5feced97c720e3d743"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classmongo_1_1StorageEngine"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classmongo_1_1StorageEngine')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classmongo_1_1StorageEngine.html">mongo::StorageEngine</a></td></tr>
<tr class="memitem:a3dfbb55646e9a8e8c41282cf1608c0f6 inherit pub_methods_classmongo_1_1StorageEngine"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1StorageEngine.html#a3dfbb55646e9a8e8c41282cf1608c0f6">~StorageEngine</a> ()</td></tr>
<tr class="memdesc:a3dfbb55646e9a8e8c41282cf1608c0f6 inherit pub_methods_classmongo_1_1StorageEngine"><td class="mdescLeft">&#160;</td><td class="mdescRight">The destructor should only be called if we are tearing down but not exiting the process.  <a href="classmongo_1_1StorageEngine.html#a3dfbb55646e9a8e8c41282cf1608c0f6">More...</a><br /></td></tr>
<tr class="separator:a3dfbb55646e9a8e8c41282cf1608c0f6 inherit pub_methods_classmongo_1_1StorageEngine"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97a5327723286b781a9d735a1bf80b46 inherit pub_methods_classmongo_1_1StorageEngine"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1StorageEngine.html#a97a5327723286b781a9d735a1bf80b46">supportsDBLocking</a> () const</td></tr>
<tr class="memdesc:a97a5327723286b781a9d735a1bf80b46 inherit pub_methods_classmongo_1_1StorageEngine"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns whether the storage engine supports locking at a database level.  <a href="classmongo_1_1StorageEngine.html#a97a5327723286b781a9d735a1bf80b46">More...</a><br /></td></tr>
<tr class="separator:a97a5327723286b781a9d735a1bf80b46 inherit pub_methods_classmongo_1_1StorageEngine"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a64bee4921853cd93667987cc98858886 inherit pub_methods_classmongo_1_1StorageEngine"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1StorageEngine.html#a64bee4921853cd93667987cc98858886">supportsCappedCollections</a> () const</td></tr>
<tr class="memdesc:a64bee4921853cd93667987cc98858886 inherit pub_methods_classmongo_1_1StorageEngine"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns whether the storage engine supports capped collections.  <a href="classmongo_1_1StorageEngine.html#a64bee4921853cd93667987cc98858886">More...</a><br /></td></tr>
<tr class="separator:a64bee4921853cd93667987cc98858886 inherit pub_methods_classmongo_1_1StorageEngine"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a85e34ad431938728c6298468ecc7da53 inherit pub_methods_classmongo_1_1StorageEngine"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="namespacemongo.html#aa639063deea016a1dac8f046e93900a6">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1StorageEngine.html#a85e34ad431938728c6298468ecc7da53">loadCatalog</a> (OperationContext *<a class="el" href="namespacemongo.html#a15b23ef1d9a7f6cdadbf866f1e8e5043">opCtx</a>)</td></tr>
<tr class="memdesc:a85e34ad431938728c6298468ecc7da53 inherit pub_methods_classmongo_1_1StorageEngine"><td class="mdescLeft">&#160;</td><td class="mdescRight">Populates and tears down in-memory data structures, respectively.  <a href="classmongo_1_1StorageEngine.html#a85e34ad431938728c6298468ecc7da53">More...</a><br /></td></tr>
<tr class="separator:a85e34ad431938728c6298468ecc7da53 inherit pub_methods_classmongo_1_1StorageEngine"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3fdbd8c81df1ae30cf33d754c90d6f47 inherit pub_methods_classmongo_1_1StorageEngine"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="namespacemongo.html#aa639063deea016a1dac8f046e93900a6">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1StorageEngine.html#a3fdbd8c81df1ae30cf33d754c90d6f47">closeCatalog</a> (OperationContext *<a class="el" href="namespacemongo.html#a15b23ef1d9a7f6cdadbf866f1e8e5043">opCtx</a>)</td></tr>
<tr class="separator:a3fdbd8c81df1ae30cf33d754c90d6f47 inherit pub_methods_classmongo_1_1StorageEngine"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a620e7d61feab83f9d80c9edcc68d2cc2 inherit pub_methods_classmongo_1_1StorageEngine"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classmongo_1_1SnapshotManager.html">SnapshotManager</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1StorageEngine.html#a620e7d61feab83f9d80c9edcc68d2cc2">getSnapshotManager</a> () const</td></tr>
<tr class="memdesc:a620e7d61feab83f9d80c9edcc68d2cc2 inherit pub_methods_classmongo_1_1StorageEngine"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the <a class="el" href="classmongo_1_1SnapshotManager.html" title="Manages snapshots that can be read from at a later time. ">SnapshotManager</a> for this <a class="el" href="classmongo_1_1StorageEngine.html" title="The StorageEngine class is the top level interface for creating a new storage engine. ">StorageEngine</a> or NULL if not supported.  <a href="classmongo_1_1StorageEngine.html#a620e7d61feab83f9d80c9edcc68d2cc2">More...</a><br /></td></tr>
<tr class="separator:a620e7d61feab83f9d80c9edcc68d2cc2 inherit pub_methods_classmongo_1_1StorageEngine"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab3130a17adcd7174e9ad92af9024668 inherit pub_methods_classmongo_1_1StorageEngine"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1StorageEngine.html#aab3130a17adcd7174e9ad92af9024668">supportsRecoverToStableTimestamp</a> () const</td></tr>
<tr class="memdesc:aab3130a17adcd7174e9ad92af9024668 inherit pub_methods_classmongo_1_1StorageEngine"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns whether the storage engine supports "recover to stable timestamp".  <a href="classmongo_1_1StorageEngine.html#aab3130a17adcd7174e9ad92af9024668">More...</a><br /></td></tr>
<tr class="separator:aab3130a17adcd7174e9ad92af9024668 inherit pub_methods_classmongo_1_1StorageEngine"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aacf06242a2aed0d1c4a54fd3e1460852 inherit pub_methods_classmongo_1_1StorageEngine"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1StorageEngine.html#aacf06242a2aed0d1c4a54fd3e1460852">supportsReadConcernSnapshot</a> () const</td></tr>
<tr class="memdesc:aacf06242a2aed0d1c4a54fd3e1460852 inherit pub_methods_classmongo_1_1StorageEngine"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if the storage engine supports the readConcern level "snapshot".  <a href="classmongo_1_1StorageEngine.html#aacf06242a2aed0d1c4a54fd3e1460852">More...</a><br /></td></tr>
<tr class="separator:aacf06242a2aed0d1c4a54fd3e1460852 inherit pub_methods_classmongo_1_1StorageEngine"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5fcc405b3d23c6164bde892026f66e94 inherit pub_methods_classmongo_1_1StorageEngine"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classmongo_1_1StatusWith.html">StatusWith</a>&lt; Timestamp &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1StorageEngine.html#a5fcc405b3d23c6164bde892026f66e94">recoverToStableTimestamp</a> (OperationContext *<a class="el" href="namespacemongo.html#a15b23ef1d9a7f6cdadbf866f1e8e5043">opCtx</a>)</td></tr>
<tr class="memdesc:a5fcc405b3d23c6164bde892026f66e94 inherit pub_methods_classmongo_1_1StorageEngine"><td class="mdescLeft">&#160;</td><td class="mdescRight">Recovers the storage engine state to the last stable timestamp.  <a href="classmongo_1_1StorageEngine.html#a5fcc405b3d23c6164bde892026f66e94">More...</a><br /></td></tr>
<tr class="separator:a5fcc405b3d23c6164bde892026f66e94 inherit pub_methods_classmongo_1_1StorageEngine"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a79930a6f501a2ad71b942f76bc5bb74f inherit pub_methods_classmongo_1_1StorageEngine"><td class="memItemLeft" align="right" valign="top">virtual boost::optional&lt; Timestamp &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1StorageEngine.html#a79930a6f501a2ad71b942f76bc5bb74f">getRecoveryTimestamp</a> () const</td></tr>
<tr class="memdesc:a79930a6f501a2ad71b942f76bc5bb74f inherit pub_methods_classmongo_1_1StorageEngine"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the stable timestamp that the storage engine recovered to on startup.  <a href="classmongo_1_1StorageEngine.html#a79930a6f501a2ad71b942f76bc5bb74f">More...</a><br /></td></tr>
<tr class="separator:a79930a6f501a2ad71b942f76bc5bb74f inherit pub_methods_classmongo_1_1StorageEngine"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a83f7e872d15697c9c3bf50ed12964735 inherit pub_methods_classmongo_1_1StorageEngine"><td class="memItemLeft" align="right" valign="top">virtual boost::optional&lt; Timestamp &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1StorageEngine.html#a83f7e872d15697c9c3bf50ed12964735">getLastStableCheckpointTimestamp</a> () const</td></tr>
<tr class="memdesc:a83f7e872d15697c9c3bf50ed12964735 inherit pub_methods_classmongo_1_1StorageEngine"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a timestamp that is guaranteed to be persisted to disk in a checkpoint.  <a href="classmongo_1_1StorageEngine.html#a83f7e872d15697c9c3bf50ed12964735">More...</a><br /></td></tr>
<tr class="separator:a83f7e872d15697c9c3bf50ed12964735 inherit pub_methods_classmongo_1_1StorageEngine"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae1c5cec571e7cb649c4c7b2e56df2469 inherit pub_methods_classmongo_1_1StorageEngine"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="namespacemongo.html#aa639063deea016a1dac8f046e93900a6">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1StorageEngine.html#ae1c5cec571e7cb649c4c7b2e56df2469">setStableTimestamp</a> (Timestamp timestamp)</td></tr>
<tr class="memdesc:ae1c5cec571e7cb649c4c7b2e56df2469 inherit pub_methods_classmongo_1_1StorageEngine"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the highest timestamp at which the storage engine is allowed to take a checkpoint.  <a href="classmongo_1_1StorageEngine.html#ae1c5cec571e7cb649c4c7b2e56df2469">More...</a><br /></td></tr>
<tr class="separator:ae1c5cec571e7cb649c4c7b2e56df2469 inherit pub_methods_classmongo_1_1StorageEngine"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae382900644bc641160eb784aec54b873 inherit pub_methods_classmongo_1_1StorageEngine"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="namespacemongo.html#aa639063deea016a1dac8f046e93900a6">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1StorageEngine.html#ae382900644bc641160eb784aec54b873">setInitialDataTimestamp</a> (Timestamp timestamp)</td></tr>
<tr class="memdesc:ae382900644bc641160eb784aec54b873 inherit pub_methods_classmongo_1_1StorageEngine"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tells the storage engine the timestamp of the data at startup.  <a href="classmongo_1_1StorageEngine.html#ae382900644bc641160eb784aec54b873">More...</a><br /></td></tr>
<tr class="separator:ae382900644bc641160eb784aec54b873 inherit pub_methods_classmongo_1_1StorageEngine"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a545160909125b61e22400d775b43ec8c inherit pub_methods_classmongo_1_1StorageEngine"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="namespacemongo.html#aa639063deea016a1dac8f046e93900a6">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1StorageEngine.html#a545160909125b61e22400d775b43ec8c">setOldestTimestampFromStable</a> ()</td></tr>
<tr class="memdesc:a545160909125b61e22400d775b43ec8c inherit pub_methods_classmongo_1_1StorageEngine"><td class="mdescLeft">&#160;</td><td class="mdescRight">Uses the current stable timestamp to set the oldest timestamp for which the storage engine must maintain snapshot history through.  <a href="classmongo_1_1StorageEngine.html#a545160909125b61e22400d775b43ec8c">More...</a><br /></td></tr>
<tr class="separator:a545160909125b61e22400d775b43ec8c inherit pub_methods_classmongo_1_1StorageEngine"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a69d28bc4cdfbfea2083f822c13207ff1 inherit pub_methods_classmongo_1_1StorageEngine"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="namespacemongo.html#aa639063deea016a1dac8f046e93900a6">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1StorageEngine.html#a69d28bc4cdfbfea2083f822c13207ff1">setOldestTimestamp</a> (Timestamp timestamp)</td></tr>
<tr class="memdesc:a69d28bc4cdfbfea2083f822c13207ff1 inherit pub_methods_classmongo_1_1StorageEngine"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the oldest timestamp for which the storage engine must maintain snapshot history through.  <a href="classmongo_1_1StorageEngine.html#a69d28bc4cdfbfea2083f822c13207ff1">More...</a><br /></td></tr>
<tr class="separator:a69d28bc4cdfbfea2083f822c13207ff1 inherit pub_methods_classmongo_1_1StorageEngine"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af8292fa3ea82b903c56713db94daff6a inherit pub_methods_classmongo_1_1StorageEngine"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1StorageEngine.html#af8292fa3ea82b903c56713db94daff6a">isCacheUnderPressure</a> (OperationContext *<a class="el" href="namespacemongo.html#a15b23ef1d9a7f6cdadbf866f1e8e5043">opCtx</a>) const</td></tr>
<tr class="memdesc:af8292fa3ea82b903c56713db94daff6a inherit pub_methods_classmongo_1_1StorageEngine"><td class="mdescLeft">&#160;</td><td class="mdescRight">Indicates whether the storage engine cache is under pressure.  <a href="classmongo_1_1StorageEngine.html#af8292fa3ea82b903c56713db94daff6a">More...</a><br /></td></tr>
<tr class="separator:af8292fa3ea82b903c56713db94daff6a inherit pub_methods_classmongo_1_1StorageEngine"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a11c01bfd4089ee9fb2bd05753b900c56 inherit pub_methods_classmongo_1_1StorageEngine"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="namespacemongo.html#aa639063deea016a1dac8f046e93900a6">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1StorageEngine.html#a11c01bfd4089ee9fb2bd05753b900c56">setCachePressureForTest</a> (int pressure)</td></tr>
<tr class="memdesc:a11c01bfd4089ee9fb2bd05753b900c56 inherit pub_methods_classmongo_1_1StorageEngine"><td class="mdescLeft">&#160;</td><td class="mdescRight">For unit tests only.  <a href="classmongo_1_1StorageEngine.html#a11c01bfd4089ee9fb2bd05753b900c56">More...</a><br /></td></tr>
<tr class="separator:a11c01bfd4089ee9fb2bd05753b900c56 inherit pub_methods_classmongo_1_1StorageEngine"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c27216fc7815098dddaf7342749a4f8 inherit pub_methods_classmongo_1_1StorageEngine"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="namespacemongo.html#aa639063deea016a1dac8f046e93900a6">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1StorageEngine.html#a9c27216fc7815098dddaf7342749a4f8">replicationBatchIsComplete</a> () const</td></tr>
<tr class="memdesc:a9c27216fc7815098dddaf7342749a4f8 inherit pub_methods_classmongo_1_1StorageEngine"><td class="mdescLeft">&#160;</td><td class="mdescRight">Notifies the storage engine that a replication batch has completed.  <a href="classmongo_1_1StorageEngine.html#a9c27216fc7815098dddaf7342749a4f8">More...</a><br /></td></tr>
<tr class="separator:a9c27216fc7815098dddaf7342749a4f8 inherit pub_methods_classmongo_1_1StorageEngine"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e7099c6ec62f2de75cd9d018c08e30a inherit pub_methods_classmongo_1_1StorageEngine"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classmongo_1_1StatusWith.html">StatusWith</a>&lt; std::vector&lt; <a class="el" href="classmongo_1_1StorageEngine.html#ae64a0ea2f55ed12186a2aee8a34c793b">CollectionIndexNamePair</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1StorageEngine.html#a4e7099c6ec62f2de75cd9d018c08e30a">reconcileCatalogAndIdents</a> (OperationContext *<a class="el" href="namespacemongo.html#a15b23ef1d9a7f6cdadbf866f1e8e5043">opCtx</a>)</td></tr>
<tr class="memdesc:a4e7099c6ec62f2de75cd9d018c08e30a inherit pub_methods_classmongo_1_1StorageEngine"><td class="mdescLeft">&#160;</td><td class="mdescRight">Drop abandoned idents.  <a href="classmongo_1_1StorageEngine.html#a4e7099c6ec62f2de75cd9d018c08e30a">More...</a><br /></td></tr>
<tr class="separator:a4e7099c6ec62f2de75cd9d018c08e30a inherit pub_methods_classmongo_1_1StorageEngine"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-types"></a>
Private Types</h2></td></tr>
<tr class="memitem:acf9b7d0e8bceff7e5ab6330ddbec7a14"><td class="memItemLeft" align="right" valign="top">typedef std::map&lt; std::string, <a class="el" href="classmongo_1_1MMAPV1DatabaseCatalogEntry.html">MMAPV1DatabaseCatalogEntry</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1MMAPV1Engine.html#acf9b7d0e8bceff7e5ab6330ddbec7a14">EntryMap</a></td></tr>
<tr class="separator:acf9b7d0e8bceff7e5ab6330ddbec7a14"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-static-methods"></a>
Static Private Member Functions</h2></td></tr>
<tr class="memitem:acdf9707cfca8e37b73518dd0a4be872a"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="namespacemongo.html#aa639063deea016a1dac8f046e93900a6">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1MMAPV1Engine.html#acdf9707cfca8e37b73518dd0a4be872a">_listDatabases</a> (const std::string &amp;directory, std::vector&lt; std::string &gt; *out)</td></tr>
<tr class="separator:acdf9707cfca8e37b73518dd0a4be872a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a26ea7d47b2f9350c9cd9cc5f4daba9e8"><td class="memItemLeft" align="right" valign="top">stdx::mutex&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1MMAPV1Engine.html#a26ea7d47b2f9350c9cd9cc5f4daba9e8">_entryMapMutex</a></td></tr>
<tr class="separator:a26ea7d47b2f9350c9cd9cc5f4daba9e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b7d274f5a87ab8d5047340ae3ec9809"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classmongo_1_1MMAPV1Engine.html#acf9b7d0e8bceff7e5ab6330ddbec7a14">EntryMap</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1MMAPV1Engine.html#a7b7d274f5a87ab8d5047340ae3ec9809">_entryMap</a></td></tr>
<tr class="separator:a7b7d274f5a87ab8d5047340ae3ec9809"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a941929b4622c01de8adc9981e0439efe"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classmongo_1_1RecordAccessTracker.html">RecordAccessTracker</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1MMAPV1Engine.html#a941929b4622c01de8adc9981e0439efe">_recordAccessTracker</a></td></tr>
<tr class="separator:a941929b4622c01de8adc9981e0439efe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a57d564fb166fe8a3a6fefb0bc68999df"><td class="memItemLeft" align="right" valign="top">std::unique_ptr&lt; <a class="el" href="classmongo_1_1ExtentManager_1_1Factory.html">ExtentManager::Factory</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1MMAPV1Engine.html#a57d564fb166fe8a3a6fefb0bc68999df">_extentManagerFactory</a></td></tr>
<tr class="separator:a57d564fb166fe8a3a6fefb0bc68999df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa4eacb76013d58ab141d87d362e6618"><td class="memItemLeft" align="right" valign="top">ClockSource *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1MMAPV1Engine.html#afa4eacb76013d58ab141d87d362e6618">_clock</a></td></tr>
<tr class="separator:afa4eacb76013d58ab141d87d362e6618"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f79e29a0875ae23131f1fe0dd47500e"><td class="memItemLeft" align="right" valign="top">int64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1MMAPV1Engine.html#a5f79e29a0875ae23131f1fe0dd47500e">_startMs</a></td></tr>
<tr class="separator:a5f79e29a0875ae23131f1fe0dd47500e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pub_types_classmongo_1_1StorageEngine"><td colspan="2" onclick="javascript:toggleInherit('pub_types_classmongo_1_1StorageEngine')"><img src="closed.png" alt="-"/>&#160;Public Types inherited from <a class="el" href="classmongo_1_1StorageEngine.html">mongo::StorageEngine</a></td></tr>
<tr class="memitem:ae64a0ea2f55ed12186a2aee8a34c793b inherit pub_types_classmongo_1_1StorageEngine"><td class="memItemLeft" align="right" valign="top">typedef std::pair&lt; std::string, std::string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1StorageEngine.html#ae64a0ea2f55ed12186a2aee8a34c793b">CollectionIndexNamePair</a></td></tr>
<tr class="separator:ae64a0ea2f55ed12186a2aee8a34c793b inherit pub_types_classmongo_1_1StorageEngine"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Member Typedef Documentation</h2>
<a id="acf9b7d0e8bceff7e5ab6330ddbec7a14"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acf9b7d0e8bceff7e5ab6330ddbec7a14">&#9670;&nbsp;</a></span>EntryMap</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">typedef std::map&lt;std::string, <a class="el" href="classmongo_1_1MMAPV1DatabaseCatalogEntry.html">MMAPV1DatabaseCatalogEntry</a>*&gt; <a class="el" href="classmongo_1_1MMAPV1Engine.html#acf9b7d0e8bceff7e5ab6330ddbec7a14">mongo::MMAPV1Engine::EntryMap</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a8e1b64db410a7d7b23f0abdad2128d7b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8e1b64db410a7d7b23f0abdad2128d7b">&#9670;&nbsp;</a></span>MMAPV1Engine() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">mongo::MMAPV1Engine::MMAPV1Engine </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classmongo_1_1StorageEngineLockFile.html">StorageEngineLockFile</a> *&#160;</td>
          <td class="paramname"><em>lockFile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ClockSource *&#160;</td>
          <td class="paramname"><em>cs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a01d710e7097b5bf8019711d0e5a752e3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a01d710e7097b5bf8019711d0e5a752e3">&#9670;&nbsp;</a></span>MMAPV1Engine() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">mongo::MMAPV1Engine::MMAPV1Engine </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classmongo_1_1StorageEngineLockFile.html">StorageEngineLockFile</a> *&#160;</td>
          <td class="paramname"><em>lockFile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ClockSource *&#160;</td>
          <td class="paramname"><em>cs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::unique_ptr&lt; <a class="el" href="classmongo_1_1ExtentManager_1_1Factory.html">ExtentManager::Factory</a> &gt;&#160;</td>
          <td class="paramname"><em>extentManagerFactory</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a000103f8aa9ed0246026f0ee391fa7a0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a000103f8aa9ed0246026f0ee391fa7a0">&#9670;&nbsp;</a></span>~MMAPV1Engine()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mongo::MMAPV1Engine::~MMAPV1Engine </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="acdf9707cfca8e37b73518dd0a4be872a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acdf9707cfca8e37b73518dd0a4be872a">&#9670;&nbsp;</a></span>_listDatabases()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacemongo.html#aa639063deea016a1dac8f046e93900a6">void</a> mongo::MMAPV1Engine::_listDatabases </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>directory</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; std::string &gt; *&#160;</td>
          <td class="paramname"><em>out</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a13537c5dc05eda6e1cc8fe16ba7bc247"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a13537c5dc05eda6e1cc8fe16ba7bc247">&#9670;&nbsp;</a></span>beginBackup()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacemongo.html#a7dd53a44ec884164bc07ed073e9f31da">Status</a> mongo::MMAPV1Engine::beginBackup </td>
          <td>(</td>
          <td class="paramtype">OperationContext *&#160;</td>
          <td class="paramname"><em>opCtx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Transitions the storage engine into backup mode. </p>
<p>During backup mode the storage engine must stabilize its on-disk files, and avoid any internal processing that may involve file I/O, such as online compaction, so a filesystem level backup may be performed.</p>
<p>Storage engines that do not support this feature should use the default implementation. Storage engines that implement this must also implement <a class="el" href="classmongo_1_1MMAPV1Engine.html#a8354e58b6289b5d97a6dac9e832116aa" title="Transitions the storage engine out of backup mode. ">endBackup()</a>.</p>
<p>For Storage engines that implement beginBackup the _inBackupMode variable is provided to avoid multiple instance enterting/leaving backup concurrently.</p>
<p>If this function returns an OK status, MongoDB can call endBackup to signal the storage engine that filesystem writes may continue. This function should return a non-OK status if filesystem changes cannot be stopped to allow for online backup. If the function should be retried, returns a non-OK status. This function may throw a <a class="el" href="classmongo_1_1WriteConflictException.html" title="This is thrown if during a write, two or more operations conflict with each other. ">WriteConflictException</a>, which should trigger a retry by the caller. All other exceptions should be treated as errors. </p>

<p>Reimplemented from <a class="el" href="classmongo_1_1StorageEngine.html#ad40644ee1add010e9e8e746ffb8c91d2">mongo::StorageEngine</a>.</p>

</div>
</div>
<a id="a025fcd63d5a0d9f01affc81f088d19b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a025fcd63d5a0d9f01affc81f088d19b0">&#9670;&nbsp;</a></span>cleanShutdown()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacemongo.html#aa639063deea016a1dac8f046e93900a6">void</a> mongo::MMAPV1Engine::cleanShutdown </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This method will be called before there is a clean shutdown. </p>
<p>Storage engines should override this method if they have clean-up to do that is different from unclean shutdown. MongoDB will not call into the storage subsystem after calling this function.</p>
<p>On error, the storage engine should assert and crash. There is intentionally no uncleanShutdown(). </p>

<p>Implements <a class="el" href="classmongo_1_1StorageEngine.html#a8a8d564d6ddbc279938d60ec8d16dd54">mongo::StorageEngine</a>.</p>

</div>
</div>
<a id="a551b69ea194eb2f260dd65008def685c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a551b69ea194eb2f260dd65008def685c">&#9670;&nbsp;</a></span>closeDatabase()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacemongo.html#a7dd53a44ec884164bc07ed073e9f31da">Status</a> mongo::MMAPV1Engine::closeDatabase </td>
          <td>(</td>
          <td class="paramtype">OperationContext *&#160;</td>
          <td class="paramname"><em>opCtx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">StringData&#160;</td>
          <td class="paramname"><em>db</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Closes all file handles associated with a database. </p>

<p>Implements <a class="el" href="classmongo_1_1StorageEngine.html#ab9d09d544bed98f57a14daff8cadc1a3">mongo::StorageEngine</a>.</p>

</div>
</div>
<a id="afe02a242a7a404e38d31cd7753ae80d7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afe02a242a7a404e38d31cd7753ae80d7">&#9670;&nbsp;</a></span>dropDatabase()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacemongo.html#a7dd53a44ec884164bc07ed073e9f31da">Status</a> mongo::MMAPV1Engine::dropDatabase </td>
          <td>(</td>
          <td class="paramtype">OperationContext *&#160;</td>
          <td class="paramname"><em>opCtx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">StringData&#160;</td>
          <td class="paramname"><em>db</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Deletes all data and metadata for a database. </p>

<p>Implements <a class="el" href="classmongo_1_1StorageEngine.html#aadd689646a3b23fe88fb873f19b0c946">mongo::StorageEngine</a>.</p>

</div>
</div>
<a id="a8354e58b6289b5d97a6dac9e832116aa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8354e58b6289b5d97a6dac9e832116aa">&#9670;&nbsp;</a></span>endBackup()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacemongo.html#aa639063deea016a1dac8f046e93900a6">void</a> mongo::MMAPV1Engine::endBackup </td>
          <td>(</td>
          <td class="paramtype">OperationContext *&#160;</td>
          <td class="paramname"><em>opCtx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Transitions the storage engine out of backup mode. </p>
<p>Storage engines that do not support this feature should use the default implementation.</p>
<p>Storage engines implementing this feature should fassert when unable to leave backup mode. </p>

<p>Reimplemented from <a class="el" href="classmongo_1_1StorageEngine.html#a9ebe160dc5086e8c87eb54e9dd9c1aa5">mongo::StorageEngine</a>.</p>

</div>
</div>
<a id="a11e4508c71689c46509eef948568ecff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a11e4508c71689c46509eef948568ecff">&#9670;&nbsp;</a></span>finishInit()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacemongo.html#aa639063deea016a1dac8f046e93900a6">void</a> mongo::MMAPV1Engine::finishInit </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Called after the globalStorageEngine pointer has been set up, before any other methods are called. </p>
<p>Any initialization work that requires the ability to create OperationContexts should be done here rather than in the constructor. </p>

<p>Reimplemented from <a class="el" href="classmongo_1_1StorageEngine.html#a779d1e55b46d3052a954d7503adf309e">mongo::StorageEngine</a>.</p>

</div>
</div>
<a id="a05b153cbe3e51e8f0d6bb73a5641260b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a05b153cbe3e51e8f0d6bb73a5641260b">&#9670;&nbsp;</a></span>flushAllFiles()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int mongo::MMAPV1Engine::flushAllFiles </td>
          <td>(</td>
          <td class="paramtype">OperationContext *&#160;</td>
          <td class="paramname"><em>opCtx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>sync</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>number of files flushed </dd></dl>

<p>Implements <a class="el" href="classmongo_1_1StorageEngine.html#afc70f10ab115ffb7a18a3d0189ac9176">mongo::StorageEngine</a>.</p>

</div>
</div>
<a id="aaabc7c5da80acf5feced97c720e3d743"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaabc7c5da80acf5feced97c720e3d743">&#9670;&nbsp;</a></span>getAllCommittedTimestamp()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Timestamp mongo::MMAPV1Engine::getAllCommittedTimestamp </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the all committed timestamp. </p>
<p>All transactions with timestamps earlier than the all committed timestamp are committed. Only storage engines that support document level locking must provide an implementation. Other storage engines may provide a no-op implementation. </p>

<p>Implements <a class="el" href="classmongo_1_1StorageEngine.html#a2a426e68e950295b64ab3341471e1927">mongo::StorageEngine</a>.</p>

</div>
</div>
<a id="ad7d128a74c0be66ebee486ea3b87b8d3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad7d128a74c0be66ebee486ea3b87b8d3">&#9670;&nbsp;</a></span>getDatabaseCatalogEntry()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classmongo_1_1DatabaseCatalogEntry.html">DatabaseCatalogEntry</a> * mongo::MMAPV1Engine::getDatabaseCatalogEntry </td>
          <td>(</td>
          <td class="paramtype">OperationContext *&#160;</td>
          <td class="paramname"><em>opCtx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">StringData&#160;</td>
          <td class="paramname"><em>db</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return the <a class="el" href="classmongo_1_1DatabaseCatalogEntry.html">DatabaseCatalogEntry</a> that describes the database indicated by 'db'. </p>
<p><a class="el" href="classmongo_1_1StorageEngine.html" title="The StorageEngine class is the top level interface for creating a new storage engine. ">StorageEngine</a> owns returned pointer. It should not be deleted by any caller. </p>

<p>Implements <a class="el" href="classmongo_1_1StorageEngine.html#a2e78f6f7c6fa5615b8a5f81f933cb3b4">mongo::StorageEngine</a>.</p>

</div>
</div>
<a id="a6862b123988756cb803864acb409f8ee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6862b123988756cb803864acb409f8ee">&#9670;&nbsp;</a></span>getRecordAccessTracker()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classmongo_1_1RecordAccessTracker.html">RecordAccessTracker</a> &amp; mongo::MMAPV1Engine::getRecordAccessTracker </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets a reference to the abstraction used by MMAP v1 to track recently used memory addresses. </p>
<p>MMAPv1 specific (non-virtual). This is non-const because callers are allowed to use the returned reference to modify the <a class="el" href="classmongo_1_1RecordAccessTracker.html" title="Used to implement likelyInPhysicalMemory() for the MMAP v1 storage engine. ">RecordAccessTracker</a>.</p>
<p>The <a class="el" href="classmongo_1_1RecordAccessTracker.html" title="Used to implement likelyInPhysicalMemory() for the MMAP v1 storage engine. ">RecordAccessTracker</a> is thread-safe (it uses its own mutex internally). </p>

</div>
</div>
<a id="a8b7df1455b2c0e1d7b6c0103e21e8624"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8b7df1455b2c0e1d7b6c0103e21e8624">&#9670;&nbsp;</a></span>isDurable()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool mongo::MMAPV1Engine::isDurable </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns whether the engine supports a journalling concept or not. </p>

<p>Implements <a class="el" href="classmongo_1_1StorageEngine.html#ad11089c3879e353ffaaf82e0f5c1d1f4">mongo::StorageEngine</a>.</p>

</div>
</div>
<a id="aa779b0bee11584aaf8ec6d2aad4ca4b8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa779b0bee11584aaf8ec6d2aad4ca4b8">&#9670;&nbsp;</a></span>isEphemeral()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool mongo::MMAPV1Engine::isEphemeral </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns true if the engine does not persist data to disk; false otherwise. </p>

<p>Implements <a class="el" href="classmongo_1_1StorageEngine.html#a0d78f2fc178a5b1d07f3dbd995b8481e">mongo::StorageEngine</a>.</p>

</div>
</div>
<a id="a43a180e057a84fdafb03a0eaff6fe536"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a43a180e057a84fdafb03a0eaff6fe536">&#9670;&nbsp;</a></span>isMmapV1()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool mongo::MMAPV1Engine::isMmapV1 </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Only MMAPv1 should override this and return true to trigger MMAPv1-specific behavior. </p>

<p>Reimplemented from <a class="el" href="classmongo_1_1StorageEngine.html#a33bb304280d13f9526986c44fed3a7ca">mongo::StorageEngine</a>.</p>

</div>
</div>
<a id="a7db0b44be79e733162601483ccdc809f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7db0b44be79e733162601483ccdc809f">&#9670;&nbsp;</a></span>listDatabases()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacemongo.html#aa639063deea016a1dac8f046e93900a6">void</a> mongo::MMAPV1Engine::listDatabases </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; std::string &gt; *&#160;</td>
          <td class="paramname"><em>out</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>List the databases stored in this storage engine. </p>
<p>XXX: why doesn't this take OpCtx? </p>

<p>Implements <a class="el" href="classmongo_1_1StorageEngine.html#a9a90adedcbda8f43a80878e86b55da85">mongo::StorageEngine</a>.</p>

</div>
</div>
<a id="ab7384e04569060f189589b5a802af7f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab7384e04569060f189589b5a802af7f9">&#9670;&nbsp;</a></span>newRecoveryUnit()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classmongo_1_1RecoveryUnit.html">RecoveryUnit</a> * mongo::MMAPV1Engine::newRecoveryUnit </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns a new interface to the storage engine's recovery unit. </p>
<p>The recovery unit is the durability interface. For details, see <a class="el" href="recovery__unit_8h.html">recovery_unit.h</a></p>
<p>Caller owns the returned pointer. </p>

<p>Implements <a class="el" href="classmongo_1_1StorageEngine.html#ac9ab3dbc3ba656ac00481210a2ce8c45">mongo::StorageEngine</a>.</p>

</div>
</div>
<a id="a9e419c43d97c8d4950d5a75fb310c425"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9e419c43d97c8d4950d5a75fb310c425">&#9670;&nbsp;</a></span>repairDatabase()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacemongo.html#a7dd53a44ec884164bc07ed073e9f31da">Status</a> mongo::MMAPV1Engine::repairDatabase </td>
          <td>(</td>
          <td class="paramtype">OperationContext *&#160;</td>
          <td class="paramname"><em>opCtx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>dbName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>preserveClonedFilesOnFailure</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>backupOriginalFiles</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a486fa37132eb18bc7589d2a2a42076ce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a486fa37132eb18bc7589d2a2a42076ce">&#9670;&nbsp;</a></span>repairRecordStore()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="namespacemongo.html#a7dd53a44ec884164bc07ed073e9f31da">Status</a> mongo::MMAPV1Engine::repairRecordStore </td>
          <td>(</td>
          <td class="paramtype">OperationContext *&#160;</td>
          <td class="paramname"><em>opCtx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>ns</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Recover as much data as possible from a potentially corrupt <a class="el" href="classmongo_1_1RecordStore.html" title="An abstraction used for storing documents in a collection or entries in an index. ...">RecordStore</a>. </p>
<p>This only recovers the record data, not indexes or anything else.</p>
<p>Generally, this method should not be called directly except by the <a class="el" href="classmongo_1_1MMAPV1Engine.html#a9e419c43d97c8d4950d5a75fb310c425">repairDatabase()</a> free function.</p>
<p>NOTE: MMAPv1 does not support this method and has its own <a class="el" href="classmongo_1_1MMAPV1Engine.html#a9e419c43d97c8d4950d5a75fb310c425">repairDatabase()</a> method. </p>

<p>Implements <a class="el" href="classmongo_1_1StorageEngine.html#afeb3b3983813f900f61a4389602d5007">mongo::StorageEngine</a>.</p>

</div>
</div>
<a id="a6af850835385a7eb5553197ad0ab5841"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6af850835385a7eb5553197ad0ab5841">&#9670;&nbsp;</a></span>setJournalListener()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacemongo.html#aa639063deea016a1dac8f046e93900a6">void</a> mongo::MMAPV1Engine::setJournalListener </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classmongo_1_1JournalListener.html">JournalListener</a> *&#160;</td>
          <td class="paramname"><em>jl</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">final</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sets a new <a class="el" href="classmongo_1_1JournalListener.html" title="This class allows for the storageEngine to alert the rest of the system about journaled write progres...">JournalListener</a>, which is used by the storage engine to alert the rest of the system about journaled write progress. </p>

<p>Implements <a class="el" href="classmongo_1_1StorageEngine.html#ade3508d474e1fd9a168085a8a4d73828">mongo::StorageEngine</a>.</p>

</div>
</div>
<a id="aafd4179b7d2fe9a5c32d7875e396b3bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aafd4179b7d2fe9a5c32d7875e396b3bf">&#9670;&nbsp;</a></span>supportsDocLocking()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool mongo::MMAPV1Engine::supportsDocLocking </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns whether the storage engine supports its own locking locking below the collection level. </p>
<p>If the engine returns true, MongoDB will acquire intent locks down to the collection level and will assume that the engine will ensure consistency at the level of documents. If false, MongoDB will lock the entire collection in Shared/Exclusive mode for read/write operations respectively. </p>

<p>Implements <a class="el" href="classmongo_1_1StorageEngine.html#aaf0dfc56e0509914e839c8587fd0ee7d">mongo::StorageEngine</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="afa4eacb76013d58ab141d87d362e6618"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afa4eacb76013d58ab141d87d362e6618">&#9670;&nbsp;</a></span>_clock</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ClockSource* mongo::MMAPV1Engine::_clock</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a7b7d274f5a87ab8d5047340ae3ec9809"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7b7d274f5a87ab8d5047340ae3ec9809">&#9670;&nbsp;</a></span>_entryMap</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classmongo_1_1MMAPV1Engine.html#acf9b7d0e8bceff7e5ab6330ddbec7a14">EntryMap</a> mongo::MMAPV1Engine::_entryMap</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a26ea7d47b2f9350c9cd9cc5f4daba9e8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a26ea7d47b2f9350c9cd9cc5f4daba9e8">&#9670;&nbsp;</a></span>_entryMapMutex</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">stdx::mutex mongo::MMAPV1Engine::_entryMapMutex</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a57d564fb166fe8a3a6fefb0bc68999df"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a57d564fb166fe8a3a6fefb0bc68999df">&#9670;&nbsp;</a></span>_extentManagerFactory</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unique_ptr&lt;<a class="el" href="classmongo_1_1ExtentManager_1_1Factory.html">ExtentManager::Factory</a>&gt; mongo::MMAPV1Engine::_extentManagerFactory</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a941929b4622c01de8adc9981e0439efe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a941929b4622c01de8adc9981e0439efe">&#9670;&nbsp;</a></span>_recordAccessTracker</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classmongo_1_1RecordAccessTracker.html">RecordAccessTracker</a> mongo::MMAPV1Engine::_recordAccessTracker</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a5f79e29a0875ae23131f1fe0dd47500e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5f79e29a0875ae23131f1fe0dd47500e">&#9670;&nbsp;</a></span>_startMs</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int64_t mongo::MMAPV1Engine::_startMs</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/home/louis/git/mongo/src/mongo/db/storage/mmap_v1/<a class="el" href="mmap__v1__engine_8h_source.html">mmap_v1_engine.h</a></li>
<li>/home/louis/git/mongo/src/mongo/db/storage/mmap_v1/<a class="el" href="mmap__v1__engine_8cpp.html">mmap_v1_engine.cpp</a></li>
<li>/home/louis/git/mongo/src/mongo/db/storage/mmap_v1/<a class="el" href="repair__database_8cpp.html">repair_database.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.13-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacemongo.html">mongo</a></li><li class="navelem"><a class="el" href="classmongo_1_1MMAPV1Engine.html">MMAPV1Engine</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
