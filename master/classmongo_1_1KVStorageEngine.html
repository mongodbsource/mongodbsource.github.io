<!-- HTML header for doxygen 1.8.13-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Storage Engine API: mongo::KVStorageEngine Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link rel="shortcut icon" href="favicon.ico" type="image/x-icon" />
<link href="mongodb.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr>
  <td id="projectlogo"><img alt="Logo" src="mongodb-logo.jpg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Storage Engine API
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classmongo_1_1KVStorageEngine.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-types">Private Types</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classmongo_1_1KVStorageEngine-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">mongo::KVStorageEngine Class Reference<span class="mlabels"><span class="mlabel">final</span></span></div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="kv__storage__engine_8h_source.html">kv_storage_engine.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for mongo::KVStorageEngine:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classmongo_1_1KVStorageEngine.png" usemap="#mongo::KVStorageEngine_map" alt=""/>
  <map id="mongo::KVStorageEngine_map" name="mongo::KVStorageEngine_map">
<area href="classmongo_1_1StorageEngine.html" title="The StorageEngine class is the top level interface for creating a new storage engine. " alt="mongo::StorageEngine" shape="rect" coords="0,0,155,24"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1KVStorageEngine_1_1RemoveDBChange.html">RemoveDBChange</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a1ed7e8fbdb722a02e3c0472ecf2c903c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1KVStorageEngine.html#a1ed7e8fbdb722a02e3c0472ecf2c903c">KVStorageEngine</a> (<a class="el" href="classmongo_1_1KVEngine.html">KVEngine</a> *<a class="el" href="kv__engine__test__timestamps_8cpp.html#a512e8ffd7bb1f4789aab06e3aaab1784">engine</a>, const <a class="el" href="structmongo_1_1KVStorageEngineOptions.html">KVStorageEngineOptions</a> &amp;<a class="el" href="namespacemongo.html#ad271b77bcd8d56d7a7e2205e9cb55df7">options</a>=<a class="el" href="structmongo_1_1KVStorageEngineOptions.html">KVStorageEngineOptions</a>(), stdx::function&lt; <a class="el" href="namespacemongo.html#a68f2219510070d42c4cdababae6476df">KVDatabaseCatalogEntryFactory</a> &gt; databaseCatalogEntryFactory=<a class="el" href="namespacemongo.html#a3bb0760931f6a5e99a21a8ab7e222a0f">defaultDatabaseCatalogEntryFactory</a>)</td></tr>
<tr class="separator:a1ed7e8fbdb722a02e3c0472ecf2c903c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a51cc4074ff06c04ddc025ee16d16dd5d"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1KVStorageEngine.html#a51cc4074ff06c04ddc025ee16d16dd5d">~KVStorageEngine</a> ()</td></tr>
<tr class="separator:a51cc4074ff06c04ddc025ee16d16dd5d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8dd4c2d5531ec89c7e7127f8d94a7cff"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="namespacemongo.html#aa639063deea016a1dac8f046e93900a6">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1KVStorageEngine.html#a8dd4c2d5531ec89c7e7127f8d94a7cff">finishInit</a> ()</td></tr>
<tr class="memdesc:a8dd4c2d5531ec89c7e7127f8d94a7cff"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called after the globalStorageEngine pointer has been set up, before any other methods are called.  <a href="#a8dd4c2d5531ec89c7e7127f8d94a7cff">More...</a><br /></td></tr>
<tr class="separator:a8dd4c2d5531ec89c7e7127f8d94a7cff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99ef27c813b8139a9e8187eb29cc99c1"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classmongo_1_1RecoveryUnit.html">RecoveryUnit</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1KVStorageEngine.html#a99ef27c813b8139a9e8187eb29cc99c1">newRecoveryUnit</a> ()</td></tr>
<tr class="memdesc:a99ef27c813b8139a9e8187eb29cc99c1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a new interface to the storage engine's recovery unit.  <a href="#a99ef27c813b8139a9e8187eb29cc99c1">More...</a><br /></td></tr>
<tr class="separator:a99ef27c813b8139a9e8187eb29cc99c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a459fbfd21e303bcb091995baf461d68d"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="namespacemongo.html#aa639063deea016a1dac8f046e93900a6">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1KVStorageEngine.html#a459fbfd21e303bcb091995baf461d68d">listDatabases</a> (std::vector&lt; std::string &gt; *out) const</td></tr>
<tr class="memdesc:a459fbfd21e303bcb091995baf461d68d"><td class="mdescLeft">&#160;</td><td class="mdescRight">List the databases stored in this storage engine.  <a href="#a459fbfd21e303bcb091995baf461d68d">More...</a><br /></td></tr>
<tr class="separator:a459fbfd21e303bcb091995baf461d68d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab822088aef3e3e3582529644882ed5d7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classmongo_1_1KVDatabaseCatalogEntryBase.html">KVDatabaseCatalogEntryBase</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1KVStorageEngine.html#ab822088aef3e3e3582529644882ed5d7">getDatabaseCatalogEntry</a> (OperationContext *<a class="el" href="namespacemongo.html#a15b23ef1d9a7f6cdadbf866f1e8e5043">opCtx</a>, StringData <a class="el" href="namespacemongo.html#a4ae6ca2f1e345dcee0a3bf19089f12f0">db</a>) override</td></tr>
<tr class="memdesc:ab822088aef3e3e3582529644882ed5d7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the <a class="el" href="classmongo_1_1DatabaseCatalogEntry.html">DatabaseCatalogEntry</a> that describes the database indicated by 'db'.  <a href="#ab822088aef3e3e3582529644882ed5d7">More...</a><br /></td></tr>
<tr class="separator:ab822088aef3e3e3582529644882ed5d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f54163355b5b97e130344dfdbd43534"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1KVStorageEngine.html#a0f54163355b5b97e130344dfdbd43534">supportsDocLocking</a> () const</td></tr>
<tr class="memdesc:a0f54163355b5b97e130344dfdbd43534"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns whether the storage engine supports its own locking locking below the collection level.  <a href="#a0f54163355b5b97e130344dfdbd43534">More...</a><br /></td></tr>
<tr class="separator:a0f54163355b5b97e130344dfdbd43534"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9bf861bbd657f3769a66296835e011af"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1KVStorageEngine.html#a9bf861bbd657f3769a66296835e011af">supportsDBLocking</a> () const</td></tr>
<tr class="memdesc:a9bf861bbd657f3769a66296835e011af"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns whether the storage engine supports locking at a database level.  <a href="#a9bf861bbd657f3769a66296835e011af">More...</a><br /></td></tr>
<tr class="separator:a9bf861bbd657f3769a66296835e011af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d826367fbf5ea91e491c0bae1a85995"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1KVStorageEngine.html#a7d826367fbf5ea91e491c0bae1a85995">supportsCappedCollections</a> () const</td></tr>
<tr class="memdesc:a7d826367fbf5ea91e491c0bae1a85995"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns whether the storage engine supports capped collections.  <a href="#a7d826367fbf5ea91e491c0bae1a85995">More...</a><br /></td></tr>
<tr class="separator:a7d826367fbf5ea91e491c0bae1a85995"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a49afe684a8c3b3584c607cb8fc5ce18b"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="namespacemongo.html#a7dd53a44ec884164bc07ed073e9f31da">Status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1KVStorageEngine.html#a49afe684a8c3b3584c607cb8fc5ce18b">closeDatabase</a> (OperationContext *<a class="el" href="namespacemongo.html#a15b23ef1d9a7f6cdadbf866f1e8e5043">opCtx</a>, StringData <a class="el" href="namespacemongo.html#a4ae6ca2f1e345dcee0a3bf19089f12f0">db</a>)</td></tr>
<tr class="memdesc:a49afe684a8c3b3584c607cb8fc5ce18b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Closes all file handles associated with a database.  <a href="#a49afe684a8c3b3584c607cb8fc5ce18b">More...</a><br /></td></tr>
<tr class="separator:a49afe684a8c3b3584c607cb8fc5ce18b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a224750035fbe1c90609a1460dc178362"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="namespacemongo.html#a7dd53a44ec884164bc07ed073e9f31da">Status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1KVStorageEngine.html#a224750035fbe1c90609a1460dc178362">dropDatabase</a> (OperationContext *<a class="el" href="namespacemongo.html#a15b23ef1d9a7f6cdadbf866f1e8e5043">opCtx</a>, StringData <a class="el" href="namespacemongo.html#a4ae6ca2f1e345dcee0a3bf19089f12f0">db</a>)</td></tr>
<tr class="memdesc:a224750035fbe1c90609a1460dc178362"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deletes all data and metadata for a database.  <a href="#a224750035fbe1c90609a1460dc178362">More...</a><br /></td></tr>
<tr class="separator:a224750035fbe1c90609a1460dc178362"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0643a23df3f939ba6aabdcd398282bef"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1KVStorageEngine.html#a0643a23df3f939ba6aabdcd398282bef">flushAllFiles</a> (OperationContext *<a class="el" href="namespacemongo.html#a15b23ef1d9a7f6cdadbf866f1e8e5043">opCtx</a>, bool sync)</td></tr>
<tr class="separator:a0643a23df3f939ba6aabdcd398282bef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8e92cb418218aa9ea6840f72b500402"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="namespacemongo.html#a7dd53a44ec884164bc07ed073e9f31da">Status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1KVStorageEngine.html#ac8e92cb418218aa9ea6840f72b500402">beginBackup</a> (OperationContext *<a class="el" href="namespacemongo.html#a15b23ef1d9a7f6cdadbf866f1e8e5043">opCtx</a>)</td></tr>
<tr class="memdesc:ac8e92cb418218aa9ea6840f72b500402"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transitions the storage engine into backup mode.  <a href="#ac8e92cb418218aa9ea6840f72b500402">More...</a><br /></td></tr>
<tr class="separator:ac8e92cb418218aa9ea6840f72b500402"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc07929ce0bac83a5d5ed0dd4e8a2c91"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="namespacemongo.html#aa639063deea016a1dac8f046e93900a6">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1KVStorageEngine.html#abc07929ce0bac83a5d5ed0dd4e8a2c91">endBackup</a> (OperationContext *<a class="el" href="namespacemongo.html#a15b23ef1d9a7f6cdadbf866f1e8e5043">opCtx</a>)</td></tr>
<tr class="memdesc:abc07929ce0bac83a5d5ed0dd4e8a2c91"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transitions the storage engine out of backup mode.  <a href="#abc07929ce0bac83a5d5ed0dd4e8a2c91">More...</a><br /></td></tr>
<tr class="separator:abc07929ce0bac83a5d5ed0dd4e8a2c91"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a44abd6d6916e8477059ba021a7e306c2"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1KVStorageEngine.html#a44abd6d6916e8477059ba021a7e306c2">isDurable</a> () const</td></tr>
<tr class="memdesc:a44abd6d6916e8477059ba021a7e306c2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns whether the engine supports a journalling concept or not.  <a href="#a44abd6d6916e8477059ba021a7e306c2">More...</a><br /></td></tr>
<tr class="separator:a44abd6d6916e8477059ba021a7e306c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5ca83c96ec70ce6a6bd32f6543f26a6e"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1KVStorageEngine.html#a5ca83c96ec70ce6a6bd32f6543f26a6e">isEphemeral</a> () const</td></tr>
<tr class="memdesc:a5ca83c96ec70ce6a6bd32f6543f26a6e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if the engine does not persist data to disk; false otherwise.  <a href="#a5ca83c96ec70ce6a6bd32f6543f26a6e">More...</a><br /></td></tr>
<tr class="separator:a5ca83c96ec70ce6a6bd32f6543f26a6e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8265d01f486d17f39c4a9ed1d4863018"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="namespacemongo.html#a7dd53a44ec884164bc07ed073e9f31da">Status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1KVStorageEngine.html#a8265d01f486d17f39c4a9ed1d4863018">repairRecordStore</a> (OperationContext *<a class="el" href="namespacemongo.html#a15b23ef1d9a7f6cdadbf866f1e8e5043">opCtx</a>, const std::string &amp;<a class="el" href="namespacemongo.html#aa1aad236ca83643ab0718062dd62f4fc">ns</a>)</td></tr>
<tr class="memdesc:a8265d01f486d17f39c4a9ed1d4863018"><td class="mdescLeft">&#160;</td><td class="mdescRight">Recover as much data as possible from a potentially corrupt <a class="el" href="classmongo_1_1RecordStore.html" title="An abstraction used for storing documents in a collection or entries in an index. ...">RecordStore</a>.  <a href="#a8265d01f486d17f39c4a9ed1d4863018">More...</a><br /></td></tr>
<tr class="separator:a8265d01f486d17f39c4a9ed1d4863018"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1cd4bff9edda16ed1fa07ac965439b36"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="namespacemongo.html#aa639063deea016a1dac8f046e93900a6">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1KVStorageEngine.html#a1cd4bff9edda16ed1fa07ac965439b36">cleanShutdown</a> ()</td></tr>
<tr class="memdesc:a1cd4bff9edda16ed1fa07ac965439b36"><td class="mdescLeft">&#160;</td><td class="mdescRight">This method will be called before there is a clean shutdown.  <a href="#a1cd4bff9edda16ed1fa07ac965439b36">More...</a><br /></td></tr>
<tr class="separator:a1cd4bff9edda16ed1fa07ac965439b36"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae2ffeb5f83e76549076a69047e8f6ae5"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="namespacemongo.html#aa639063deea016a1dac8f046e93900a6">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1KVStorageEngine.html#ae2ffeb5f83e76549076a69047e8f6ae5">setStableTimestamp</a> (Timestamp stableTimestamp) override</td></tr>
<tr class="memdesc:ae2ffeb5f83e76549076a69047e8f6ae5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the highest timestamp at which the storage engine is allowed to take a checkpoint.  <a href="#ae2ffeb5f83e76549076a69047e8f6ae5">More...</a><br /></td></tr>
<tr class="separator:ae2ffeb5f83e76549076a69047e8f6ae5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15cb6aea949b1f30a7275125ae11c33e"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="namespacemongo.html#aa639063deea016a1dac8f046e93900a6">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1KVStorageEngine.html#a15cb6aea949b1f30a7275125ae11c33e">setInitialDataTimestamp</a> (Timestamp initialDataTimestamp) override</td></tr>
<tr class="memdesc:a15cb6aea949b1f30a7275125ae11c33e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tells the storage engine the timestamp of the data at startup.  <a href="#a15cb6aea949b1f30a7275125ae11c33e">More...</a><br /></td></tr>
<tr class="separator:a15cb6aea949b1f30a7275125ae11c33e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6ad776348f33da1925683b9a707bf41"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="namespacemongo.html#aa639063deea016a1dac8f046e93900a6">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1KVStorageEngine.html#aa6ad776348f33da1925683b9a707bf41">setOldestTimestampFromStable</a> () override</td></tr>
<tr class="memdesc:aa6ad776348f33da1925683b9a707bf41"><td class="mdescLeft">&#160;</td><td class="mdescRight">Uses the current stable timestamp to set the oldest timestamp for which the storage engine must maintain snapshot history through.  <a href="#aa6ad776348f33da1925683b9a707bf41">More...</a><br /></td></tr>
<tr class="separator:aa6ad776348f33da1925683b9a707bf41"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7eab16896c324815ce60b87ef4b51926"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="namespacemongo.html#aa639063deea016a1dac8f046e93900a6">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1KVStorageEngine.html#a7eab16896c324815ce60b87ef4b51926">setOldestTimestamp</a> (Timestamp newOldestTimestamp) override</td></tr>
<tr class="memdesc:a7eab16896c324815ce60b87ef4b51926"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the oldest timestamp for which the storage engine must maintain snapshot history through.  <a href="#a7eab16896c324815ce60b87ef4b51926">More...</a><br /></td></tr>
<tr class="separator:a7eab16896c324815ce60b87ef4b51926"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaaa1f9ea2415ae884bea00713f4fc145"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1KVStorageEngine.html#aaaa1f9ea2415ae884bea00713f4fc145">isCacheUnderPressure</a> (OperationContext *<a class="el" href="namespacemongo.html#a15b23ef1d9a7f6cdadbf866f1e8e5043">opCtx</a>) const override</td></tr>
<tr class="memdesc:aaaa1f9ea2415ae884bea00713f4fc145"><td class="mdescLeft">&#160;</td><td class="mdescRight">Indicates whether the storage engine cache is under pressure.  <a href="#aaaa1f9ea2415ae884bea00713f4fc145">More...</a><br /></td></tr>
<tr class="separator:aaaa1f9ea2415ae884bea00713f4fc145"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2fd892fd4dab10fe3ac6b6d6e9cedc5b"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="namespacemongo.html#aa639063deea016a1dac8f046e93900a6">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1KVStorageEngine.html#a2fd892fd4dab10fe3ac6b6d6e9cedc5b">setCachePressureForTest</a> (int pressure) override</td></tr>
<tr class="memdesc:a2fd892fd4dab10fe3ac6b6d6e9cedc5b"><td class="mdescLeft">&#160;</td><td class="mdescRight">For unit tests only.  <a href="#a2fd892fd4dab10fe3ac6b6d6e9cedc5b">More...</a><br /></td></tr>
<tr class="separator:a2fd892fd4dab10fe3ac6b6d6e9cedc5b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7060f77d244091c37f9ebdf62ce23c0b"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1KVStorageEngine.html#a7060f77d244091c37f9ebdf62ce23c0b">supportsRecoverToStableTimestamp</a> () const override</td></tr>
<tr class="memdesc:a7060f77d244091c37f9ebdf62ce23c0b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns whether the storage engine supports "recover to stable timestamp".  <a href="#a7060f77d244091c37f9ebdf62ce23c0b">More...</a><br /></td></tr>
<tr class="separator:a7060f77d244091c37f9ebdf62ce23c0b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa93479f84ede416f282189d2b597c665"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classmongo_1_1StatusWith.html">StatusWith</a>&lt; Timestamp &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1KVStorageEngine.html#aa93479f84ede416f282189d2b597c665">recoverToStableTimestamp</a> (OperationContext *<a class="el" href="namespacemongo.html#a15b23ef1d9a7f6cdadbf866f1e8e5043">opCtx</a>) override</td></tr>
<tr class="memdesc:aa93479f84ede416f282189d2b597c665"><td class="mdescLeft">&#160;</td><td class="mdescRight">Recovers the storage engine state to the last stable timestamp.  <a href="#aa93479f84ede416f282189d2b597c665">More...</a><br /></td></tr>
<tr class="separator:aa93479f84ede416f282189d2b597c665"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7fa0a466e7cec30e3b96a8d9cd9f5271"><td class="memItemLeft" align="right" valign="top">virtual boost::optional&lt; Timestamp &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1KVStorageEngine.html#a7fa0a466e7cec30e3b96a8d9cd9f5271">getRecoveryTimestamp</a> () const override</td></tr>
<tr class="memdesc:a7fa0a466e7cec30e3b96a8d9cd9f5271"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the stable timestamp that the storage engine recovered to on startup.  <a href="#a7fa0a466e7cec30e3b96a8d9cd9f5271">More...</a><br /></td></tr>
<tr class="separator:a7fa0a466e7cec30e3b96a8d9cd9f5271"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1b6d3d99952dfa1169ad86cd29af6c3"><td class="memItemLeft" align="right" valign="top">virtual boost::optional&lt; Timestamp &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1KVStorageEngine.html#ac1b6d3d99952dfa1169ad86cd29af6c3">getLastStableCheckpointTimestamp</a> () const override</td></tr>
<tr class="memdesc:ac1b6d3d99952dfa1169ad86cd29af6c3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a timestamp that is guaranteed to be persisted to disk in a checkpoint.  <a href="#ac1b6d3d99952dfa1169ad86cd29af6c3">More...</a><br /></td></tr>
<tr class="separator:ac1b6d3d99952dfa1169ad86cd29af6c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae3976e677847a97580c2bb6befc00a55"><td class="memItemLeft" align="right" valign="top">virtual Timestamp&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1KVStorageEngine.html#ae3976e677847a97580c2bb6befc00a55">getAllCommittedTimestamp</a> () const override</td></tr>
<tr class="memdesc:ae3976e677847a97580c2bb6befc00a55"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the all committed timestamp.  <a href="#ae3976e677847a97580c2bb6befc00a55">More...</a><br /></td></tr>
<tr class="separator:ae3976e677847a97580c2bb6befc00a55"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aade080cb1b7268484fc1397ea795c51b"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1KVStorageEngine.html#aade080cb1b7268484fc1397ea795c51b">supportsReadConcernSnapshot</a> () const final</td></tr>
<tr class="memdesc:aade080cb1b7268484fc1397ea795c51b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if the storage engine supports the readConcern level "snapshot".  <a href="#aade080cb1b7268484fc1397ea795c51b">More...</a><br /></td></tr>
<tr class="separator:aade080cb1b7268484fc1397ea795c51b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06d0877dd1dbd5689bd8a9aaf071e7a7"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="namespacemongo.html#aa639063deea016a1dac8f046e93900a6">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1KVStorageEngine.html#a06d0877dd1dbd5689bd8a9aaf071e7a7">replicationBatchIsComplete</a> () const override</td></tr>
<tr class="memdesc:a06d0877dd1dbd5689bd8a9aaf071e7a7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Notifies the storage engine that a replication batch has completed.  <a href="#a06d0877dd1dbd5689bd8a9aaf071e7a7">More...</a><br /></td></tr>
<tr class="separator:a06d0877dd1dbd5689bd8a9aaf071e7a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a377ce0da69a9c3e26730e372422e42ca"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classmongo_1_1SnapshotManager.html">SnapshotManager</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1KVStorageEngine.html#a377ce0da69a9c3e26730e372422e42ca">getSnapshotManager</a> () const final</td></tr>
<tr class="memdesc:a377ce0da69a9c3e26730e372422e42ca"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the <a class="el" href="classmongo_1_1SnapshotManager.html" title="Manages snapshots that can be read from at a later time. ">SnapshotManager</a> for this <a class="el" href="classmongo_1_1StorageEngine.html" title="The StorageEngine class is the top level interface for creating a new storage engine. ">StorageEngine</a> or NULL if not supported.  <a href="#a377ce0da69a9c3e26730e372422e42ca">More...</a><br /></td></tr>
<tr class="separator:a377ce0da69a9c3e26730e372422e42ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af3a16c8a5543d53ddccae6b0a6e754c9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacemongo.html#aa639063deea016a1dac8f046e93900a6">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1KVStorageEngine.html#af3a16c8a5543d53ddccae6b0a6e754c9">setJournalListener</a> (<a class="el" href="classmongo_1_1JournalListener.html">JournalListener</a> *jl) final</td></tr>
<tr class="memdesc:af3a16c8a5543d53ddccae6b0a6e754c9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets a new <a class="el" href="classmongo_1_1JournalListener.html" title="This class allows for the storageEngine to alert the rest of the system about journaled write progres...">JournalListener</a>, which is used by the storage engine to alert the rest of the system about journaled write progress.  <a href="#af3a16c8a5543d53ddccae6b0a6e754c9">More...</a><br /></td></tr>
<tr class="separator:af3a16c8a5543d53ddccae6b0a6e754c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae657fdc36aaf178e8f30d0c6f3ba1038"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classmongo_1_1KVEngine.html">KVEngine</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1KVStorageEngine.html#ae657fdc36aaf178e8f30d0c6f3ba1038">getEngine</a> ()</td></tr>
<tr class="separator:ae657fdc36aaf178e8f30d0c6f3ba1038"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae292848d54d66126f971ea2661b0e1a5"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classmongo_1_1KVEngine.html">KVEngine</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1KVStorageEngine.html#ae292848d54d66126f971ea2661b0e1a5">getEngine</a> () const</td></tr>
<tr class="separator:ae292848d54d66126f971ea2661b0e1a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a247050f9b2ef7146bfa2c3878acd6c67"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classmongo_1_1KVCatalog.html">KVCatalog</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1KVStorageEngine.html#a247050f9b2ef7146bfa2c3878acd6c67">getCatalog</a> ()</td></tr>
<tr class="separator:a247050f9b2ef7146bfa2c3878acd6c67"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a07fc2d3d2b41abd68d74ef27ac469c5a"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classmongo_1_1KVCatalog.html">KVCatalog</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1KVStorageEngine.html#a07fc2d3d2b41abd68d74ef27ac469c5a">getCatalog</a> () const</td></tr>
<tr class="separator:a07fc2d3d2b41abd68d74ef27ac469c5a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9a72678b41b432feb90b1c67322214c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classmongo_1_1StatusWith.html">StatusWith</a>&lt; std::vector&lt; <a class="el" href="classmongo_1_1StorageEngine.html#ae64a0ea2f55ed12186a2aee8a34c793b">StorageEngine::CollectionIndexNamePair</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1KVStorageEngine.html#ab9a72678b41b432feb90b1c67322214c">reconcileCatalogAndIdents</a> (OperationContext *<a class="el" href="namespacemongo.html#a15b23ef1d9a7f6cdadbf866f1e8e5043">opCtx</a>) override</td></tr>
<tr class="memdesc:ab9a72678b41b432feb90b1c67322214c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Drop abandoned idents.  <a href="#ab9a72678b41b432feb90b1c67322214c">More...</a><br /></td></tr>
<tr class="separator:ab9a72678b41b432feb90b1c67322214c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5169d88d3a3b389a4beabdf93e2613e8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacemongo.html#aa639063deea016a1dac8f046e93900a6">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1KVStorageEngine.html#a5169d88d3a3b389a4beabdf93e2613e8">loadCatalog</a> (OperationContext *<a class="el" href="namespacemongo.html#a15b23ef1d9a7f6cdadbf866f1e8e5043">opCtx</a>) final</td></tr>
<tr class="memdesc:a5169d88d3a3b389a4beabdf93e2613e8"><td class="mdescLeft">&#160;</td><td class="mdescRight">When loading after an unclean shutdown, this performs cleanup on the <a class="el" href="classmongo_1_1KVCatalog.html">KVCatalog</a> and unsets the startingAfterUncleanShutdown decoration on the global ServiceContext.  <a href="#a5169d88d3a3b389a4beabdf93e2613e8">More...</a><br /></td></tr>
<tr class="separator:a5169d88d3a3b389a4beabdf93e2613e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af59b15a8468c19f6b297e6f61ceea108"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacemongo.html#aa639063deea016a1dac8f046e93900a6">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1KVStorageEngine.html#af59b15a8468c19f6b297e6f61ceea108">closeCatalog</a> (OperationContext *<a class="el" href="namespacemongo.html#a15b23ef1d9a7f6cdadbf866f1e8e5043">opCtx</a>) final</td></tr>
<tr class="separator:af59b15a8468c19f6b297e6f61ceea108"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classmongo_1_1StorageEngine"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classmongo_1_1StorageEngine')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classmongo_1_1StorageEngine.html">mongo::StorageEngine</a></td></tr>
<tr class="memitem:a3dfbb55646e9a8e8c41282cf1608c0f6 inherit pub_methods_classmongo_1_1StorageEngine"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1StorageEngine.html#a3dfbb55646e9a8e8c41282cf1608c0f6">~StorageEngine</a> ()</td></tr>
<tr class="memdesc:a3dfbb55646e9a8e8c41282cf1608c0f6 inherit pub_methods_classmongo_1_1StorageEngine"><td class="mdescLeft">&#160;</td><td class="mdescRight">The destructor should only be called if we are tearing down but not exiting the process.  <a href="classmongo_1_1StorageEngine.html#a3dfbb55646e9a8e8c41282cf1608c0f6">More...</a><br /></td></tr>
<tr class="separator:a3dfbb55646e9a8e8c41282cf1608c0f6 inherit pub_methods_classmongo_1_1StorageEngine"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a33bb304280d13f9526986c44fed3a7ca inherit pub_methods_classmongo_1_1StorageEngine"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1StorageEngine.html#a33bb304280d13f9526986c44fed3a7ca">isMmapV1</a> () const</td></tr>
<tr class="memdesc:a33bb304280d13f9526986c44fed3a7ca inherit pub_methods_classmongo_1_1StorageEngine"><td class="mdescLeft">&#160;</td><td class="mdescRight">Only MMAPv1 should override this and return true to trigger MMAPv1-specific behavior.  <a href="classmongo_1_1StorageEngine.html#a33bb304280d13f9526986c44fed3a7ca">More...</a><br /></td></tr>
<tr class="separator:a33bb304280d13f9526986c44fed3a7ca inherit pub_methods_classmongo_1_1StorageEngine"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-types"></a>
Private Types</h2></td></tr>
<tr class="memitem:ab1db876484f6f3d6c040472af9573948"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1KVStorageEngine.html#ab1db876484f6f3d6c040472af9573948">CollIter</a> = std::list&lt; std::string &gt;::iterator</td></tr>
<tr class="separator:ab1db876484f6f3d6c040472af9573948"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a70b986482363f1d9054347f35ce5c3c9"><td class="memItemLeft" align="right" valign="top">typedef std::map&lt; std::string, <a class="el" href="classmongo_1_1KVDatabaseCatalogEntryBase.html">KVDatabaseCatalogEntryBase</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1KVStorageEngine.html#a70b986482363f1d9054347f35ce5c3c9">DBMap</a></td></tr>
<tr class="separator:a70b986482363f1d9054347f35ce5c3c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:af19e92b680a34b9d4f2113c09c323abd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacemongo.html#a7dd53a44ec884164bc07ed073e9f31da">Status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1KVStorageEngine.html#af19e92b680a34b9d4f2113c09c323abd">_dropCollectionsNoTimestamp</a> (OperationContext *<a class="el" href="namespacemongo.html#a15b23ef1d9a7f6cdadbf866f1e8e5043">opCtx</a>, <a class="el" href="classmongo_1_1KVDatabaseCatalogEntryBase.html">KVDatabaseCatalogEntryBase</a> *<a class="el" href="namespacemongo.html#a3c6ec6fdbdff92d84fcba5e2a40e35b5">dbce</a>, <a class="el" href="classmongo_1_1KVStorageEngine.html#ab1db876484f6f3d6c040472af9573948">CollIter</a> begin, <a class="el" href="classmongo_1_1KVStorageEngine.html#ab1db876484f6f3d6c040472af9573948">CollIter</a> end)</td></tr>
<tr class="memdesc:af19e92b680a34b9d4f2113c09c323abd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the first <code>dropCollection</code> error that this method encounters.  <a href="#af19e92b680a34b9d4f2113c09c323abd">More...</a><br /></td></tr>
<tr class="separator:af19e92b680a34b9d4f2113c09c323abd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee737e2c71b5637a4b7cf30fe5b93a57"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacemongo.html#a7dd53a44ec884164bc07ed073e9f31da">Status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1KVStorageEngine.html#aee737e2c71b5637a4b7cf30fe5b93a57">_dropCollectionsWithTimestamp</a> (OperationContext *<a class="el" href="namespacemongo.html#a15b23ef1d9a7f6cdadbf866f1e8e5043">opCtx</a>, <a class="el" href="classmongo_1_1KVDatabaseCatalogEntryBase.html">KVDatabaseCatalogEntryBase</a> *<a class="el" href="namespacemongo.html#a3c6ec6fdbdff92d84fcba5e2a40e35b5">dbce</a>, std::list&lt; std::string &gt; &amp;toDrop, <a class="el" href="classmongo_1_1KVStorageEngine.html#ab1db876484f6f3d6c040472af9573948">CollIter</a> begin, <a class="el" href="classmongo_1_1KVStorageEngine.html#ab1db876484f6f3d6c040472af9573948">CollIter</a> end)</td></tr>
<tr class="separator:aee737e2c71b5637a4b7cf30fe5b93a57"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac53f18e2e182b70194d0245ece179a1a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacemongo.html#aa639063deea016a1dac8f046e93900a6">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1KVStorageEngine.html#ac53f18e2e182b70194d0245ece179a1a">_dumpCatalog</a> (OperationContext *<a class="el" href="namespacemongo.html#a15b23ef1d9a7f6cdadbf866f1e8e5043">opCtx</a>)</td></tr>
<tr class="separator:ac53f18e2e182b70194d0245ece179a1a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a4ea90253ea9f79495fc54a750e6be075"><td class="memItemLeft" align="right" valign="top">stdx::function&lt; <a class="el" href="namespacemongo.html#a68f2219510070d42c4cdababae6476df">KVDatabaseCatalogEntryFactory</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1KVStorageEngine.html#a4ea90253ea9f79495fc54a750e6be075">_databaseCatalogEntryFactory</a></td></tr>
<tr class="separator:a4ea90253ea9f79495fc54a750e6be075"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a679373e9f64ef1b7b69f6540aaa9d10d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structmongo_1_1KVStorageEngineOptions.html">KVStorageEngineOptions</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1KVStorageEngine.html#a679373e9f64ef1b7b69f6540aaa9d10d">_options</a></td></tr>
<tr class="separator:a679373e9f64ef1b7b69f6540aaa9d10d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad2eca0302ebb962767056ef0ec344876"><td class="memItemLeft" align="right" valign="top">std::unique_ptr&lt; <a class="el" href="classmongo_1_1KVEngine.html">KVEngine</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1KVStorageEngine.html#ad2eca0302ebb962767056ef0ec344876">_engine</a></td></tr>
<tr class="separator:ad2eca0302ebb962767056ef0ec344876"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2afd97ad1490fbdd5fc536d7d45aa6e8"><td class="memItemLeft" align="right" valign="top">const bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1KVStorageEngine.html#a2afd97ad1490fbdd5fc536d7d45aa6e8">_supportsDocLocking</a></td></tr>
<tr class="separator:a2afd97ad1490fbdd5fc536d7d45aa6e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d48ad92a3653442d303441055a2128f"><td class="memItemLeft" align="right" valign="top">const bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1KVStorageEngine.html#a5d48ad92a3653442d303441055a2128f">_supportsDBLocking</a></td></tr>
<tr class="separator:a5d48ad92a3653442d303441055a2128f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab2139eac439927e1727acd89d00b072d"><td class="memItemLeft" align="right" valign="top">const bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1KVStorageEngine.html#ab2139eac439927e1727acd89d00b072d">_supportsCappedCollections</a></td></tr>
<tr class="separator:ab2139eac439927e1727acd89d00b072d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a930e1239005b4344362de9b2e33c7e6d"><td class="memItemLeft" align="right" valign="top">Timestamp&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1KVStorageEngine.html#a930e1239005b4344362de9b2e33c7e6d">_initialDataTimestamp</a> = Timestamp::kAllowUnstableCheckpointsSentinel</td></tr>
<tr class="separator:a930e1239005b4344362de9b2e33c7e6d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab6dec5e69dcf6177c1ea2ad9b928104d"><td class="memItemLeft" align="right" valign="top">std::unique_ptr&lt; <a class="el" href="classmongo_1_1RecordStore.html">RecordStore</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1KVStorageEngine.html#ab6dec5e69dcf6177c1ea2ad9b928104d">_catalogRecordStore</a></td></tr>
<tr class="separator:ab6dec5e69dcf6177c1ea2ad9b928104d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe7f45400c1aa451d34aed08bf9ef585"><td class="memItemLeft" align="right" valign="top">std::unique_ptr&lt; <a class="el" href="classmongo_1_1KVCatalog.html">KVCatalog</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1KVStorageEngine.html#afe7f45400c1aa451d34aed08bf9ef585">_catalog</a></td></tr>
<tr class="separator:afe7f45400c1aa451d34aed08bf9ef585"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af246d6bbce4adec84949626ab7634211"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classmongo_1_1KVStorageEngine.html#a70b986482363f1d9054347f35ce5c3c9">DBMap</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1KVStorageEngine.html#af246d6bbce4adec84949626ab7634211">_dbs</a></td></tr>
<tr class="separator:af246d6bbce4adec84949626ab7634211"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a17171a74f3fc62da81ae5095f9dafbf0"><td class="memItemLeft" align="right" valign="top">stdx::mutex&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1KVStorageEngine.html#a17171a74f3fc62da81ae5095f9dafbf0">_dbsLock</a></td></tr>
<tr class="separator:a17171a74f3fc62da81ae5095f9dafbf0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a739ba473b12b57f9f91749888914dd26"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1KVStorageEngine.html#a739ba473b12b57f9f91749888914dd26">_inBackupMode</a> = false</td></tr>
<tr class="separator:a739ba473b12b57f9f91749888914dd26"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pub_types_classmongo_1_1StorageEngine"><td colspan="2" onclick="javascript:toggleInherit('pub_types_classmongo_1_1StorageEngine')"><img src="closed.png" alt="-"/>&#160;Public Types inherited from <a class="el" href="classmongo_1_1StorageEngine.html">mongo::StorageEngine</a></td></tr>
<tr class="memitem:ae64a0ea2f55ed12186a2aee8a34c793b inherit pub_types_classmongo_1_1StorageEngine"><td class="memItemLeft" align="right" valign="top">typedef std::pair&lt; std::string, std::string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1StorageEngine.html#ae64a0ea2f55ed12186a2aee8a34c793b">CollectionIndexNamePair</a></td></tr>
<tr class="separator:ae64a0ea2f55ed12186a2aee8a34c793b inherit pub_types_classmongo_1_1StorageEngine"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Member Typedef Documentation</h2>
<a id="ab1db876484f6f3d6c040472af9573948"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab1db876484f6f3d6c040472af9573948">&#9670;&nbsp;</a></span>CollIter</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="classmongo_1_1KVStorageEngine.html#ab1db876484f6f3d6c040472af9573948">mongo::KVStorageEngine::CollIter</a> =  std::list&lt;std::string&gt;::iterator</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a70b986482363f1d9054347f35ce5c3c9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a70b986482363f1d9054347f35ce5c3c9">&#9670;&nbsp;</a></span>DBMap</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">typedef std::map&lt;std::string, <a class="el" href="classmongo_1_1KVDatabaseCatalogEntryBase.html">KVDatabaseCatalogEntryBase</a>*&gt; <a class="el" href="classmongo_1_1KVStorageEngine.html#a70b986482363f1d9054347f35ce5c3c9">mongo::KVStorageEngine::DBMap</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a1ed7e8fbdb722a02e3c0472ecf2c903c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1ed7e8fbdb722a02e3c0472ecf2c903c">&#9670;&nbsp;</a></span>KVStorageEngine()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">mongo::KVStorageEngine::KVStorageEngine </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classmongo_1_1KVEngine.html">KVEngine</a> *&#160;</td>
          <td class="paramname"><em>engine</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structmongo_1_1KVStorageEngineOptions.html">KVStorageEngineOptions</a> &amp;&#160;</td>
          <td class="paramname"><em>options</em> = <code><a class="el" href="structmongo_1_1KVStorageEngineOptions.html">KVStorageEngineOptions</a>()</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">stdx::function&lt; <a class="el" href="namespacemongo.html#a68f2219510070d42c4cdababae6476df">KVDatabaseCatalogEntryFactory</a> &gt;&#160;</td>
          <td class="paramname"><em>databaseCatalogEntryFactory</em> = <code><a class="el" href="namespacemongo.html#a3bb0760931f6a5e99a21a8ab7e222a0f">defaultDatabaseCatalogEntryFactory</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">engine</td><td>- ownership passes to me </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a51cc4074ff06c04ddc025ee16d16dd5d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a51cc4074ff06c04ddc025ee16d16dd5d">&#9670;&nbsp;</a></span>~KVStorageEngine()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mongo::KVStorageEngine::~KVStorageEngine </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="af19e92b680a34b9d4f2113c09c323abd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af19e92b680a34b9d4f2113c09c323abd">&#9670;&nbsp;</a></span>_dropCollectionsNoTimestamp()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacemongo.html#a7dd53a44ec884164bc07ed073e9f31da">Status</a> mongo::KVStorageEngine::_dropCollectionsNoTimestamp </td>
          <td>(</td>
          <td class="paramtype">OperationContext *&#160;</td>
          <td class="paramname"><em>opCtx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classmongo_1_1KVDatabaseCatalogEntryBase.html">KVDatabaseCatalogEntryBase</a> *&#160;</td>
          <td class="paramname"><em>dbce</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classmongo_1_1KVStorageEngine.html#ab1db876484f6f3d6c040472af9573948">CollIter</a>&#160;</td>
          <td class="paramname"><em>begin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classmongo_1_1KVStorageEngine.html#ab1db876484f6f3d6c040472af9573948">CollIter</a>&#160;</td>
          <td class="paramname"><em>end</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the first <code>dropCollection</code> error that this method encounters. </p>
<p>This method will attempt to drop all collections, regardless of the error status. </p>

</div>
</div>
<a id="aee737e2c71b5637a4b7cf30fe5b93a57"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aee737e2c71b5637a4b7cf30fe5b93a57">&#9670;&nbsp;</a></span>_dropCollectionsWithTimestamp()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacemongo.html#a7dd53a44ec884164bc07ed073e9f31da">Status</a> mongo::KVStorageEngine::_dropCollectionsWithTimestamp </td>
          <td>(</td>
          <td class="paramtype">OperationContext *&#160;</td>
          <td class="paramname"><em>opCtx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classmongo_1_1KVDatabaseCatalogEntryBase.html">KVDatabaseCatalogEntryBase</a> *&#160;</td>
          <td class="paramname"><em>dbce</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::list&lt; std::string &gt; &amp;&#160;</td>
          <td class="paramname"><em>toDrop</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classmongo_1_1KVStorageEngine.html#ab1db876484f6f3d6c040472af9573948">CollIter</a>&#160;</td>
          <td class="paramname"><em>begin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classmongo_1_1KVStorageEngine.html#ab1db876484f6f3d6c040472af9573948">CollIter</a>&#160;</td>
          <td class="paramname"><em>end</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ac53f18e2e182b70194d0245ece179a1a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac53f18e2e182b70194d0245ece179a1a">&#9670;&nbsp;</a></span>_dumpCatalog()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacemongo.html#aa639063deea016a1dac8f046e93900a6">void</a> mongo::KVStorageEngine::_dumpCatalog </td>
          <td>(</td>
          <td class="paramtype">OperationContext *&#160;</td>
          <td class="paramname"><em>opCtx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ac8e92cb418218aa9ea6840f72b500402"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac8e92cb418218aa9ea6840f72b500402">&#9670;&nbsp;</a></span>beginBackup()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacemongo.html#a7dd53a44ec884164bc07ed073e9f31da">Status</a> mongo::KVStorageEngine::beginBackup </td>
          <td>(</td>
          <td class="paramtype">OperationContext *&#160;</td>
          <td class="paramname"><em>opCtx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Transitions the storage engine into backup mode. </p>
<p>During backup mode the storage engine must stabilize its on-disk files, and avoid any internal processing that may involve file I/O, such as online compaction, so a filesystem level backup may be performed.</p>
<p>Storage engines that do not support this feature should use the default implementation. Storage engines that implement this must also implement <a class="el" href="classmongo_1_1KVStorageEngine.html#abc07929ce0bac83a5d5ed0dd4e8a2c91" title="Transitions the storage engine out of backup mode. ">endBackup()</a>.</p>
<p>For Storage engines that implement beginBackup the _inBackupMode variable is provided to avoid multiple instance enterting/leaving backup concurrently.</p>
<p>If this function returns an OK status, MongoDB can call endBackup to signal the storage engine that filesystem writes may continue. This function should return a non-OK status if filesystem changes cannot be stopped to allow for online backup. If the function should be retried, returns a non-OK status. This function may throw a <a class="el" href="classmongo_1_1WriteConflictException.html" title="This is thrown if during a write, two or more operations conflict with each other. ">WriteConflictException</a>, which should trigger a retry by the caller. All other exceptions should be treated as errors. </p>

<p>Reimplemented from <a class="el" href="classmongo_1_1StorageEngine.html#ad40644ee1add010e9e8e746ffb8c91d2">mongo::StorageEngine</a>.</p>

</div>
</div>
<a id="a1cd4bff9edda16ed1fa07ac965439b36"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1cd4bff9edda16ed1fa07ac965439b36">&#9670;&nbsp;</a></span>cleanShutdown()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacemongo.html#aa639063deea016a1dac8f046e93900a6">void</a> mongo::KVStorageEngine::cleanShutdown </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This method will be called before there is a clean shutdown. </p>
<p>Storage engines should override this method if they have clean-up to do that is different from unclean shutdown. MongoDB will not call into the storage subsystem after calling this function.</p>
<p>On error, the storage engine should assert and crash. There is intentionally no uncleanShutdown(). </p>

<p>Implements <a class="el" href="classmongo_1_1StorageEngine.html#a8a8d564d6ddbc279938d60ec8d16dd54">mongo::StorageEngine</a>.</p>

</div>
</div>
<a id="af59b15a8468c19f6b297e6f61ceea108"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af59b15a8468c19f6b297e6f61ceea108">&#9670;&nbsp;</a></span>closeCatalog()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacemongo.html#aa639063deea016a1dac8f046e93900a6">void</a> mongo::KVStorageEngine::closeCatalog </td>
          <td>(</td>
          <td class="paramtype">OperationContext *&#160;</td>
          <td class="paramname"><em>opCtx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">final</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reimplemented from <a class="el" href="classmongo_1_1StorageEngine.html#a3fdbd8c81df1ae30cf33d754c90d6f47">mongo::StorageEngine</a>.</p>

</div>
</div>
<a id="a49afe684a8c3b3584c607cb8fc5ce18b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a49afe684a8c3b3584c607cb8fc5ce18b">&#9670;&nbsp;</a></span>closeDatabase()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacemongo.html#a7dd53a44ec884164bc07ed073e9f31da">Status</a> mongo::KVStorageEngine::closeDatabase </td>
          <td>(</td>
          <td class="paramtype">OperationContext *&#160;</td>
          <td class="paramname"><em>opCtx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">StringData&#160;</td>
          <td class="paramname"><em>db</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Closes all file handles associated with a database. </p>

<p>Implements <a class="el" href="classmongo_1_1StorageEngine.html#ab9d09d544bed98f57a14daff8cadc1a3">mongo::StorageEngine</a>.</p>

</div>
</div>
<a id="a224750035fbe1c90609a1460dc178362"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a224750035fbe1c90609a1460dc178362">&#9670;&nbsp;</a></span>dropDatabase()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacemongo.html#a7dd53a44ec884164bc07ed073e9f31da">Status</a> mongo::KVStorageEngine::dropDatabase </td>
          <td>(</td>
          <td class="paramtype">OperationContext *&#160;</td>
          <td class="paramname"><em>opCtx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">StringData&#160;</td>
          <td class="paramname"><em>db</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Deletes all data and metadata for a database. </p>

<p>Implements <a class="el" href="classmongo_1_1StorageEngine.html#aadd689646a3b23fe88fb873f19b0c946">mongo::StorageEngine</a>.</p>

</div>
</div>
<a id="abc07929ce0bac83a5d5ed0dd4e8a2c91"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abc07929ce0bac83a5d5ed0dd4e8a2c91">&#9670;&nbsp;</a></span>endBackup()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacemongo.html#aa639063deea016a1dac8f046e93900a6">void</a> mongo::KVStorageEngine::endBackup </td>
          <td>(</td>
          <td class="paramtype">OperationContext *&#160;</td>
          <td class="paramname"><em>opCtx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Transitions the storage engine out of backup mode. </p>
<p>Storage engines that do not support this feature should use the default implementation.</p>
<p>Storage engines implementing this feature should fassert when unable to leave backup mode. </p>

<p>Reimplemented from <a class="el" href="classmongo_1_1StorageEngine.html#a9ebe160dc5086e8c87eb54e9dd9c1aa5">mongo::StorageEngine</a>.</p>

</div>
</div>
<a id="a8dd4c2d5531ec89c7e7127f8d94a7cff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8dd4c2d5531ec89c7e7127f8d94a7cff">&#9670;&nbsp;</a></span>finishInit()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacemongo.html#aa639063deea016a1dac8f046e93900a6">void</a> mongo::KVStorageEngine::finishInit </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Called after the globalStorageEngine pointer has been set up, before any other methods are called. </p>
<p>Any initialization work that requires the ability to create OperationContexts should be done here rather than in the constructor. </p>

<p>Reimplemented from <a class="el" href="classmongo_1_1StorageEngine.html#a779d1e55b46d3052a954d7503adf309e">mongo::StorageEngine</a>.</p>

</div>
</div>
<a id="a0643a23df3f939ba6aabdcd398282bef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0643a23df3f939ba6aabdcd398282bef">&#9670;&nbsp;</a></span>flushAllFiles()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int mongo::KVStorageEngine::flushAllFiles </td>
          <td>(</td>
          <td class="paramtype">OperationContext *&#160;</td>
          <td class="paramname"><em>opCtx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>sync</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>number of files flushed </dd></dl>

<p>Implements <a class="el" href="classmongo_1_1StorageEngine.html#afc70f10ab115ffb7a18a3d0189ac9176">mongo::StorageEngine</a>.</p>

</div>
</div>
<a id="ae3976e677847a97580c2bb6befc00a55"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae3976e677847a97580c2bb6befc00a55">&#9670;&nbsp;</a></span>getAllCommittedTimestamp()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Timestamp mongo::KVStorageEngine::getAllCommittedTimestamp </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the all committed timestamp. </p>
<p>All transactions with timestamps earlier than the all committed timestamp are committed. Only storage engines that support document level locking must provide an implementation. Other storage engines may provide a no-op implementation. </p>

<p>Implements <a class="el" href="classmongo_1_1StorageEngine.html#a2a426e68e950295b64ab3341471e1927">mongo::StorageEngine</a>.</p>

</div>
</div>
<a id="a247050f9b2ef7146bfa2c3878acd6c67"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a247050f9b2ef7146bfa2c3878acd6c67">&#9670;&nbsp;</a></span>getCatalog() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classmongo_1_1KVCatalog.html">KVCatalog</a>* mongo::KVStorageEngine::getCatalog </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a07fc2d3d2b41abd68d74ef27ac469c5a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a07fc2d3d2b41abd68d74ef27ac469c5a">&#9670;&nbsp;</a></span>getCatalog() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classmongo_1_1KVCatalog.html">KVCatalog</a>* mongo::KVStorageEngine::getCatalog </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ab822088aef3e3e3582529644882ed5d7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab822088aef3e3e3582529644882ed5d7">&#9670;&nbsp;</a></span>getDatabaseCatalogEntry()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classmongo_1_1KVDatabaseCatalogEntryBase.html">KVDatabaseCatalogEntryBase</a> * mongo::KVStorageEngine::getDatabaseCatalogEntry </td>
          <td>(</td>
          <td class="paramtype">OperationContext *&#160;</td>
          <td class="paramname"><em>opCtx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">StringData&#160;</td>
          <td class="paramname"><em>db</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return the <a class="el" href="classmongo_1_1DatabaseCatalogEntry.html">DatabaseCatalogEntry</a> that describes the database indicated by 'db'. </p>
<p><a class="el" href="classmongo_1_1StorageEngine.html" title="The StorageEngine class is the top level interface for creating a new storage engine. ">StorageEngine</a> owns returned pointer. It should not be deleted by any caller. </p>

<p>Implements <a class="el" href="classmongo_1_1StorageEngine.html#a2e78f6f7c6fa5615b8a5f81f933cb3b4">mongo::StorageEngine</a>.</p>

</div>
</div>
<a id="ae657fdc36aaf178e8f30d0c6f3ba1038"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae657fdc36aaf178e8f30d0c6f3ba1038">&#9670;&nbsp;</a></span>getEngine() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classmongo_1_1KVEngine.html">KVEngine</a>* mongo::KVStorageEngine::getEngine </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ae292848d54d66126f971ea2661b0e1a5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae292848d54d66126f971ea2661b0e1a5">&#9670;&nbsp;</a></span>getEngine() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classmongo_1_1KVEngine.html">KVEngine</a>* mongo::KVStorageEngine::getEngine </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ac1b6d3d99952dfa1169ad86cd29af6c3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac1b6d3d99952dfa1169ad86cd29af6c3">&#9670;&nbsp;</a></span>getLastStableCheckpointTimestamp()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">boost::optional&lt; Timestamp &gt; mongo::KVStorageEngine::getLastStableCheckpointTimestamp </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns a timestamp that is guaranteed to be persisted to disk in a checkpoint. </p>
<p>Returns boost::none if there is no stable checkpoint. This method should return at least the value of <code>getRecoveryTimestamp</code> if the node started from a stable checkpoint. fasserts if <a class="el" href="classmongo_1_1StorageEngine.html#aab3130a17adcd7174e9ad92af9024668" title="Returns whether the storage engine supports &quot;recover to stable timestamp&quot;. ">StorageEngine::supportsRecoverToStableTimestamp()</a> would return false. </p>

<p>Reimplemented from <a class="el" href="classmongo_1_1StorageEngine.html#a83f7e872d15697c9c3bf50ed12964735">mongo::StorageEngine</a>.</p>

</div>
</div>
<a id="a7fa0a466e7cec30e3b96a8d9cd9f5271"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7fa0a466e7cec30e3b96a8d9cd9f5271">&#9670;&nbsp;</a></span>getRecoveryTimestamp()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">boost::optional&lt; Timestamp &gt; mongo::KVStorageEngine::getRecoveryTimestamp </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the stable timestamp that the storage engine recovered to on startup. </p>
<p>If the recovery point was not stable, returns "none". fasserts if <a class="el" href="classmongo_1_1StorageEngine.html#aab3130a17adcd7174e9ad92af9024668" title="Returns whether the storage engine supports &quot;recover to stable timestamp&quot;. ">StorageEngine::supportsRecoverToStableTimestamp()</a> would return false. </p>

<p>Reimplemented from <a class="el" href="classmongo_1_1StorageEngine.html#a79930a6f501a2ad71b942f76bc5bb74f">mongo::StorageEngine</a>.</p>

</div>
</div>
<a id="a377ce0da69a9c3e26730e372422e42ca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a377ce0da69a9c3e26730e372422e42ca">&#9670;&nbsp;</a></span>getSnapshotManager()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classmongo_1_1SnapshotManager.html">SnapshotManager</a> * mongo::KVStorageEngine::getSnapshotManager </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">final</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the <a class="el" href="classmongo_1_1SnapshotManager.html" title="Manages snapshots that can be read from at a later time. ">SnapshotManager</a> for this <a class="el" href="classmongo_1_1StorageEngine.html" title="The StorageEngine class is the top level interface for creating a new storage engine. ">StorageEngine</a> or NULL if not supported. </p>
<p>Pointer remains owned by the <a class="el" href="classmongo_1_1StorageEngine.html" title="The StorageEngine class is the top level interface for creating a new storage engine. ">StorageEngine</a>, not the caller. </p>

<p>Reimplemented from <a class="el" href="classmongo_1_1StorageEngine.html#a620e7d61feab83f9d80c9edcc68d2cc2">mongo::StorageEngine</a>.</p>

</div>
</div>
<a id="aaaa1f9ea2415ae884bea00713f4fc145"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaaa1f9ea2415ae884bea00713f4fc145">&#9670;&nbsp;</a></span>isCacheUnderPressure()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool mongo::KVStorageEngine::isCacheUnderPressure </td>
          <td>(</td>
          <td class="paramtype">OperationContext *&#160;</td>
          <td class="paramname"><em>opCtx</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Indicates whether the storage engine cache is under pressure. </p>
<p>Retrieves a cache pressure value in the range [0, 100] from the storage engine, and compares it against storageGlobalParams.cachePressureThreshold, a dynamic server parameter, to determine whether cache pressure is too high. </p>

<p>Reimplemented from <a class="el" href="classmongo_1_1StorageEngine.html#af8292fa3ea82b903c56713db94daff6a">mongo::StorageEngine</a>.</p>

</div>
</div>
<a id="a44abd6d6916e8477059ba021a7e306c2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a44abd6d6916e8477059ba021a7e306c2">&#9670;&nbsp;</a></span>isDurable()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool mongo::KVStorageEngine::isDurable </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns whether the engine supports a journalling concept or not. </p>

<p>Implements <a class="el" href="classmongo_1_1StorageEngine.html#ad11089c3879e353ffaaf82e0f5c1d1f4">mongo::StorageEngine</a>.</p>

</div>
</div>
<a id="a5ca83c96ec70ce6a6bd32f6543f26a6e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5ca83c96ec70ce6a6bd32f6543f26a6e">&#9670;&nbsp;</a></span>isEphemeral()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool mongo::KVStorageEngine::isEphemeral </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns true if the engine does not persist data to disk; false otherwise. </p>

<p>Implements <a class="el" href="classmongo_1_1StorageEngine.html#a0d78f2fc178a5b1d07f3dbd995b8481e">mongo::StorageEngine</a>.</p>

</div>
</div>
<a id="a459fbfd21e303bcb091995baf461d68d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a459fbfd21e303bcb091995baf461d68d">&#9670;&nbsp;</a></span>listDatabases()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacemongo.html#aa639063deea016a1dac8f046e93900a6">void</a> mongo::KVStorageEngine::listDatabases </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; std::string &gt; *&#160;</td>
          <td class="paramname"><em>out</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>List the databases stored in this storage engine. </p>
<p>XXX: why doesn't this take OpCtx? </p>

<p>Implements <a class="el" href="classmongo_1_1StorageEngine.html#a9a90adedcbda8f43a80878e86b55da85">mongo::StorageEngine</a>.</p>

</div>
</div>
<a id="a5169d88d3a3b389a4beabdf93e2613e8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5169d88d3a3b389a4beabdf93e2613e8">&#9670;&nbsp;</a></span>loadCatalog()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacemongo.html#aa639063deea016a1dac8f046e93900a6">void</a> mongo::KVStorageEngine::loadCatalog </td>
          <td>(</td>
          <td class="paramtype">OperationContext *&#160;</td>
          <td class="paramname"><em>opCtx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">final</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>When loading after an unclean shutdown, this performs cleanup on the <a class="el" href="classmongo_1_1KVCatalog.html">KVCatalog</a> and unsets the startingAfterUncleanShutdown decoration on the global ServiceContext. </p>

<p>Reimplemented from <a class="el" href="classmongo_1_1StorageEngine.html#a85e34ad431938728c6298468ecc7da53">mongo::StorageEngine</a>.</p>

</div>
</div>
<a id="a99ef27c813b8139a9e8187eb29cc99c1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a99ef27c813b8139a9e8187eb29cc99c1">&#9670;&nbsp;</a></span>newRecoveryUnit()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classmongo_1_1RecoveryUnit.html">RecoveryUnit</a> * mongo::KVStorageEngine::newRecoveryUnit </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns a new interface to the storage engine's recovery unit. </p>
<p>The recovery unit is the durability interface. For details, see <a class="el" href="recovery__unit_8h.html">recovery_unit.h</a></p>
<p>Caller owns the returned pointer. </p>

<p>Implements <a class="el" href="classmongo_1_1StorageEngine.html#ac9ab3dbc3ba656ac00481210a2ce8c45">mongo::StorageEngine</a>.</p>

</div>
</div>
<a id="ab9a72678b41b432feb90b1c67322214c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab9a72678b41b432feb90b1c67322214c">&#9670;&nbsp;</a></span>reconcileCatalogAndIdents()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classmongo_1_1StatusWith.html">StatusWith</a>&lt; std::vector&lt; <a class="el" href="classmongo_1_1StorageEngine.html#ae64a0ea2f55ed12186a2aee8a34c793b">StorageEngine::CollectionIndexNamePair</a> &gt; &gt; mongo::KVStorageEngine::reconcileCatalogAndIdents </td>
          <td>(</td>
          <td class="paramtype">OperationContext *&#160;</td>
          <td class="paramname"><em>opCtx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Drop abandoned idents. </p>
<p>This method reconciles differences between idents the <a class="el" href="classmongo_1_1KVEngine.html">KVEngine</a> is aware of and the <a class="el" href="classmongo_1_1KVCatalog.html">KVCatalog</a>.</p>
<p>Returns a parallel list of index name, index spec pairs to rebuild.</p>
<p>There are three differences to consider:</p>
<p>First, a <a class="el" href="classmongo_1_1KVEngine.html">KVEngine</a> may know of an ident that the <a class="el" href="classmongo_1_1KVCatalog.html">KVCatalog</a> does not. This method will drop the ident from the <a class="el" href="classmongo_1_1KVEngine.html">KVEngine</a>.</p>
<p>Second, a <a class="el" href="classmongo_1_1KVCatalog.html">KVCatalog</a> may have a collection ident that the <a class="el" href="classmongo_1_1KVEngine.html">KVEngine</a> does not. This is an illegal state and this method fasserts.</p>
<p>Third, a <a class="el" href="classmongo_1_1KVCatalog.html">KVCatalog</a> may have an index ident that the <a class="el" href="classmongo_1_1KVEngine.html">KVEngine</a> does not. This method will rebuild the index. </p>

<p>Reimplemented from <a class="el" href="classmongo_1_1StorageEngine.html#a4e7099c6ec62f2de75cd9d018c08e30a">mongo::StorageEngine</a>.</p>

</div>
</div>
<a id="aa93479f84ede416f282189d2b597c665"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa93479f84ede416f282189d2b597c665">&#9670;&nbsp;</a></span>recoverToStableTimestamp()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classmongo_1_1StatusWith.html">StatusWith</a>&lt; Timestamp &gt; mongo::KVStorageEngine::recoverToStableTimestamp </td>
          <td>(</td>
          <td class="paramtype">OperationContext *&#160;</td>
          <td class="paramname"><em>opCtx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Recovers the storage engine state to the last stable timestamp. </p>
<p>"Stable" in this case refers to a timestamp that is guaranteed to never be rolled back. The stable timestamp used should be one provided by <a class="el" href="classmongo_1_1StorageEngine.html#ae1c5cec571e7cb649c4c7b2e56df2469" title="Sets the highest timestamp at which the storage engine is allowed to take a checkpoint. ">StorageEngine::setStableTimestamp()</a>.</p>
<p>The "local" database is exempt and should not roll back any state except for "local.replset.minvalid" which must roll back to the last stable timestamp.</p>
<p>If successful, returns the timestamp that the storage engine recovered to.</p>
<p>fasserts if <a class="el" href="classmongo_1_1StorageEngine.html#aab3130a17adcd7174e9ad92af9024668" title="Returns whether the storage engine supports &quot;recover to stable timestamp&quot;. ">StorageEngine::supportsRecoverToStableTimestamp()</a> would return false. Returns a bad status if there is no stable timestamp to recover to.</p>
<p>It is illegal to call this concurrently with <code>setStableTimestamp</code> or <code>setInitialDataTimestamp</code>. </p>

<p>Reimplemented from <a class="el" href="classmongo_1_1StorageEngine.html#a5fcc405b3d23c6164bde892026f66e94">mongo::StorageEngine</a>.</p>

</div>
</div>
<a id="a8265d01f486d17f39c4a9ed1d4863018"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8265d01f486d17f39c4a9ed1d4863018">&#9670;&nbsp;</a></span>repairRecordStore()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacemongo.html#a7dd53a44ec884164bc07ed073e9f31da">Status</a> mongo::KVStorageEngine::repairRecordStore </td>
          <td>(</td>
          <td class="paramtype">OperationContext *&#160;</td>
          <td class="paramname"><em>opCtx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>ns</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Recover as much data as possible from a potentially corrupt <a class="el" href="classmongo_1_1RecordStore.html" title="An abstraction used for storing documents in a collection or entries in an index. ...">RecordStore</a>. </p>
<p>This only recovers the record data, not indexes or anything else.</p>
<p>Generally, this method should not be called directly except by the repairDatabase() free function.</p>
<p>NOTE: MMAPv1 does not support this method and has its own repairDatabase() method. </p>

<p>Implements <a class="el" href="classmongo_1_1StorageEngine.html#afeb3b3983813f900f61a4389602d5007">mongo::StorageEngine</a>.</p>

</div>
</div>
<a id="a06d0877dd1dbd5689bd8a9aaf071e7a7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a06d0877dd1dbd5689bd8a9aaf071e7a7">&#9670;&nbsp;</a></span>replicationBatchIsComplete()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacemongo.html#aa639063deea016a1dac8f046e93900a6">void</a> mongo::KVStorageEngine::replicationBatchIsComplete </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Notifies the storage engine that a replication batch has completed. </p>
<p>This means that all the writes associated with the oplog entries in the batch are finished and no new writes with timestamps associated with those oplog entries will show up in the future. This function can be used to ensure oplog visibility rules are not broken, for example. </p>

<p>Reimplemented from <a class="el" href="classmongo_1_1StorageEngine.html#a9c27216fc7815098dddaf7342749a4f8">mongo::StorageEngine</a>.</p>

</div>
</div>
<a id="a2fd892fd4dab10fe3ac6b6d6e9cedc5b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2fd892fd4dab10fe3ac6b6d6e9cedc5b">&#9670;&nbsp;</a></span>setCachePressureForTest()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacemongo.html#aa639063deea016a1dac8f046e93900a6">void</a> mongo::KVStorageEngine::setCachePressureForTest </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>pressure</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>For unit tests only. </p>
<p>Sets the cache pressure value with which <a class="el" href="classmongo_1_1KVStorageEngine.html#aaaa1f9ea2415ae884bea00713f4fc145" title="Indicates whether the storage engine cache is under pressure. ">isCacheUnderPressure()</a> evalutates to 'pressure'. </p>

<p>Reimplemented from <a class="el" href="classmongo_1_1StorageEngine.html#a11c01bfd4089ee9fb2bd05753b900c56">mongo::StorageEngine</a>.</p>

</div>
</div>
<a id="a15cb6aea949b1f30a7275125ae11c33e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a15cb6aea949b1f30a7275125ae11c33e">&#9670;&nbsp;</a></span>setInitialDataTimestamp()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacemongo.html#aa639063deea016a1dac8f046e93900a6">void</a> mongo::KVStorageEngine::setInitialDataTimestamp </td>
          <td>(</td>
          <td class="paramtype">Timestamp&#160;</td>
          <td class="paramname"><em>timestamp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Tells the storage engine the timestamp of the data at startup. </p>
<p>This is necessary because timestamps are not persisted in the storage layer. </p>

<p>Reimplemented from <a class="el" href="classmongo_1_1StorageEngine.html#ae382900644bc641160eb784aec54b873">mongo::StorageEngine</a>.</p>

</div>
</div>
<a id="af3a16c8a5543d53ddccae6b0a6e754c9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af3a16c8a5543d53ddccae6b0a6e754c9">&#9670;&nbsp;</a></span>setJournalListener()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacemongo.html#aa639063deea016a1dac8f046e93900a6">void</a> mongo::KVStorageEngine::setJournalListener </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classmongo_1_1JournalListener.html">JournalListener</a> *&#160;</td>
          <td class="paramname"><em>jl</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">final</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sets a new <a class="el" href="classmongo_1_1JournalListener.html" title="This class allows for the storageEngine to alert the rest of the system about journaled write progres...">JournalListener</a>, which is used by the storage engine to alert the rest of the system about journaled write progress. </p>

<p>Implements <a class="el" href="classmongo_1_1StorageEngine.html#ade3508d474e1fd9a168085a8a4d73828">mongo::StorageEngine</a>.</p>

</div>
</div>
<a id="a7eab16896c324815ce60b87ef4b51926"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7eab16896c324815ce60b87ef4b51926">&#9670;&nbsp;</a></span>setOldestTimestamp()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacemongo.html#aa639063deea016a1dac8f046e93900a6">void</a> mongo::KVStorageEngine::setOldestTimestamp </td>
          <td>(</td>
          <td class="paramtype">Timestamp&#160;</td>
          <td class="paramname"><em>timestamp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sets the oldest timestamp for which the storage engine must maintain snapshot history through. </p>
<p>Additionally, all future writes must be newer or equal to this value. </p>

<p>Reimplemented from <a class="el" href="classmongo_1_1StorageEngine.html#a69d28bc4cdfbfea2083f822c13207ff1">mongo::StorageEngine</a>.</p>

</div>
</div>
<a id="aa6ad776348f33da1925683b9a707bf41"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa6ad776348f33da1925683b9a707bf41">&#9670;&nbsp;</a></span>setOldestTimestampFromStable()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacemongo.html#aa639063deea016a1dac8f046e93900a6">void</a> mongo::KVStorageEngine::setOldestTimestampFromStable </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Uses the current stable timestamp to set the oldest timestamp for which the storage engine must maintain snapshot history through. </p>
<p>oldest_timestamp will be set to stable_timestamp adjusted by 'targetSnapshotHistoryWindowInSeconds' to create a window of available snapshots on the storage engine from oldest to stable. Furthermore, oldest_timestamp will never be set ahead of the oplog read timestamp, ensuring the oplog reader's 'read_timestamp' can always be serviced. </p>

<p>Reimplemented from <a class="el" href="classmongo_1_1StorageEngine.html#a545160909125b61e22400d775b43ec8c">mongo::StorageEngine</a>.</p>

</div>
</div>
<a id="ae2ffeb5f83e76549076a69047e8f6ae5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae2ffeb5f83e76549076a69047e8f6ae5">&#9670;&nbsp;</a></span>setStableTimestamp()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacemongo.html#aa639063deea016a1dac8f046e93900a6">void</a> mongo::KVStorageEngine::setStableTimestamp </td>
          <td>(</td>
          <td class="paramtype">Timestamp&#160;</td>
          <td class="paramname"><em>timestamp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sets the highest timestamp at which the storage engine is allowed to take a checkpoint. </p>
<p>This timestamp can never decrease, and thus should be a timestamp that can never roll back. </p>

<p>Reimplemented from <a class="el" href="classmongo_1_1StorageEngine.html#ae1c5cec571e7cb649c4c7b2e56df2469">mongo::StorageEngine</a>.</p>

</div>
</div>
<a id="a7d826367fbf5ea91e491c0bae1a85995"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7d826367fbf5ea91e491c0bae1a85995">&#9670;&nbsp;</a></span>supportsCappedCollections()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool mongo::KVStorageEngine::supportsCappedCollections </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns whether the storage engine supports capped collections. </p>

<p>Reimplemented from <a class="el" href="classmongo_1_1StorageEngine.html#a64bee4921853cd93667987cc98858886">mongo::StorageEngine</a>.</p>

</div>
</div>
<a id="a9bf861bbd657f3769a66296835e011af"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9bf861bbd657f3769a66296835e011af">&#9670;&nbsp;</a></span>supportsDBLocking()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool mongo::KVStorageEngine::supportsDBLocking </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns whether the storage engine supports locking at a database level. </p>

<p>Reimplemented from <a class="el" href="classmongo_1_1StorageEngine.html#a97a5327723286b781a9d735a1bf80b46">mongo::StorageEngine</a>.</p>

</div>
</div>
<a id="a0f54163355b5b97e130344dfdbd43534"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0f54163355b5b97e130344dfdbd43534">&#9670;&nbsp;</a></span>supportsDocLocking()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool mongo::KVStorageEngine::supportsDocLocking </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns whether the storage engine supports its own locking locking below the collection level. </p>
<p>If the engine returns true, MongoDB will acquire intent locks down to the collection level and will assume that the engine will ensure consistency at the level of documents. If false, MongoDB will lock the entire collection in Shared/Exclusive mode for read/write operations respectively. </p>

<p>Implements <a class="el" href="classmongo_1_1StorageEngine.html#aaf0dfc56e0509914e839c8587fd0ee7d">mongo::StorageEngine</a>.</p>

</div>
</div>
<a id="aade080cb1b7268484fc1397ea795c51b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aade080cb1b7268484fc1397ea795c51b">&#9670;&nbsp;</a></span>supportsReadConcernSnapshot()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool mongo::KVStorageEngine::supportsReadConcernSnapshot </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">final</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns true if the storage engine supports the readConcern level "snapshot". </p>

<p>Reimplemented from <a class="el" href="classmongo_1_1StorageEngine.html#aacf06242a2aed0d1c4a54fd3e1460852">mongo::StorageEngine</a>.</p>

</div>
</div>
<a id="a7060f77d244091c37f9ebdf62ce23c0b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7060f77d244091c37f9ebdf62ce23c0b">&#9670;&nbsp;</a></span>supportsRecoverToStableTimestamp()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool mongo::KVStorageEngine::supportsRecoverToStableTimestamp </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns whether the storage engine supports "recover to stable timestamp". </p>
<p>Returns true if the storage engine supports "recover to stable timestamp" but does not currently have a stable timestamp. In that case <a class="el" href="classmongo_1_1StorageEngine.html#a5fcc405b3d23c6164bde892026f66e94" title="Recovers the storage engine state to the last stable timestamp. ">StorageEngine::recoverToStableTimestamp()</a> will return a bad status. </p>

<p>Reimplemented from <a class="el" href="classmongo_1_1StorageEngine.html#aab3130a17adcd7174e9ad92af9024668">mongo::StorageEngine</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="afe7f45400c1aa451d34aed08bf9ef585"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afe7f45400c1aa451d34aed08bf9ef585">&#9670;&nbsp;</a></span>_catalog</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unique_ptr&lt;<a class="el" href="classmongo_1_1KVCatalog.html">KVCatalog</a>&gt; mongo::KVStorageEngine::_catalog</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ab6dec5e69dcf6177c1ea2ad9b928104d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab6dec5e69dcf6177c1ea2ad9b928104d">&#9670;&nbsp;</a></span>_catalogRecordStore</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unique_ptr&lt;<a class="el" href="classmongo_1_1RecordStore.html">RecordStore</a>&gt; mongo::KVStorageEngine::_catalogRecordStore</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a4ea90253ea9f79495fc54a750e6be075"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4ea90253ea9f79495fc54a750e6be075">&#9670;&nbsp;</a></span>_databaseCatalogEntryFactory</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">stdx::function&lt;<a class="el" href="namespacemongo.html#a68f2219510070d42c4cdababae6476df">KVDatabaseCatalogEntryFactory</a>&gt; mongo::KVStorageEngine::_databaseCatalogEntryFactory</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="af246d6bbce4adec84949626ab7634211"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af246d6bbce4adec84949626ab7634211">&#9670;&nbsp;</a></span>_dbs</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classmongo_1_1KVStorageEngine.html#a70b986482363f1d9054347f35ce5c3c9">DBMap</a> mongo::KVStorageEngine::_dbs</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a17171a74f3fc62da81ae5095f9dafbf0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a17171a74f3fc62da81ae5095f9dafbf0">&#9670;&nbsp;</a></span>_dbsLock</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">stdx::mutex mongo::KVStorageEngine::_dbsLock</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">mutable</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ad2eca0302ebb962767056ef0ec344876"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad2eca0302ebb962767056ef0ec344876">&#9670;&nbsp;</a></span>_engine</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unique_ptr&lt;<a class="el" href="classmongo_1_1KVEngine.html">KVEngine</a>&gt; mongo::KVStorageEngine::_engine</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a739ba473b12b57f9f91749888914dd26"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a739ba473b12b57f9f91749888914dd26">&#9670;&nbsp;</a></span>_inBackupMode</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool mongo::KVStorageEngine::_inBackupMode = false</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a930e1239005b4344362de9b2e33c7e6d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a930e1239005b4344362de9b2e33c7e6d">&#9670;&nbsp;</a></span>_initialDataTimestamp</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Timestamp mongo::KVStorageEngine::_initialDataTimestamp = Timestamp::kAllowUnstableCheckpointsSentinel</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a679373e9f64ef1b7b69f6540aaa9d10d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a679373e9f64ef1b7b69f6540aaa9d10d">&#9670;&nbsp;</a></span>_options</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structmongo_1_1KVStorageEngineOptions.html">KVStorageEngineOptions</a> mongo::KVStorageEngine::_options</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ab2139eac439927e1727acd89d00b072d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab2139eac439927e1727acd89d00b072d">&#9670;&nbsp;</a></span>_supportsCappedCollections</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const bool mongo::KVStorageEngine::_supportsCappedCollections</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a5d48ad92a3653442d303441055a2128f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5d48ad92a3653442d303441055a2128f">&#9670;&nbsp;</a></span>_supportsDBLocking</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const bool mongo::KVStorageEngine::_supportsDBLocking</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a2afd97ad1490fbdd5fc536d7d45aa6e8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2afd97ad1490fbdd5fc536d7d45aa6e8">&#9670;&nbsp;</a></span>_supportsDocLocking</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const bool mongo::KVStorageEngine::_supportsDocLocking</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/home/louis/git/mongodbsource.github.io/src/src/mongo/db/storage/kv/<a class="el" href="kv__storage__engine_8h_source.html">kv_storage_engine.h</a></li>
<li>/home/louis/git/mongodbsource.github.io/src/src/mongo/db/storage/kv/<a class="el" href="kv__storage__engine_8cpp.html">kv_storage_engine.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.13-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacemongo.html">mongo</a></li><li class="navelem"><a class="el" href="classmongo_1_1KVStorageEngine.html">KVStorageEngine</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
