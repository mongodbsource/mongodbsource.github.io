<!-- HTML header for doxygen 1.8.13-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Storage Engine API: mongo::HealthLog Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link rel="shortcut icon" href="favicon.ico" type="image/x-icon" />
<link href="mongodb.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr>
  <td id="projectlogo"><img alt="Logo" src="mongodb-logo.jpg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Storage Engine API
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classmongo_1_1HealthLog.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classmongo_1_1HealthLog-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">mongo::HealthLog Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>The interface to the local healthlog.  
 <a href="classmongo_1_1HealthLog.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="health__log_8h_source.html">health_log.h</a>&gt;</code></p>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The interface to the local healthlog. </p>
<p>This class contains facilities for creating and asynchronously writing to the local healthlog collection. There should only be one instance of this class, initialized on startup and cleaned up on shutdown. </p>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a6055cac2eb23c921ca84c5f0e1d398ab"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1HealthLog.html#a6055cac2eb23c921ca84c5f0e1d398ab">HealthLog</a> ()</td></tr>
<tr class="memdesc:a6055cac2eb23c921ca84c5f0e1d398ab"><td class="mdescLeft">&#160;</td><td class="mdescRight">Required to use <a class="el" href="classmongo_1_1HealthLog.html" title="The interface to the local healthlog. ">HealthLog</a> as a ServiceContext decorator.  <a href="#a6055cac2eb23c921ca84c5f0e1d398ab">More...</a><br /></td></tr>
<tr class="separator:a6055cac2eb23c921ca84c5f0e1d398ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2122ed84314dcc87f43f4546cc30df8a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacemongo.html#aa639063deea016a1dac8f046e93900a6">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1HealthLog.html#a2122ed84314dcc87f43f4546cc30df8a">startup</a> (<a class="el" href="namespacemongo.html#aa639063deea016a1dac8f046e93900a6">void</a>)</td></tr>
<tr class="memdesc:a2122ed84314dcc87f43f4546cc30df8a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start the worker thread writing the buffer to the collection.  <a href="#a2122ed84314dcc87f43f4546cc30df8a">More...</a><br /></td></tr>
<tr class="separator:a2122ed84314dcc87f43f4546cc30df8a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1aa9f85dfc96e6bf1e71f8e0722f656d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacemongo.html#aa639063deea016a1dac8f046e93900a6">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1HealthLog.html#a1aa9f85dfc96e6bf1e71f8e0722f656d">shutdown</a> (<a class="el" href="namespacemongo.html#aa639063deea016a1dac8f046e93900a6">void</a>)</td></tr>
<tr class="memdesc:a1aa9f85dfc96e6bf1e71f8e0722f656d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stop the worker thread.  <a href="#a1aa9f85dfc96e6bf1e71f8e0722f656d">More...</a><br /></td></tr>
<tr class="separator:a1aa9f85dfc96e6bf1e71f8e0722f656d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc9708c759c424d83b11f7fc6a416cfe"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1HealthLog.html#afc9708c759c424d83b11f7fc6a416cfe">log</a> (const HealthLogEntry &amp;entry)</td></tr>
<tr class="memdesc:afc9708c759c424d83b11f7fc6a416cfe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Asynchronously insert the given entry.  <a href="#afc9708c759c424d83b11f7fc6a416cfe">More...</a><br /></td></tr>
<tr class="separator:afc9708c759c424d83b11f7fc6a416cfe"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a8009e98ad8852bc6825bc1f20486e9d6"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classmongo_1_1HealthLog.html">HealthLog</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1HealthLog.html#a8009e98ad8852bc6825bc1f20486e9d6">get</a> (ServiceContext *ctx)</td></tr>
<tr class="memdesc:a8009e98ad8852bc6825bc1f20486e9d6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the current context's <a class="el" href="classmongo_1_1HealthLog.html" title="The interface to the local healthlog. ">HealthLog</a>.  <a href="#a8009e98ad8852bc6825bc1f20486e9d6">More...</a><br /></td></tr>
<tr class="separator:a8009e98ad8852bc6825bc1f20486e9d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0de51eecf81630d1bdb3ef4b1f8bfe64"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classmongo_1_1HealthLog.html">HealthLog</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1HealthLog.html#a0de51eecf81630d1bdb3ef4b1f8bfe64">get</a> (OperationContext *ctx)</td></tr>
<tr class="separator:a0de51eecf81630d1bdb3ef4b1f8bfe64"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:ae60b23320d525c447bec50b56122bfcf"><td class="memItemLeft" align="right" valign="top">static const int64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1HealthLog.html#ae60b23320d525c447bec50b56122bfcf">kMaxBufferSize</a> = 25'000'000</td></tr>
<tr class="memdesc:ae60b23320d525c447bec50b56122bfcf"><td class="mdescLeft">&#160;</td><td class="mdescRight">The maximum size of the in-memory buffer of health-log entries, in bytes.  <a href="#ae60b23320d525c447bec50b56122bfcf">More...</a><br /></td></tr>
<tr class="separator:ae60b23320d525c447bec50b56122bfcf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30a85d2541bd1fea3487e64c6f3c6e21"><td class="memItemLeft" align="right" valign="top">static const NamespaceString&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1HealthLog.html#a30a85d2541bd1fea3487e64c6f3c6e21">nss</a></td></tr>
<tr class="memdesc:a30a85d2541bd1fea3487e64c6f3c6e21"><td class="mdescLeft">&#160;</td><td class="mdescRight">The name of the collection.  <a href="#a30a85d2541bd1fea3487e64c6f3c6e21">More...</a><br /></td></tr>
<tr class="separator:a30a85d2541bd1fea3487e64c6f3c6e21"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a8492ebe40d3a575b314a7b3ebc699c31"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1HealthLog.html#a8492ebe40d3a575b314a7b3ebc699c31">MONGO_DISALLOW_COPYING</a> (<a class="el" href="classmongo_1_1HealthLog.html">HealthLog</a>)</td></tr>
<tr class="separator:a8492ebe40d3a575b314a7b3ebc699c31"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a3f3342f1f3bc542dfb45c761abc674b6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classmongo_1_1DeferredWriter.html">DeferredWriter</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1HealthLog.html#a3f3342f1f3bc542dfb45c761abc674b6">_writer</a></td></tr>
<tr class="separator:a3f3342f1f3bc542dfb45c761abc674b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a6055cac2eb23c921ca84c5f0e1d398ab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6055cac2eb23c921ca84c5f0e1d398ab">&#9670;&nbsp;</a></span>HealthLog()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">mongo::HealthLog::HealthLog </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Required to use <a class="el" href="classmongo_1_1HealthLog.html" title="The interface to the local healthlog. ">HealthLog</a> as a ServiceContext decorator. </p>
<p>Should not be used anywhere else. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a8009e98ad8852bc6825bc1f20486e9d6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8009e98ad8852bc6825bc1f20486e9d6">&#9670;&nbsp;</a></span>get() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classmongo_1_1HealthLog.html">HealthLog</a> &amp; mongo::HealthLog::get </td>
          <td>(</td>
          <td class="paramtype">ServiceContext *&#160;</td>
          <td class="paramname"><em>ctx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the current context's <a class="el" href="classmongo_1_1HealthLog.html" title="The interface to the local healthlog. ">HealthLog</a>. </p>

</div>
</div>
<a id="a0de51eecf81630d1bdb3ef4b1f8bfe64"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0de51eecf81630d1bdb3ef4b1f8bfe64">&#9670;&nbsp;</a></span>get() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classmongo_1_1HealthLog.html">HealthLog</a> &amp; mongo::HealthLog::get </td>
          <td>(</td>
          <td class="paramtype">OperationContext *&#160;</td>
          <td class="paramname"><em>ctx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="afc9708c759c424d83b11f7fc6a416cfe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afc9708c759c424d83b11f7fc6a416cfe">&#9670;&nbsp;</a></span>log()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool mongo::HealthLog::log </td>
          <td>(</td>
          <td class="paramtype">const HealthLogEntry &amp;&#160;</td>
          <td class="paramname"><em>entry</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Asynchronously insert the given entry. </p>
<p>Return <code>false</code> iff there is no more space in the buffer. </p>

</div>
</div>
<a id="a8492ebe40d3a575b314a7b3ebc699c31"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8492ebe40d3a575b314a7b3ebc699c31">&#9670;&nbsp;</a></span>MONGO_DISALLOW_COPYING()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mongo::HealthLog::MONGO_DISALLOW_COPYING </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classmongo_1_1HealthLog.html">HealthLog</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a1aa9f85dfc96e6bf1e71f8e0722f656d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1aa9f85dfc96e6bf1e71f8e0722f656d">&#9670;&nbsp;</a></span>shutdown()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacemongo.html#aa639063deea016a1dac8f046e93900a6">void</a> mongo::HealthLog::shutdown </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacemongo.html#aa639063deea016a1dac8f046e93900a6">void</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stop the worker thread. </p>

</div>
</div>
<a id="a2122ed84314dcc87f43f4546cc30df8a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2122ed84314dcc87f43f4546cc30df8a">&#9670;&nbsp;</a></span>startup()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacemongo.html#aa639063deea016a1dac8f046e93900a6">void</a> mongo::HealthLog::startup </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacemongo.html#aa639063deea016a1dac8f046e93900a6">void</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Start the worker thread writing the buffer to the collection. </p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a3f3342f1f3bc542dfb45c761abc674b6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3f3342f1f3bc542dfb45c761abc674b6">&#9670;&nbsp;</a></span>_writer</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classmongo_1_1DeferredWriter.html">DeferredWriter</a> mongo::HealthLog::_writer</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ae60b23320d525c447bec50b56122bfcf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae60b23320d525c447bec50b56122bfcf">&#9670;&nbsp;</a></span>kMaxBufferSize</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const int64_t mongo::HealthLog::kMaxBufferSize = 25'000'000</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The maximum size of the in-memory buffer of health-log entries, in bytes. </p>

</div>
</div>
<a id="a30a85d2541bd1fea3487e64c6f3c6e21"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a30a85d2541bd1fea3487e64c6f3c6e21">&#9670;&nbsp;</a></span>nss</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const NamespaceString mongo::HealthLog::nss</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The name of the collection. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/home/louis/git/mongo/src/mongo/db/catalog/<a class="el" href="health__log_8h_source.html">health_log.h</a></li>
<li>/home/louis/git/mongo/src/mongo/db/catalog/<a class="el" href="health__log_8cpp.html">health_log.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.13-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacemongo.html">mongo</a></li><li class="navelem"><a class="el" href="classmongo_1_1HealthLog.html">HealthLog</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
