<!-- HTML header for doxygen 1.8.13-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Storage Engine API: /home/louis/git/mongo/src/mongo/db/storage/mmap_v1/dur_journal.cpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link rel="shortcut icon" href="favicon.ico" type="image/x-icon" />
<link href="mongodb.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr>
  <td id="projectlogo"><img alt="Logo" src="mongodb-logo.jpg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Storage Engine API
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('dur__journal_8cpp.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#namespaces">Namespaces</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">dur_journal.cpp File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;mongo/platform/basic.h&quot;</code><br />
<code>#include &quot;<a class="el" href="dur__journal_8h_source.html">mongo/db/storage/mmap_v1/dur_journal.h</a>&quot;</code><br />
<code>#include &lt;boost/filesystem.hpp&gt;</code><br />
<code>#include &lt;boost/filesystem/operations.hpp&gt;</code><br />
<code>#include &quot;mongo/base/init.h&quot;</code><br />
<code>#include &quot;mongo/base/static_assert.h&quot;</code><br />
<code>#include &quot;mongo/config.h&quot;</code><br />
<code>#include &quot;mongo/db/client.h&quot;</code><br />
<code>#include &quot;<a class="el" href="aligned__builder_8h_source.html">mongo/db/storage/mmap_v1/aligned_builder.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="compress_8h_source.html">mongo/db/storage/mmap_v1/compress.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="dur__journalformat_8h_source.html">mongo/db/storage/mmap_v1/dur_journalformat.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="dur__journalimpl_8h_source.html">mongo/db/storage/mmap_v1/dur_journalimpl.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="dur__stats_8h_source.html">mongo/db/storage/mmap_v1/dur_stats.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="logfile_8h_source.html">mongo/db/storage/mmap_v1/logfile.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="mmap_8h_source.html">mongo/db/storage/mmap_v1/mmap.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="mmap__v1__options_8h_source.html">mongo/db/storage/mmap_v1/mmap_v1_options.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="paths_8h_source.html">mongo/db/storage/mmap_v1/paths.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="storage__options_8h_source.html">mongo/db/storage/storage_options.h</a>&quot;</code><br />
<code>#include &quot;mongo/platform/random.h&quot;</code><br />
<code>#include &quot;mongo/util/checksum.h&quot;</code><br />
<code>#include &quot;mongo/util/clock_source.h&quot;</code><br />
<code>#include &quot;mongo/util/exit.h&quot;</code><br />
<code>#include &quot;mongo/util/file.h&quot;</code><br />
<code>#include &quot;mongo/util/hex.h&quot;</code><br />
<code>#include &quot;mongo/util/log.h&quot;</code><br />
<code>#include &quot;mongo/util/mongoutils/str.h&quot;</code><br />
<code>#include &quot;mongo/util/progress_meter.h&quot;</code><br />
<code>#include &quot;mongo/util/timer.h&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="namespaces"></a>
Namespaces</h2></td></tr>
<tr class="memitem:namespacemongo"><td class="memItemLeft" align="right" valign="top"> &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemongo.html">mongo</a></td></tr>
<tr class="memdesc:namespacemongo"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copyright (C) 2014 MongoDB Inc. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:namespacemongo_1_1dur"><td class="memItemLeft" align="right" valign="top"> &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemongo_1_1dur.html">mongo::dur</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a7f49e48dc2734e29846d561c4afd0630"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dur__journal_8cpp.html#a7f49e48dc2734e29846d561c4afd0630">MONGO_LOG_DEFAULT_COMPONENT</a>&#160;&#160;&#160;::mongo::logger::LogComponent::kJournal</td></tr>
<tr class="memdesc:a7f49e48dc2734e29846d561c4afd0630"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copyright (C) 2010 10gen Inc.  <a href="#a7f49e48dc2734e29846d561c4afd0630">More...</a><br /></td></tr>
<tr class="separator:a7f49e48dc2734e29846d561c4afd0630"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aa27481195fa19a0b31326da11c2ff01f"><td class="memItemLeft" align="right" valign="top">MONGO_INITIALIZER()&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemongo_1_1dur.html#aa27481195fa19a0b31326da11c2ff01f">mongo::dur::InitializeJournalingParams</a> (InitializerContext *context)</td></tr>
<tr class="separator:aa27481195fa19a0b31326da11c2ff01f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21f3505588d1d43a8be79357ba9f1252"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemongo_1_1dur.html#a21f3505588d1d43a8be79357ba9f1252">mongo::dur::MONGO_STATIC_ASSERT</a> (sizeof(Checksum)==16)</td></tr>
<tr class="separator:a21f3505588d1d43a8be79357ba9f1252"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3b9c5e3e482ff9188923bb5506e34b7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemongo_1_1dur.html#ad3b9c5e3e482ff9188923bb5506e34b7">mongo::dur::MONGO_STATIC_ASSERT</a> (sizeof(JHeader)==8192)</td></tr>
<tr class="separator:ad3b9c5e3e482ff9188923bb5506e34b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e3b6ae92866117c4b4be6586bcfd184"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemongo_1_1dur.html#a7e3b6ae92866117c4b4be6586bcfd184">mongo::dur::MONGO_STATIC_ASSERT</a> (sizeof(JSectHeader)==20)</td></tr>
<tr class="separator:a7e3b6ae92866117c4b4be6586bcfd184"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a0e2fa4cf9a3b61e8f014745924d63d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemongo_1_1dur.html#a6a0e2fa4cf9a3b61e8f014745924d63d">mongo::dur::MONGO_STATIC_ASSERT</a> (sizeof(JSectFooter)==32)</td></tr>
<tr class="separator:a6a0e2fa4cf9a3b61e8f014745924d63d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4289d2fe1b397394163ae00b66f74197"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemongo_1_1dur.html#a4289d2fe1b397394163ae00b66f74197">mongo::dur::MONGO_STATIC_ASSERT</a> (sizeof(JEntry)==12)</td></tr>
<tr class="separator:a4289d2fe1b397394163ae00b66f74197"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4643abfee13becb4264771a8059a8b37"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemongo_1_1dur.html#a4643abfee13becb4264771a8059a8b37">mongo::dur::MONGO_STATIC_ASSERT</a> (sizeof(LSNFile)==88)</td></tr>
<tr class="separator:a4643abfee13becb4264771a8059a8b37"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ec4a0eab95513b9d775093b1e515b3a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemongo_1_1dur.html#a9ec4a0eab95513b9d775093b1e515b3a">mongo::dur::removeOldJournalFile</a> (boost::filesystem::path p)</td></tr>
<tr class="separator:a9ec4a0eab95513b9d775093b1e515b3a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ce4bb364727a55b8ef70e715720a8d9"><td class="memItemLeft" align="right" valign="top">boost::filesystem::path&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemongo_1_1dur.html#a2ce4bb364727a55b8ef70e715720a8d9">mongo::dur::getJournalDir</a> ()</td></tr>
<tr class="separator:a2ce4bb364727a55b8ef70e715720a8d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a888f508ce052d6be7a6a2ea59f5932"><td class="memItemLeft" align="right" valign="top">boost::filesystem::path&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemongo_1_1dur.html#a4a888f508ce052d6be7a6a2ea59f5932">mongo::dur::lsnPath</a> ()</td></tr>
<tr class="separator:a4a888f508ce052d6be7a6a2ea59f5932"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e48a2c6df8575ef67131acc7d07a7ef"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemongo_1_1dur.html#a3e48a2c6df8575ef67131acc7d07a7ef">mongo::dur::journalingFailure</a> (const char *msg)</td></tr>
<tr class="memdesc:a3e48a2c6df8575ef67131acc7d07a7ef"><td class="mdescLeft">&#160;</td><td class="mdescRight">this should be called when something really bad happens so that we can flag appropriately  <a href="namespacemongo_1_1dur.html#a3e48a2c6df8575ef67131acc7d07a7ef">More...</a><br /></td></tr>
<tr class="separator:a3e48a2c6df8575ef67131acc7d07a7ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d0d3b834b55f5571cbc485513173692"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemongo_1_1dur.html#a1d0d3b834b55f5571cbc485513173692">mongo::dur::haveJournalFiles</a> (bool anyFiles)</td></tr>
<tr class="memdesc:a1d0d3b834b55f5571cbc485513173692"><td class="mdescLeft">&#160;</td><td class="mdescRight">never throws  <a href="namespacemongo_1_1dur.html#a1d0d3b834b55f5571cbc485513173692">More...</a><br /></td></tr>
<tr class="separator:a1d0d3b834b55f5571cbc485513173692"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ebd5ab0f1765b0230583a3f32cabffc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemongo_1_1dur.html#a6ebd5ab0f1765b0230583a3f32cabffc">mongo::dur::removeJournalFiles</a> ()</td></tr>
<tr class="memdesc:a6ebd5ab0f1765b0230583a3f32cabffc"><td class="mdescLeft">&#160;</td><td class="mdescRight">throws  <a href="namespacemongo_1_1dur.html#a6ebd5ab0f1765b0230583a3f32cabffc">More...</a><br /></td></tr>
<tr class="separator:a6ebd5ab0f1765b0230583a3f32cabffc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3fd84e94d79e72e59f7a70e2ca95a7ed"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemongo_1_1dur.html#a3fd84e94d79e72e59f7a70e2ca95a7ed">mongo::dur::journalCleanup</a> (bool log=false)</td></tr>
<tr class="memdesc:a3fd84e94d79e72e59f7a70e2ca95a7ed"><td class="mdescLeft">&#160;</td><td class="mdescRight">at termination after db files closed &amp; fsynced also after recovery closes and removes journal files  <a href="namespacemongo_1_1dur.html#a3fd84e94d79e72e59f7a70e2ca95a7ed">More...</a><br /></td></tr>
<tr class="separator:a3fd84e94d79e72e59f7a70e2ca95a7ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae34a95ce4c48244252e33aa104b3dcea"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemongo_1_1dur.html#ae34a95ce4c48244252e33aa104b3dcea">mongo::dur::_preallocateIsFaster</a> ()</td></tr>
<tr class="separator:ae34a95ce4c48244252e33aa104b3dcea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1ec01eb9459b87bf263e1408b0ac998"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemongo_1_1dur.html#ac1ec01eb9459b87bf263e1408b0ac998">mongo::dur::preallocateIsFaster</a> ()</td></tr>
<tr class="separator:ac1ec01eb9459b87bf263e1408b0ac998"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af8aa789d0006c38b58637fe5cc8616eb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemongo_1_1dur.html#af8aa789d0006c38b58637fe5cc8616eb">mongo::dur::preallocateFile</a> (boost::filesystem::path p, unsigned long long len)</td></tr>
<tr class="separator:af8aa789d0006c38b58637fe5cc8616eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a011443889f559a56ba801dc6e195d87e"><td class="memItemLeft" align="right" valign="top">boost::filesystem::path&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemongo_1_1dur.html#a011443889f559a56ba801dc6e195d87e">mongo::dur::preallocPath</a> (int n)</td></tr>
<tr class="separator:a011443889f559a56ba801dc6e195d87e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a84663ffea9b3080599969993c186176d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemongo_1_1dur.html#a84663ffea9b3080599969993c186176d">mongo::dur::_preallocateFiles</a> ()</td></tr>
<tr class="separator:a84663ffea9b3080599969993c186176d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ae4b2ebb5e918b7a4e4482e2c999aaa"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemongo_1_1dur.html#a1ae4b2ebb5e918b7a4e4482e2c999aaa">mongo::dur::checkFreeSpace</a> ()</td></tr>
<tr class="separator:a1ae4b2ebb5e918b7a4e4482e2c999aaa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a553d6817979750ec607fe96753f7839b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemongo_1_1dur.html#a553d6817979750ec607fe96753f7839b">mongo::dur::preallocateFiles</a> ()</td></tr>
<tr class="separator:a553d6817979750ec607fe96753f7839b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaeb5a8776e7c566b2a66d92e79e8a126"><td class="memItemLeft" align="right" valign="top">boost::filesystem::path&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemongo_1_1dur.html#aaeb5a8776e7c566b2a66d92e79e8a126">mongo::dur::findPrealloced</a> ()</td></tr>
<tr class="separator:aaeb5a8776e7c566b2a66d92e79e8a126"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afffbfec4ad0af881d2f6e2214fc82477"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemongo_1_1dur.html#afffbfec4ad0af881d2f6e2214fc82477">mongo::dur::journalMakeDir</a> (ClockSource *cs, int64_t serverStartMs)</td></tr>
<tr class="memdesc:afffbfec4ad0af881d2f6e2214fc82477"><td class="mdescLeft">&#160;</td><td class="mdescRight">assure journal/ dir exists.  <a href="namespacemongo_1_1dur.html#afffbfec4ad0af881d2f6e2214fc82477">More...</a><br /></td></tr>
<tr class="separator:afffbfec4ad0af881d2f6e2214fc82477"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b6e38651fae216273514680da4941a9"><td class="memItemLeft" align="right" valign="top">unsigned long long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemongo_1_1dur.html#a1b6e38651fae216273514680da4941a9">mongo::dur::journalReadLSN</a> ()</td></tr>
<tr class="memdesc:a1b6e38651fae216273514680da4941a9"><td class="mdescLeft">&#160;</td><td class="mdescRight">called during recovery (the error message text below assumes that)  <a href="namespacemongo_1_1dur.html#a1b6e38651fae216273514680da4941a9">More...</a><br /></td></tr>
<tr class="separator:a1b6e38651fae216273514680da4941a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3727cce99945d17e7ca1baea579f9ecf"><td class="memItemLeft" align="right" valign="top">uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemongo_1_1dur.html#a3727cce99945d17e7ca1baea579f9ecf">mongo::dur::generateNextSeqNumber</a> (ClockSource *cs, int64_t serverStartMs)</td></tr>
<tr class="memdesc:a3727cce99945d17e7ca1baea579f9ecf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generates the next sequence number for use in the journal, guaranteed to be greater than all prior sequence numbers.  <a href="namespacemongo_1_1dur.html#a3727cce99945d17e7ca1baea579f9ecf">More...</a><br /></td></tr>
<tr class="separator:a3727cce99945d17e7ca1baea579f9ecf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a77c293b78ce37f75555b2213b3ede54e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemongo_1_1dur.html#a77c293b78ce37f75555b2213b3ede54e">mongo::dur::setLastSeqNumberWrittenToSharedView</a> (uint64_t seqNumber)</td></tr>
<tr class="memdesc:a77c293b78ce37f75555b2213b3ede54e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Informs the journaling system that all writes on or before the passed in sequence number have been written to the data files' shared mmap view.  <a href="namespacemongo_1_1dur.html#a77c293b78ce37f75555b2213b3ede54e">More...</a><br /></td></tr>
<tr class="separator:a77c293b78ce37f75555b2213b3ede54e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a992369a3b75a3233078b480a1f15178c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemongo_1_1dur.html#a992369a3b75a3233078b480a1f15178c">mongo::dur::notifyPreDataFileFlush</a> ()</td></tr>
<tr class="memdesc:a992369a3b75a3233078b480a1f15178c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Call these before (pre) and after (post) the datafiles are flushed to disk by the <a class="el" href="classmongo_1_1DataFileSync.html" title="does background async flushes of mmapped files ">DataFileSync</a> thread.  <a href="namespacemongo_1_1dur.html#a992369a3b75a3233078b480a1f15178c">More...</a><br /></td></tr>
<tr class="separator:a992369a3b75a3233078b480a1f15178c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32ad3f424172cd5fcf12c57699c51156"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemongo_1_1dur.html#a32ad3f424172cd5fcf12c57699c51156">mongo::dur::notifyPostDataFileFlush</a> ()</td></tr>
<tr class="separator:a32ad3f424172cd5fcf12c57699c51156"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd871880b1498c4e038b950cb249abd5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemongo_1_1dur.html#acd871880b1498c4e038b950cb249abd5">mongo::dur::WRITETOJOURNAL</a> (const JSectHeader &amp;h, const AlignedBuilder &amp;uncompressed)</td></tr>
<tr class="memdesc:acd871880b1498c4e038b950cb249abd5"><td class="mdescLeft">&#160;</td><td class="mdescRight">write (append) the buffer we have built to the journal and fsync it.  <a href="namespacemongo_1_1dur.html#acd871880b1498c4e038b950cb249abd5">More...</a><br /></td></tr>
<tr class="separator:acd871880b1498c4e038b950cb249abd5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a5bc12491fe1889308dd03da82ce999f0"><td class="memItemLeft" align="right" valign="top">unsigned long long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemongo_1_1dur.html#a5bc12491fe1889308dd03da82ce999f0">mongo::dur::DataLimitPerJournalFile</a></td></tr>
<tr class="separator:a5bc12491fe1889308dd03da82ce999f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac1b5f3bd3447603799f5f01801b99f6"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemongo_1_1dur.html#aac1b5f3bd3447603799f5f01801b99f6">mongo::dur::usingPreallocate</a> = false</td></tr>
<tr class="separator:aac1b5f3bd3447603799f5f01801b99f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5493b535527b9a767c221639a6e08f81"><td class="memItemLeft" align="right" valign="top">Journal&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemongo_1_1dur.html#a5493b535527b9a767c221639a6e08f81">mongo::dur::j</a></td></tr>
<tr class="separator:a5493b535527b9a767c221639a6e08f81"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9af1567ff9292c5bbc4a5b548173a6d0"><td class="memItemLeft" align="right" valign="top">const unsigned long long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemongo_1_1dur.html#a9af1567ff9292c5bbc4a5b548173a6d0">mongo::dur::LsnShutdownSentinel</a> = ~((unsigned long long)0)</td></tr>
<tr class="separator:a9af1567ff9292c5bbc4a5b548173a6d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae85f53498d36a82a8d1dee4cb7ab9341"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemongo_1_1dur.html#ae85f53498d36a82a8d1dee4cb7ab9341">mongo::dur::okToCleanUp</a> = false</td></tr>
<tr class="memdesc:ae85f53498d36a82a8d1dee4cb7ab9341"><td class="mdescLeft">&#160;</td><td class="mdescRight">at clean shutdown  <a href="namespacemongo_1_1dur.html#ae85f53498d36a82a8d1dee4cb7ab9341">More...</a><br /></td></tr>
<tr class="separator:ae85f53498d36a82a8d1dee4cb7ab9341"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4360ff4305fb66b57b90112d61c92b02"><td class="memItemLeft" align="right" valign="top">const int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemongo_1_1dur.html#a4360ff4305fb66b57b90112d61c92b02">mongo::dur::NUM_PREALLOC_FILES</a> = 3</td></tr>
<tr class="separator:a4360ff4305fb66b57b90112d61c92b02"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a7f49e48dc2734e29846d561c4afd0630"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7f49e48dc2734e29846d561c4afd0630">&#9670;&nbsp;</a></span>MONGO_LOG_DEFAULT_COMPONENT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MONGO_LOG_DEFAULT_COMPONENT&#160;&#160;&#160;::mongo::logger::LogComponent::kJournal</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Copyright (C) 2010 10gen Inc. </p>
<p>This program is free software: you can redistribute it and/or modify it under the terms of the GNU Affero General Public License, version 3, as published by the Free Software Foundation.</p>
<p>This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero General Public License for more details.</p>
<p>You should have received a copy of the GNU Affero General Public License along with this program. If not, see <a href="http://www.gnu.org/licenses/">http://www.gnu.org/licenses/</a>.</p>
<p>As a special exception, the copyright holders give permission to link the code of portions of this program with the OpenSSL library under certain conditions as described in each individual source file and distribute linked combinations including the program with the OpenSSL library. You must comply with the GNU Affero General Public License in all respects for all of the code used other than as permitted herein. If you modify file(s) with this exception, you may extend this exception to your version of the file(s), but you are not obligated to do so. If you do not wish to do so, delete this exception statement from your version. If you delete this exception statement from all source files in the program, then also delete it in the license file. </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.13-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_dd1d225638daf3f3753df6d6ceaf954c.html">mongo</a></li><li class="navelem"><a class="el" href="dir_68cd4a12641825290eb1b2d05c12b4ee.html">db</a></li><li class="navelem"><a class="el" href="dir_c84aae0d5ddd3c0a024c539b5e839913.html">storage</a></li><li class="navelem"><a class="el" href="dir_899624c236e2d25d178b994f7b1db82e.html">mmap_v1</a></li><li class="navelem"><a class="el" href="dur__journal_8cpp.html">dur_journal.cpp</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
