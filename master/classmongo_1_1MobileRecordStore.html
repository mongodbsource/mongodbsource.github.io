<!-- HTML header for doxygen 1.8.13-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Storage Engine API: mongo::MobileRecordStore Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link rel="shortcut icon" href="favicon.ico" type="image/x-icon" />
<link href="mongodb.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr>
  <td id="projectlogo"><img alt="Logo" src="mongodb-logo.jpg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Storage Engine API
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classmongo_1_1MobileRecordStore.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classmongo_1_1MobileRecordStore-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">mongo::MobileRecordStore Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>A <a class="el" href="classmongo_1_1RecordStore.html" title="An abstraction used for storing documents in a collection or entries in an index. ...">RecordStore</a> that stores all data in SQLite.  
 <a href="classmongo_1_1MobileRecordStore.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="mobile__record__store_8h_source.html">mobile_record_store.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for mongo::MobileRecordStore:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classmongo_1_1MobileRecordStore.png" usemap="#mongo::MobileRecordStore_map" alt=""/>
  <map id="mongo::MobileRecordStore_map" name="mongo::MobileRecordStore_map">
<area href="classmongo_1_1RecordStore.html" title="An abstraction used for storing documents in a collection or entries in an index. ..." alt="mongo::RecordStore" shape="rect" coords="0,0,164,24"/>
</map>
 </div></div>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A <a class="el" href="classmongo_1_1RecordStore.html" title="An abstraction used for storing documents in a collection or entries in an index. ...">RecordStore</a> that stores all data in SQLite. </p>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1MobileRecordStore_1_1Cursor.html">Cursor</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1MobileRecordStore_1_1DataSizeChange.html">DataSizeChange</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Keeps track of the total data size.  <a href="classmongo_1_1MobileRecordStore_1_1DataSizeChange.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1MobileRecordStore_1_1NumRecsChange.html">NumRecsChange</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Keeps track of the changes to the number of records.  <a href="classmongo_1_1MobileRecordStore_1_1NumRecsChange.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a6f3ac1cfa64833f89f9a7580bd2fa59d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1MobileRecordStore.html#a6f3ac1cfa64833f89f9a7580bd2fa59d">MobileRecordStore</a> (OperationContext *<a class="el" href="namespacemongo.html#a15b23ef1d9a7f6cdadbf866f1e8e5043">opCtx</a>, StringData <a class="el" href="classmongo_1_1RecordStore.html#ab57ca9998314c5c59f284515fd8bdea8">ns</a>, const std::string &amp;path, const std::string &amp;ident, const <a class="el" href="structmongo_1_1CollectionOptions.html">CollectionOptions</a> &amp;<a class="el" href="namespacemongo.html#ad271b77bcd8d56d7a7e2205e9cb55df7">options</a>)</td></tr>
<tr class="separator:a6f3ac1cfa64833f89f9a7580bd2fa59d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad4470e1973ef8113e9bcc0b192146c8e"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1MobileRecordStore.html#ad4470e1973ef8113e9bcc0b192146c8e">name</a> () const override</td></tr>
<tr class="separator:ad4470e1973ef8113e9bcc0b192146c8e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a197c390e5562f51ac9bcd1cc1512bde4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classmongo_1_1RecordData.html">RecordData</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1MobileRecordStore.html#a197c390e5562f51ac9bcd1cc1512bde4">dataFor</a> (OperationContext *<a class="el" href="namespacemongo.html#a15b23ef1d9a7f6cdadbf866f1e8e5043">opCtx</a>, const RecordId &amp;recId) const override</td></tr>
<tr class="memdesc:a197c390e5562f51ac9bcd1cc1512bde4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the <a class="el" href="classmongo_1_1RecordData.html" title="A replacement for the Record class. ">RecordData</a> at loc, which must exist.  <a href="#a197c390e5562f51ac9bcd1cc1512bde4">More...</a><br /></td></tr>
<tr class="separator:a197c390e5562f51ac9bcd1cc1512bde4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea109aecc6a72bd4d5f2a0f7ef3cb627"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1MobileRecordStore.html#aea109aecc6a72bd4d5f2a0f7ef3cb627">findRecord</a> (OperationContext *<a class="el" href="namespacemongo.html#a15b23ef1d9a7f6cdadbf866f1e8e5043">opCtx</a>, const RecordId &amp;recId, <a class="el" href="classmongo_1_1RecordData.html">RecordData</a> *rd) const override</td></tr>
<tr class="separator:aea109aecc6a72bd4d5f2a0f7ef3cb627"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4303b451a034bc3bb0c72d6bc9ce6264"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacemongo.html#aa639063deea016a1dac8f046e93900a6">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1MobileRecordStore.html#a4303b451a034bc3bb0c72d6bc9ce6264">deleteRecord</a> (OperationContext *<a class="el" href="namespacemongo.html#a15b23ef1d9a7f6cdadbf866f1e8e5043">opCtx</a>, const RecordId &amp;dl) override</td></tr>
<tr class="separator:a4303b451a034bc3bb0c72d6bc9ce6264"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb366a455f665dc26e2bb5f100488a5e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classmongo_1_1StatusWith.html">StatusWith</a>&lt; RecordId &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1MobileRecordStore.html#afb366a455f665dc26e2bb5f100488a5e">insertRecord</a> (OperationContext *<a class="el" href="namespacemongo.html#a15b23ef1d9a7f6cdadbf866f1e8e5043">opCtx</a>, const char *<a class="el" href="ephemeral__for__test__record__store__test_8cpp.html#a7b0b6386ed9af4d133c80f6322cc60dc">data</a>, int len, Timestamp timestamp, bool enforceQuota) override</td></tr>
<tr class="separator:afb366a455f665dc26e2bb5f100488a5e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a65ece7f0b97e0238cfa0520c9874eda4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacemongo.html#a7dd53a44ec884164bc07ed073e9f31da">Status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1MobileRecordStore.html#a65ece7f0b97e0238cfa0520c9874eda4">insertRecordsWithDocWriter</a> (OperationContext *<a class="el" href="namespacemongo.html#a15b23ef1d9a7f6cdadbf866f1e8e5043">opCtx</a>, const <a class="el" href="classmongo_1_1DocWriter.html">DocWriter</a> *const *docs, const Timestamp *timestamps, size_t nDocs, RecordId *idsOut) override</td></tr>
<tr class="memdesc:a65ece7f0b97e0238cfa0520c9874eda4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Inserts nDocs documents into this <a class="el" href="classmongo_1_1RecordStore.html" title="An abstraction used for storing documents in a collection or entries in an index. ...">RecordStore</a> using the <a class="el" href="classmongo_1_1DocWriter.html" title="Allows inserting a Record &quot;in-place&quot; without creating a copy ahead of time. ">DocWriter</a> interface.  <a href="#a65ece7f0b97e0238cfa0520c9874eda4">More...</a><br /></td></tr>
<tr class="separator:a65ece7f0b97e0238cfa0520c9874eda4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a946c349d9b1e0eff2d99cb77e612b53e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacemongo.html#a7dd53a44ec884164bc07ed073e9f31da">Status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1MobileRecordStore.html#a946c349d9b1e0eff2d99cb77e612b53e">updateRecord</a> (OperationContext *<a class="el" href="namespacemongo.html#a15b23ef1d9a7f6cdadbf866f1e8e5043">opCtx</a>, const RecordId &amp;oldLocation, const char *<a class="el" href="ephemeral__for__test__record__store__test_8cpp.html#a7b0b6386ed9af4d133c80f6322cc60dc">data</a>, int len, bool enforceQuota, <a class="el" href="classmongo_1_1UpdateNotifier.html">UpdateNotifier</a> *notifier) override</td></tr>
<tr class="separator:a946c349d9b1e0eff2d99cb77e612b53e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae81f7ff5514cbf6300f00ed09c71392"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1MobileRecordStore.html#aae81f7ff5514cbf6300f00ed09c71392">updateWithDamagesSupported</a> () const override</td></tr>
<tr class="separator:aae81f7ff5514cbf6300f00ed09c71392"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ba206a9cd9ed8586c50773912b43500"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classmongo_1_1StatusWith.html">StatusWith</a>&lt; <a class="el" href="classmongo_1_1RecordData.html">RecordData</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1MobileRecordStore.html#a8ba206a9cd9ed8586c50773912b43500">updateWithDamages</a> (OperationContext *<a class="el" href="namespacemongo.html#a15b23ef1d9a7f6cdadbf866f1e8e5043">opCtx</a>, const RecordId &amp;recId, const <a class="el" href="classmongo_1_1RecordData.html">RecordData</a> &amp;oldRec, const char *damageSource, const mutablebson::DamageVector &amp;damages) override</td></tr>
<tr class="memdesc:a8ba206a9cd9ed8586c50773912b43500"><td class="mdescLeft">&#160;</td><td class="mdescRight">Updates the record positioned at 'loc' in-place using the deltas described by 'damages'.  <a href="#a8ba206a9cd9ed8586c50773912b43500">More...</a><br /></td></tr>
<tr class="separator:a8ba206a9cd9ed8586c50773912b43500"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afd274a3bd09302b15fd5db020a272fa8"><td class="memItemLeft" align="right" valign="top">std::unique_ptr&lt; <a class="el" href="classmongo_1_1SeekableRecordCursor.html">SeekableRecordCursor</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1MobileRecordStore.html#afd274a3bd09302b15fd5db020a272fa8">getCursor</a> (OperationContext *<a class="el" href="namespacemongo.html#a15b23ef1d9a7f6cdadbf866f1e8e5043">opCtx</a>, bool forward) const override</td></tr>
<tr class="memdesc:afd274a3bd09302b15fd5db020a272fa8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a new cursor over this record store.  <a href="#afd274a3bd09302b15fd5db020a272fa8">More...</a><br /></td></tr>
<tr class="separator:afd274a3bd09302b15fd5db020a272fa8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa1a620c6a0f8e68c34c89d78bdd18a60"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacemongo.html#a7dd53a44ec884164bc07ed073e9f31da">Status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1MobileRecordStore.html#aa1a620c6a0f8e68c34c89d78bdd18a60">truncate</a> (OperationContext *<a class="el" href="namespacemongo.html#a15b23ef1d9a7f6cdadbf866f1e8e5043">opCtx</a>) override</td></tr>
<tr class="memdesc:aa1a620c6a0f8e68c34c89d78bdd18a60"><td class="mdescLeft">&#160;</td><td class="mdescRight">SQLite does not directly support truncate.  <a href="#aa1a620c6a0f8e68c34c89d78bdd18a60">More...</a><br /></td></tr>
<tr class="separator:aa1a620c6a0f8e68c34c89d78bdd18a60"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab154e1013d63be4901c095da6ccfe584"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacemongo.html#aa639063deea016a1dac8f046e93900a6">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1MobileRecordStore.html#ab154e1013d63be4901c095da6ccfe584">cappedTruncateAfter</a> (OperationContext *<a class="el" href="namespacemongo.html#a15b23ef1d9a7f6cdadbf866f1e8e5043">opCtx</a>, RecordId end, bool <a class="el" href="btree__interface_8cpp.html#a70a7fb264031a3a75f54886770610f78">inclusive</a>) override</td></tr>
<tr class="memdesc:ab154e1013d63be4901c095da6ccfe584"><td class="mdescLeft">&#160;</td><td class="mdescRight">The method throws an assertion if the capped truncate results in an emptied table.  <a href="#ab154e1013d63be4901c095da6ccfe584">More...</a><br /></td></tr>
<tr class="separator:ab154e1013d63be4901c095da6ccfe584"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9cdabab1f4d4784b1f77575af4570dee"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1MobileRecordStore.html#a9cdabab1f4d4784b1f77575af4570dee">compactSupported</a> () const override</td></tr>
<tr class="memdesc:a9cdabab1f4d4784b1f77575af4570dee"><td class="mdescLeft">&#160;</td><td class="mdescRight">does this <a class="el" href="classmongo_1_1RecordStore.html" title="An abstraction used for storing documents in a collection or entries in an index. ...">RecordStore</a> support the compact operation?  <a href="#a9cdabab1f4d4784b1f77575af4570dee">More...</a><br /></td></tr>
<tr class="separator:a9cdabab1f4d4784b1f77575af4570dee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a61252b0aafed3acbd97e27e78c7eb19f"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1MobileRecordStore.html#a61252b0aafed3acbd97e27e78c7eb19f">compactsInPlace</a> () const override</td></tr>
<tr class="memdesc:a61252b0aafed3acbd97e27e78c7eb19f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Does <a class="el" href="classmongo_1_1MobileRecordStore.html#ad5a907a7da98fba5a8c89c014a301f6d" title="Attempt to reduce the storage space used by this RecordStore. ">compact()</a> leave RecordIds alone or can they change.  <a href="#a61252b0aafed3acbd97e27e78c7eb19f">More...</a><br /></td></tr>
<tr class="separator:a61252b0aafed3acbd97e27e78c7eb19f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad5a907a7da98fba5a8c89c014a301f6d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacemongo.html#a7dd53a44ec884164bc07ed073e9f31da">Status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1MobileRecordStore.html#ad5a907a7da98fba5a8c89c014a301f6d">compact</a> (OperationContext *<a class="el" href="namespacemongo.html#a15b23ef1d9a7f6cdadbf866f1e8e5043">opCtx</a>, <a class="el" href="classmongo_1_1RecordStoreCompactAdaptor.html">RecordStoreCompactAdaptor</a> *adaptor, const <a class="el" href="structmongo_1_1CompactOptions.html">CompactOptions</a> *<a class="el" href="namespacemongo.html#ad271b77bcd8d56d7a7e2205e9cb55df7">options</a>, <a class="el" href="structmongo_1_1CompactStats.html">CompactStats</a> *<a class="el" href="lock__state_8cpp.html#a462377416929733211c8a52a7de37ad9">stats</a>) override</td></tr>
<tr class="memdesc:ad5a907a7da98fba5a8c89c014a301f6d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Attempt to reduce the storage space used by this <a class="el" href="classmongo_1_1RecordStore.html" title="An abstraction used for storing documents in a collection or entries in an index. ...">RecordStore</a>.  <a href="#ad5a907a7da98fba5a8c89c014a301f6d">More...</a><br /></td></tr>
<tr class="separator:ad5a907a7da98fba5a8c89c014a301f6d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f9b5c9443ad58b6bff2bdd96f90e094"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacemongo.html#a7dd53a44ec884164bc07ed073e9f31da">Status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1MobileRecordStore.html#a7f9b5c9443ad58b6bff2bdd96f90e094">validate</a> (OperationContext *<a class="el" href="namespacemongo.html#a15b23ef1d9a7f6cdadbf866f1e8e5043">opCtx</a>, <a class="el" href="namespacemongo.html#a7cc155634c5bc912468d33fe47041775">ValidateCmdLevel</a> level, <a class="el" href="classmongo_1_1ValidateAdaptor.html">ValidateAdaptor</a> *adaptor, <a class="el" href="structmongo_1_1ValidateResults.html">ValidateResults</a> *results, BSONObjBuilder *output) override</td></tr>
<tr class="memdesc:a7f9b5c9443ad58b6bff2bdd96f90e094"><td class="mdescLeft">&#160;</td><td class="mdescRight">Note: on full validation, this validates the entire database file, not just the table used by this record store.  <a href="#a7f9b5c9443ad58b6bff2bdd96f90e094">More...</a><br /></td></tr>
<tr class="separator:a7f9b5c9443ad58b6bff2bdd96f90e094"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a314fa743815ce6e0fec31632bcb8223b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacemongo.html#aa639063deea016a1dac8f046e93900a6">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1MobileRecordStore.html#a314fa743815ce6e0fec31632bcb8223b">appendCustomStats</a> (OperationContext *<a class="el" href="namespacemongo.html#a15b23ef1d9a7f6cdadbf866f1e8e5043">opCtx</a>, BSONObjBuilder *result, double scale) const override</td></tr>
<tr class="separator:a314fa743815ce6e0fec31632bcb8223b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abbbd814d6ab388b5a0f2ffa699b94539"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacemongo.html#a7dd53a44ec884164bc07ed073e9f31da">Status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1MobileRecordStore.html#abbbd814d6ab388b5a0f2ffa699b94539">touch</a> (OperationContext *<a class="el" href="namespacemongo.html#a15b23ef1d9a7f6cdadbf866f1e8e5043">opCtx</a>, BSONObjBuilder *output) const override</td></tr>
<tr class="memdesc:abbbd814d6ab388b5a0f2ffa699b94539"><td class="mdescLeft">&#160;</td><td class="mdescRight">Load all data into cache.  <a href="#abbbd814d6ab388b5a0f2ffa699b94539">More...</a><br /></td></tr>
<tr class="separator:abbbd814d6ab388b5a0f2ffa699b94539"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0defd6b6a51c6343a1b782265e971fe2"><td class="memItemLeft" align="right" valign="top">int64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1MobileRecordStore.html#a0defd6b6a51c6343a1b782265e971fe2">storageSize</a> (OperationContext *<a class="el" href="namespacemongo.html#a15b23ef1d9a7f6cdadbf866f1e8e5043">opCtx</a>, BSONObjBuilder *extraInfo=NULL, int infoLevel=0) const override</td></tr>
<tr class="memdesc:a0defd6b6a51c6343a1b782265e971fe2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Note: does not accurately return the size of the table on disk.  <a href="#a0defd6b6a51c6343a1b782265e971fe2">More...</a><br /></td></tr>
<tr class="separator:a0defd6b6a51c6343a1b782265e971fe2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af66e183702bc9fde2cc4eb0840b208bc"><td class="memItemLeft" align="right" valign="top">long long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1MobileRecordStore.html#af66e183702bc9fde2cc4eb0840b208bc">dataSize</a> (OperationContext *<a class="el" href="namespacemongo.html#a15b23ef1d9a7f6cdadbf866f1e8e5043">opCtx</a>) const override</td></tr>
<tr class="memdesc:af66e183702bc9fde2cc4eb0840b208bc"><td class="mdescLeft">&#160;</td><td class="mdescRight">The dataSize is an approximation of the sum of the sizes (in bytes) of the documents or entries in the recordStore.  <a href="#af66e183702bc9fde2cc4eb0840b208bc">More...</a><br /></td></tr>
<tr class="separator:af66e183702bc9fde2cc4eb0840b208bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a85f74fae6d6d8eb3eb3f64050d9f1aac"><td class="memItemLeft" align="right" valign="top">long long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1MobileRecordStore.html#a85f74fae6d6d8eb3eb3f64050d9f1aac">numRecords</a> (OperationContext *<a class="el" href="namespacemongo.html#a15b23ef1d9a7f6cdadbf866f1e8e5043">opCtx</a>) const override</td></tr>
<tr class="memdesc:a85f74fae6d6d8eb3eb3f64050d9f1aac"><td class="mdescLeft">&#160;</td><td class="mdescRight">Total number of record in the <a class="el" href="classmongo_1_1RecordStore.html" title="An abstraction used for storing documents in a collection or entries in an index. ...">RecordStore</a>.  <a href="#a85f74fae6d6d8eb3eb3f64050d9f1aac">More...</a><br /></td></tr>
<tr class="separator:a85f74fae6d6d8eb3eb3f64050d9f1aac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72a4f2dd1da4a50a66bc9c716cb8d6cd"><td class="memItemLeft" align="right" valign="top">boost::optional&lt; RecordId &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1MobileRecordStore.html#a72a4f2dd1da4a50a66bc9c716cb8d6cd">oplogStartHack</a> (OperationContext *<a class="el" href="namespacemongo.html#a15b23ef1d9a7f6cdadbf866f1e8e5043">opCtx</a>, const RecordId &amp;startingPosition) const override</td></tr>
<tr class="memdesc:a72a4f2dd1da4a50a66bc9c716cb8d6cd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the RecordId of an oplog entry as close to startingPosition as possible without being higher.  <a href="#a72a4f2dd1da4a50a66bc9c716cb8d6cd">More...</a><br /></td></tr>
<tr class="separator:a72a4f2dd1da4a50a66bc9c716cb8d6cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeaa689458429d1650242387573f9ead7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacemongo.html#aa639063deea016a1dac8f046e93900a6">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1MobileRecordStore.html#aeaa689458429d1650242387573f9ead7">waitForAllEarlierOplogWritesToBeVisible</a> (OperationContext *<a class="el" href="namespacemongo.html#a15b23ef1d9a7f6cdadbf866f1e8e5043">opCtx</a>) const override</td></tr>
<tr class="memdesc:aeaa689458429d1650242387573f9ead7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Waits for all writes that completed before this call to be visible to forward scans.  <a href="#aeaa689458429d1650242387573f9ead7">More...</a><br /></td></tr>
<tr class="separator:aeaa689458429d1650242387573f9ead7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae04d6ee66b5c2b591f1e52108417f9d6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacemongo.html#aa639063deea016a1dac8f046e93900a6">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1MobileRecordStore.html#ae04d6ee66b5c2b591f1e52108417f9d6">updateStatsAfterRepair</a> (OperationContext *<a class="el" href="namespacemongo.html#a15b23ef1d9a7f6cdadbf866f1e8e5043">opCtx</a>, long long <a class="el" href="classmongo_1_1MobileRecordStore.html#a85f74fae6d6d8eb3eb3f64050d9f1aac">numRecords</a>, long long <a class="el" href="classmongo_1_1MobileRecordStore.html#af66e183702bc9fde2cc4eb0840b208bc">dataSize</a>) override</td></tr>
<tr class="memdesc:ae04d6ee66b5c2b591f1e52108417f9d6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called after a repair operation is run with the recomputed numRecords and dataSize.  <a href="#ae04d6ee66b5c2b591f1e52108417f9d6">More...</a><br /></td></tr>
<tr class="separator:ae04d6ee66b5c2b591f1e52108417f9d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab414fdc30ce0663d3bbb5084c88144eb"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1MobileRecordStore.html#ab414fdc30ce0663d3bbb5084c88144eb">isCapped</a> () const override</td></tr>
<tr class="separator:ab414fdc30ce0663d3bbb5084c88144eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a459fd94434f5fd7613d0e427b6bb0d78"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacemongo.html#aa639063deea016a1dac8f046e93900a6">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1MobileRecordStore.html#a459fd94434f5fd7613d0e427b6bb0d78">setCappedCallback</a> (<a class="el" href="classmongo_1_1CappedCallback.html">CappedCallback</a> *cb) override</td></tr>
<tr class="separator:a459fd94434f5fd7613d0e427b6bb0d78"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03980ab6319848783523a94a8bab8b66"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacemongo.html#a7dd53a44ec884164bc07ed073e9f31da">Status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1MobileRecordStore.html#a03980ab6319848783523a94a8bab8b66">updateCappedSize</a> (OperationContext *<a class="el" href="namespacemongo.html#a15b23ef1d9a7f6cdadbf866f1e8e5043">opCtx</a>, long long cappedSize) override</td></tr>
<tr class="memdesc:a03980ab6319848783523a94a8bab8b66"><td class="mdescLeft">&#160;</td><td class="mdescRight">used to support online change oplog size.  <a href="#a03980ab6319848783523a94a8bab8b66">More...</a><br /></td></tr>
<tr class="separator:a03980ab6319848783523a94a8bab8b66"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classmongo_1_1RecordStore"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classmongo_1_1RecordStore')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classmongo_1_1RecordStore.html">mongo::RecordStore</a></td></tr>
<tr class="memitem:a10c9d0781171d6885030398acb2d2a59 inherit pub_methods_classmongo_1_1RecordStore"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1RecordStore.html#a10c9d0781171d6885030398acb2d2a59">RecordStore</a> (StringData <a class="el" href="classmongo_1_1RecordStore.html#ab57ca9998314c5c59f284515fd8bdea8">ns</a>)</td></tr>
<tr class="separator:a10c9d0781171d6885030398acb2d2a59 inherit pub_methods_classmongo_1_1RecordStore"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15f0fd57480351bdc0986944f66ee300 inherit pub_methods_classmongo_1_1RecordStore"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1RecordStore.html#a15f0fd57480351bdc0986944f66ee300">~RecordStore</a> ()</td></tr>
<tr class="separator:a15f0fd57480351bdc0986944f66ee300 inherit pub_methods_classmongo_1_1RecordStore"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab57ca9998314c5c59f284515fd8bdea8 inherit pub_methods_classmongo_1_1RecordStore"><td class="memItemLeft" align="right" valign="top">virtual const std::string &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1RecordStore.html#ab57ca9998314c5c59f284515fd8bdea8">ns</a> () const</td></tr>
<tr class="separator:ab57ca9998314c5c59f284515fd8bdea8 inherit pub_methods_classmongo_1_1RecordStore"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a289ed02de76406a5516d5a14f27dbf22 inherit pub_methods_classmongo_1_1RecordStore"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="namespacemongo.html#a7dd53a44ec884164bc07ed073e9f31da">Status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1RecordStore.html#a289ed02de76406a5516d5a14f27dbf22">insertRecords</a> (OperationContext *<a class="el" href="namespacemongo.html#a15b23ef1d9a7f6cdadbf866f1e8e5043">opCtx</a>, std::vector&lt; <a class="el" href="structmongo_1_1Record.html">Record</a> &gt; *records, std::vector&lt; Timestamp &gt; *timestamps, bool enforceQuota)</td></tr>
<tr class="separator:a289ed02de76406a5516d5a14f27dbf22 inherit pub_methods_classmongo_1_1RecordStore"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d5f95b3596bb8b1d85c5a24c2a48fb6 inherit pub_methods_classmongo_1_1RecordStore"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classmongo_1_1StatusWith.html">StatusWith</a>&lt; RecordId &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1RecordStore.html#a8d5f95b3596bb8b1d85c5a24c2a48fb6">insertRecordWithDocWriter</a> (OperationContext *<a class="el" href="namespacemongo.html#a15b23ef1d9a7f6cdadbf866f1e8e5043">opCtx</a>, const <a class="el" href="classmongo_1_1DocWriter.html">DocWriter</a> *doc, Timestamp timestamp)</td></tr>
<tr class="memdesc:a8d5f95b3596bb8b1d85c5a24c2a48fb6 inherit pub_methods_classmongo_1_1RecordStore"><td class="mdescLeft">&#160;</td><td class="mdescRight">A thin wrapper around <a class="el" href="classmongo_1_1RecordStore.html#a2cd3a7f097b6a0c8ae9036df1f4a1b03" title="Inserts nDocs documents into this RecordStore using the DocWriter interface. ">insertRecordsWithDocWriter()</a> to simplify handling of single DocWriters.  <a href="classmongo_1_1RecordStore.html#a8d5f95b3596bb8b1d85c5a24c2a48fb6">More...</a><br /></td></tr>
<tr class="separator:a8d5f95b3596bb8b1d85c5a24c2a48fb6 inherit pub_methods_classmongo_1_1RecordStore"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa34ca87ea7e872232cfefb6bc809d3f inherit pub_methods_classmongo_1_1RecordStore"><td class="memItemLeft" align="right" valign="top">virtual std::unique_ptr&lt; <a class="el" href="classmongo_1_1RecordCursor.html">RecordCursor</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1RecordStore.html#afa34ca87ea7e872232cfefb6bc809d3f">getCursorForRepair</a> (OperationContext *<a class="el" href="namespacemongo.html#a15b23ef1d9a7f6cdadbf866f1e8e5043">opCtx</a>) const</td></tr>
<tr class="memdesc:afa34ca87ea7e872232cfefb6bc809d3f inherit pub_methods_classmongo_1_1RecordStore"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructs a cursor over a potentially corrupted store, which can be used to salvage damaged records.  <a href="classmongo_1_1RecordStore.html#afa34ca87ea7e872232cfefb6bc809d3f">More...</a><br /></td></tr>
<tr class="separator:afa34ca87ea7e872232cfefb6bc809d3f inherit pub_methods_classmongo_1_1RecordStore"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a044a55f90a381a3504d34139889a339c inherit pub_methods_classmongo_1_1RecordStore"><td class="memItemLeft" align="right" valign="top">virtual std::unique_ptr&lt; <a class="el" href="classmongo_1_1RecordCursor.html">RecordCursor</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1RecordStore.html#a044a55f90a381a3504d34139889a339c">getRandomCursor</a> (OperationContext *<a class="el" href="namespacemongo.html#a15b23ef1d9a7f6cdadbf866f1e8e5043">opCtx</a>) const</td></tr>
<tr class="memdesc:a044a55f90a381a3504d34139889a339c inherit pub_methods_classmongo_1_1RecordStore"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructs a cursor over a record store that returns documents in a randomized order, and allows storage engines to provide a more efficient way of random sampling of a record store than MongoDB's default sampling methods, which is used when this method returns {}.  <a href="classmongo_1_1RecordStore.html#a044a55f90a381a3504d34139889a339c">More...</a><br /></td></tr>
<tr class="separator:a044a55f90a381a3504d34139889a339c inherit pub_methods_classmongo_1_1RecordStore"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81cd14207566be7a6fe132215ea4238b inherit pub_methods_classmongo_1_1RecordStore"><td class="memItemLeft" align="right" valign="top">virtual std::vector&lt; std::unique_ptr&lt; <a class="el" href="classmongo_1_1RecordCursor.html">RecordCursor</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1RecordStore.html#a81cd14207566be7a6fe132215ea4238b">getManyCursors</a> (OperationContext *<a class="el" href="namespacemongo.html#a15b23ef1d9a7f6cdadbf866f1e8e5043">opCtx</a>) const</td></tr>
<tr class="memdesc:a81cd14207566be7a6fe132215ea4238b inherit pub_methods_classmongo_1_1RecordStore"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns many RecordCursors that partition the <a class="el" href="classmongo_1_1RecordStore.html" title="An abstraction used for storing documents in a collection or entries in an index. ...">RecordStore</a> into many disjoint sets.  <a href="classmongo_1_1RecordStore.html#a81cd14207566be7a6fe132215ea4238b">More...</a><br /></td></tr>
<tr class="separator:a81cd14207566be7a6fe132215ea4238b inherit pub_methods_classmongo_1_1RecordStore"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae8985501aa36222d37ab2dd9b67707d7 inherit pub_methods_classmongo_1_1RecordStore"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1RecordStore.html#ae8985501aa36222d37ab2dd9b67707d7">isInRecordIdOrder</a> () const</td></tr>
<tr class="memdesc:ae8985501aa36222d37ab2dd9b67707d7 inherit pub_methods_classmongo_1_1RecordStore"><td class="mdescLeft">&#160;</td><td class="mdescRight">Does the <a class="el" href="classmongo_1_1RecordStore.html" title="An abstraction used for storing documents in a collection or entries in an index. ...">RecordStore</a> cursor retrieve its document in RecordId Order?  <a href="classmongo_1_1RecordStore.html#ae8985501aa36222d37ab2dd9b67707d7">More...</a><br /></td></tr>
<tr class="separator:ae8985501aa36222d37ab2dd9b67707d7 inherit pub_methods_classmongo_1_1RecordStore"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac034b0f4a1a4f9e8dbc3190262e209ff inherit pub_methods_classmongo_1_1RecordStore"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="namespacemongo.html#a7dd53a44ec884164bc07ed073e9f31da">Status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1RecordStore.html#ac034b0f4a1a4f9e8dbc3190262e209ff">oplogDiskLocRegister</a> (OperationContext *<a class="el" href="namespacemongo.html#a15b23ef1d9a7f6cdadbf866f1e8e5043">opCtx</a>, const Timestamp &amp;opTime, bool orderedCommit)</td></tr>
<tr class="memdesc:ac034b0f4a1a4f9e8dbc3190262e209ff inherit pub_methods_classmongo_1_1RecordStore"><td class="mdescLeft">&#160;</td><td class="mdescRight">When we write to an oplog, we call this so that if the storage engine supports doc locking, it can manage the visibility of oplog entries to ensure they are ordered.  <a href="classmongo_1_1RecordStore.html#ac034b0f4a1a4f9e8dbc3190262e209ff">More...</a><br /></td></tr>
<tr class="separator:ac034b0f4a1a4f9e8dbc3190262e209ff inherit pub_methods_classmongo_1_1RecordStore"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:abe0c1016f37334657592ec15f96b2f90"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="namespacemongo.html#aa639063deea016a1dac8f046e93900a6">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1MobileRecordStore.html#abe0c1016f37334657592ec15f96b2f90">create</a> (OperationContext *<a class="el" href="namespacemongo.html#a15b23ef1d9a7f6cdadbf866f1e8e5043">opCtx</a>, const std::string &amp;ident)</td></tr>
<tr class="memdesc:abe0c1016f37334657592ec15f96b2f90"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a new record store inside SQLite.  <a href="#abe0c1016f37334657592ec15f96b2f90">More...</a><br /></td></tr>
<tr class="separator:abe0c1016f37334657592ec15f96b2f90"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a1236ee954b7b3634bbda5ddf769d09dc"><td class="memItemLeft" align="right" valign="top">RecordId&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1MobileRecordStore.html#a1236ee954b7b3634bbda5ddf769d09dc">_nextId</a> ()</td></tr>
<tr class="separator:a1236ee954b7b3634bbda5ddf769d09dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a14e5ee032659003a735fe2613b35528e"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1MobileRecordStore.html#a14e5ee032659003a735fe2613b35528e">_isCappedAndNeedsDelete</a> (int64_t numRecs, int64_t numBytes)</td></tr>
<tr class="memdesc:a14e5ee032659003a735fe2613b35528e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if the collection is capped and exceeds the size or document cap.  <a href="#a14e5ee032659003a735fe2613b35528e">More...</a><br /></td></tr>
<tr class="separator:a14e5ee032659003a735fe2613b35528e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad932f2eded4f219817b9b1733432c517"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacemongo.html#aa639063deea016a1dac8f046e93900a6">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1MobileRecordStore.html#ad932f2eded4f219817b9b1733432c517">_notifyCappedCallbackIfNeeded_inlock</a> (OperationContext *<a class="el" href="namespacemongo.html#a15b23ef1d9a7f6cdadbf866f1e8e5043">opCtx</a>, RecordId recId, const <a class="el" href="classmongo_1_1RecordData.html">RecordData</a> &amp;recData)</td></tr>
<tr class="memdesc:ad932f2eded4f219817b9b1733432c517"><td class="mdescLeft">&#160;</td><td class="mdescRight">Notifies the capped callback that a capped collection is about to delete a record.  <a href="#ad932f2eded4f219817b9b1733432c517">More...</a><br /></td></tr>
<tr class="separator:ad932f2eded4f219817b9b1733432c517"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a161ab15caffb064c5a4d172f847f6f68"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacemongo.html#aa639063deea016a1dac8f046e93900a6">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1MobileRecordStore.html#a161ab15caffb064c5a4d172f847f6f68">_doCappedDelete</a> (OperationContext *<a class="el" href="namespacemongo.html#a15b23ef1d9a7f6cdadbf866f1e8e5043">opCtx</a>, <a class="el" href="classmongo_1_1SqliteStatement.html">SqliteStatement</a> &amp;stmt, const std::string &amp;direction, int64_t startRecId=0)</td></tr>
<tr class="memdesc:a161ab15caffb064c5a4d172f847f6f68"><td class="mdescLeft">&#160;</td><td class="mdescRight">Performs the capped deletion.  <a href="#a161ab15caffb064c5a4d172f847f6f68">More...</a><br /></td></tr>
<tr class="separator:a161ab15caffb064c5a4d172f847f6f68"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f145fe8f77201de785d8a22c9973ae0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacemongo.html#aa639063deea016a1dac8f046e93900a6">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1MobileRecordStore.html#a2f145fe8f77201de785d8a22c9973ae0">_cappedDeleteIfNeeded</a> (OperationContext *<a class="el" href="namespacemongo.html#a15b23ef1d9a7f6cdadbf866f1e8e5043">opCtx</a>)</td></tr>
<tr class="memdesc:a2f145fe8f77201de785d8a22c9973ae0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deletes records from a capped database if the cap is exceeded.  <a href="#a2f145fe8f77201de785d8a22c9973ae0">More...</a><br /></td></tr>
<tr class="separator:a2f145fe8f77201de785d8a22c9973ae0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2eb3665e5330a0097fba0fde435d7b74"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacemongo.html#aa639063deea016a1dac8f046e93900a6">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1MobileRecordStore.html#a2eb3665e5330a0097fba0fde435d7b74">_initNumRecsIfNeeded_inlock</a> (OperationContext *<a class="el" href="namespacemongo.html#a15b23ef1d9a7f6cdadbf866f1e8e5043">opCtx</a>) const</td></tr>
<tr class="memdesc:a2eb3665e5330a0097fba0fde435d7b74"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fetches the number of records from the database.  <a href="#a2eb3665e5330a0097fba0fde435d7b74">More...</a><br /></td></tr>
<tr class="separator:a2eb3665e5330a0097fba0fde435d7b74"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a582a8b9a4bbe83e8bf0767ef6adc61a2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacemongo.html#aa639063deea016a1dac8f046e93900a6">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1MobileRecordStore.html#a582a8b9a4bbe83e8bf0767ef6adc61a2">_changeNumRecs</a> (OperationContext *<a class="el" href="namespacemongo.html#a15b23ef1d9a7f6cdadbf866f1e8e5043">opCtx</a>, int64_t diff)</td></tr>
<tr class="memdesc:a582a8b9a4bbe83e8bf0767ef6adc61a2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Updates _numRecords.  <a href="#a582a8b9a4bbe83e8bf0767ef6adc61a2">More...</a><br /></td></tr>
<tr class="separator:a582a8b9a4bbe83e8bf0767ef6adc61a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac290fd73d90042511aaddeac869bd3c3"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1MobileRecordStore.html#ac290fd73d90042511aaddeac869bd3c3">_resetNumRecsIfNeeded</a> (OperationContext *<a class="el" href="namespacemongo.html#a15b23ef1d9a7f6cdadbf866f1e8e5043">opCtx</a>, int64_t newNumRecs)</td></tr>
<tr class="memdesc:ac290fd73d90042511aaddeac869bd3c3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resets _numRecords to the new value.  <a href="#ac290fd73d90042511aaddeac869bd3c3">More...</a><br /></td></tr>
<tr class="separator:ac290fd73d90042511aaddeac869bd3c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af6f83767180a9107ba6a1e077e06526b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacemongo.html#aa639063deea016a1dac8f046e93900a6">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1MobileRecordStore.html#af6f83767180a9107ba6a1e077e06526b">_initDataSizeIfNeeded_inlock</a> (OperationContext *<a class="el" href="namespacemongo.html#a15b23ef1d9a7f6cdadbf866f1e8e5043">opCtx</a>) const</td></tr>
<tr class="memdesc:af6f83767180a9107ba6a1e077e06526b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fetches the data size from the database.  <a href="#af6f83767180a9107ba6a1e077e06526b">More...</a><br /></td></tr>
<tr class="separator:af6f83767180a9107ba6a1e077e06526b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afdc2213b9108b1a7680c9330e8bbb0bb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacemongo.html#aa639063deea016a1dac8f046e93900a6">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1MobileRecordStore.html#afdc2213b9108b1a7680c9330e8bbb0bb">_changeDataSize</a> (OperationContext *<a class="el" href="namespacemongo.html#a15b23ef1d9a7f6cdadbf866f1e8e5043">opCtx</a>, int64_t diff)</td></tr>
<tr class="memdesc:afdc2213b9108b1a7680c9330e8bbb0bb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Updates _dataSize.  <a href="#afdc2213b9108b1a7680c9330e8bbb0bb">More...</a><br /></td></tr>
<tr class="separator:afdc2213b9108b1a7680c9330e8bbb0bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad22a6f8f5f49813395c0c3b4d2a2f15b"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1MobileRecordStore.html#ad22a6f8f5f49813395c0c3b4d2a2f15b">_resetDataSizeIfNeeded</a> (OperationContext *<a class="el" href="namespacemongo.html#a15b23ef1d9a7f6cdadbf866f1e8e5043">opCtx</a>, int64_t newDataSize)</td></tr>
<tr class="memdesc:ad22a6f8f5f49813395c0c3b4d2a2f15b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resets _dataSize to the new value.  <a href="#ad22a6f8f5f49813395c0c3b4d2a2f15b">More...</a><br /></td></tr>
<tr class="separator:ad22a6f8f5f49813395c0c3b4d2a2f15b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:ae09607dcffa191a2e3af432d15aada20"><td class="memItemLeft" align="right" valign="top">const std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1MobileRecordStore.html#ae09607dcffa191a2e3af432d15aada20">_path</a></td></tr>
<tr class="separator:ae09607dcffa191a2e3af432d15aada20"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b6f727a3110a4ce889698e91418790b"><td class="memItemLeft" align="right" valign="top">const std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1MobileRecordStore.html#a3b6f727a3110a4ce889698e91418790b">_ident</a></td></tr>
<tr class="separator:a3b6f727a3110a4ce889698e91418790b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaefcd9bc0aff57cc770c6bb3a1fbb18e"><td class="memItemLeft" align="right" valign="top">const bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1MobileRecordStore.html#aaefcd9bc0aff57cc770c6bb3a1fbb18e">_isOplog</a></td></tr>
<tr class="separator:aaefcd9bc0aff57cc770c6bb3a1fbb18e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c83941769101c74326b3e8d56c2fdb9"><td class="memItemLeft" align="right" valign="top">const bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1MobileRecordStore.html#a6c83941769101c74326b3e8d56c2fdb9">_isCapped</a></td></tr>
<tr class="separator:a6c83941769101c74326b3e8d56c2fdb9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ebb651fc7f588daf4f10bab81301346"><td class="memItemLeft" align="right" valign="top">int64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1MobileRecordStore.html#a1ebb651fc7f588daf4f10bab81301346">_cappedMaxSize</a></td></tr>
<tr class="separator:a1ebb651fc7f588daf4f10bab81301346"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec3b4e0cd22ba025497a2ed3cfd9a926"><td class="memItemLeft" align="right" valign="top">const int64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1MobileRecordStore.html#aec3b4e0cd22ba025497a2ed3cfd9a926">_cappedMaxDocs</a></td></tr>
<tr class="separator:aec3b4e0cd22ba025497a2ed3cfd9a926"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7509b0b01c984472a84472e6b0f77be2"><td class="memItemLeft" align="right" valign="top">stdx::mutex&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1MobileRecordStore.html#a7509b0b01c984472a84472e6b0f77be2">_cappedCallbackMutex</a></td></tr>
<tr class="separator:a7509b0b01c984472a84472e6b0f77be2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa830df7c2aecdfa6004b566053ae3f61"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classmongo_1_1CappedCallback.html">CappedCallback</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1MobileRecordStore.html#aa830df7c2aecdfa6004b566053ae3f61">_cappedCallback</a> = nullptr</td></tr>
<tr class="separator:aa830df7c2aecdfa6004b566053ae3f61"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add8c31266b50c39fa454c2aa327a82ce"><td class="memItemLeft" align="right" valign="top">AtomicInt64&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1MobileRecordStore.html#add8c31266b50c39fa454c2aa327a82ce">_nextIdNum</a></td></tr>
<tr class="separator:add8c31266b50c39fa454c2aa327a82ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a80510fa0b916ebcfa4f8a2a3566b30d6"><td class="memItemLeft" align="right" valign="top">int64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1MobileRecordStore.html#a80510fa0b916ebcfa4f8a2a3566b30d6">_numRecs</a></td></tr>
<tr class="separator:a80510fa0b916ebcfa4f8a2a3566b30d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a04d84a7ed4af83fc35566fa4a875ebe7"><td class="memItemLeft" align="right" valign="top">stdx::mutex&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1MobileRecordStore.html#a04d84a7ed4af83fc35566fa4a875ebe7">_numRecsMutex</a></td></tr>
<tr class="separator:a04d84a7ed4af83fc35566fa4a875ebe7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a16bb049df45e6d96b93d189a53c98b"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1MobileRecordStore.html#a8a16bb049df45e6d96b93d189a53c98b">_isNumRecsInitialized</a> = false</td></tr>
<tr class="separator:a8a16bb049df45e6d96b93d189a53c98b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae60c8839d485edcac81cc1f1bf977e61"><td class="memItemLeft" align="right" valign="top">int64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1MobileRecordStore.html#ae60c8839d485edcac81cc1f1bf977e61">_dataSize</a></td></tr>
<tr class="separator:ae60c8839d485edcac81cc1f1bf977e61"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a516b9ec52677a9b34c1532bf4df352a5"><td class="memItemLeft" align="right" valign="top">stdx::mutex&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1MobileRecordStore.html#a516b9ec52677a9b34c1532bf4df352a5">_dataSizeMutex</a></td></tr>
<tr class="separator:a516b9ec52677a9b34c1532bf4df352a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2707cade07d1c24d14c68345e8e2fc41"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1MobileRecordStore.html#a2707cade07d1c24d14c68345e8e2fc41">_isDataSizeInitialized</a> = false</td></tr>
<tr class="separator:a2707cade07d1c24d14c68345e8e2fc41"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pro_attribs_classmongo_1_1RecordStore"><td colspan="2" onclick="javascript:toggleInherit('pro_attribs_classmongo_1_1RecordStore')"><img src="closed.png" alt="-"/>&#160;Protected Attributes inherited from <a class="el" href="classmongo_1_1RecordStore.html">mongo::RecordStore</a></td></tr>
<tr class="memitem:a6a03f183b6b705e45a1e170a6bb5b6bc inherit pro_attribs_classmongo_1_1RecordStore"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmongo_1_1RecordStore.html#a6a03f183b6b705e45a1e170a6bb5b6bc">_ns</a></td></tr>
<tr class="separator:a6a03f183b6b705e45a1e170a6bb5b6bc inherit pro_attribs_classmongo_1_1RecordStore"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a6f3ac1cfa64833f89f9a7580bd2fa59d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6f3ac1cfa64833f89f9a7580bd2fa59d">&#9670;&nbsp;</a></span>MobileRecordStore()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mongo::MobileRecordStore::MobileRecordStore </td>
          <td>(</td>
          <td class="paramtype">OperationContext *&#160;</td>
          <td class="paramname"><em>opCtx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">StringData&#160;</td>
          <td class="paramname"><em>ns</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>ident</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structmongo_1_1CollectionOptions.html">CollectionOptions</a> &amp;&#160;</td>
          <td class="paramname"><em>options</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a2f145fe8f77201de785d8a22c9973ae0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2f145fe8f77201de785d8a22c9973ae0">&#9670;&nbsp;</a></span>_cappedDeleteIfNeeded()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacemongo.html#aa639063deea016a1dac8f046e93900a6">void</a> mongo::MobileRecordStore::_cappedDeleteIfNeeded </td>
          <td>(</td>
          <td class="paramtype">OperationContext *&#160;</td>
          <td class="paramname"><em>opCtx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Deletes records from a capped database if the cap is exceeded. </p>

</div>
</div>
<a id="afdc2213b9108b1a7680c9330e8bbb0bb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afdc2213b9108b1a7680c9330e8bbb0bb">&#9670;&nbsp;</a></span>_changeDataSize()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacemongo.html#aa639063deea016a1dac8f046e93900a6">void</a> mongo::MobileRecordStore::_changeDataSize </td>
          <td>(</td>
          <td class="paramtype">OperationContext *&#160;</td>
          <td class="paramname"><em>opCtx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>diff</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Updates _dataSize. </p>
<p>This must be called before the actual change is made to the database. </p>

</div>
</div>
<a id="a582a8b9a4bbe83e8bf0767ef6adc61a2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a582a8b9a4bbe83e8bf0767ef6adc61a2">&#9670;&nbsp;</a></span>_changeNumRecs()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacemongo.html#aa639063deea016a1dac8f046e93900a6">void</a> mongo::MobileRecordStore::_changeNumRecs </td>
          <td>(</td>
          <td class="paramtype">OperationContext *&#160;</td>
          <td class="paramname"><em>opCtx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>diff</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Updates _numRecords. </p>
<p>This must be called before the actual change is made to the database. </p>

</div>
</div>
<a id="a161ab15caffb064c5a4d172f847f6f68"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a161ab15caffb064c5a4d172f847f6f68">&#9670;&nbsp;</a></span>_doCappedDelete()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacemongo.html#aa639063deea016a1dac8f046e93900a6">void</a> mongo::MobileRecordStore::_doCappedDelete </td>
          <td>(</td>
          <td class="paramtype">OperationContext *&#160;</td>
          <td class="paramname"><em>opCtx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classmongo_1_1SqliteStatement.html">SqliteStatement</a> &amp;&#160;</td>
          <td class="paramname"><em>stmt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>direction</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>startRecId</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Performs the capped deletion. </p>
<p>Deletes all records in the specified direction beginning at startRecId. </p>

</div>
</div>
<a id="af6f83767180a9107ba6a1e077e06526b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af6f83767180a9107ba6a1e077e06526b">&#9670;&nbsp;</a></span>_initDataSizeIfNeeded_inlock()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacemongo.html#aa639063deea016a1dac8f046e93900a6">void</a> mongo::MobileRecordStore::_initDataSizeIfNeeded_inlock </td>
          <td>(</td>
          <td class="paramtype">OperationContext *&#160;</td>
          <td class="paramname"><em>opCtx</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Fetches the data size from the database. </p>
<p>_dataSizeMutex should be locked before this is called. </p>

</div>
</div>
<a id="a2eb3665e5330a0097fba0fde435d7b74"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2eb3665e5330a0097fba0fde435d7b74">&#9670;&nbsp;</a></span>_initNumRecsIfNeeded_inlock()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacemongo.html#aa639063deea016a1dac8f046e93900a6">void</a> mongo::MobileRecordStore::_initNumRecsIfNeeded_inlock </td>
          <td>(</td>
          <td class="paramtype">OperationContext *&#160;</td>
          <td class="paramname"><em>opCtx</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Fetches the number of records from the database. </p>
<p>_numRecsMutex should be locked before this is called. </p>

</div>
</div>
<a id="a14e5ee032659003a735fe2613b35528e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a14e5ee032659003a735fe2613b35528e">&#9670;&nbsp;</a></span>_isCappedAndNeedsDelete()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool mongo::MobileRecordStore::_isCappedAndNeedsDelete </td>
          <td>(</td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>numRecs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>numBytes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns true if the collection is capped and exceeds the size or document cap. </p>

</div>
</div>
<a id="a1236ee954b7b3634bbda5ddf769d09dc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1236ee954b7b3634bbda5ddf769d09dc">&#9670;&nbsp;</a></span>_nextId()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">RecordId mongo::MobileRecordStore::_nextId </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ad932f2eded4f219817b9b1733432c517"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad932f2eded4f219817b9b1733432c517">&#9670;&nbsp;</a></span>_notifyCappedCallbackIfNeeded_inlock()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacemongo.html#aa639063deea016a1dac8f046e93900a6">void</a> mongo::MobileRecordStore::_notifyCappedCallbackIfNeeded_inlock </td>
          <td>(</td>
          <td class="paramtype">OperationContext *&#160;</td>
          <td class="paramname"><em>opCtx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">RecordId&#160;</td>
          <td class="paramname"><em>recId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classmongo_1_1RecordData.html">RecordData</a> &amp;&#160;</td>
          <td class="paramname"><em>recData</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Notifies the capped callback that a capped collection is about to delete a record. </p>
<p>_cappedCallbackMutex should be locked before this is called. </p>

</div>
</div>
<a id="ad22a6f8f5f49813395c0c3b4d2a2f15b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad22a6f8f5f49813395c0c3b4d2a2f15b">&#9670;&nbsp;</a></span>_resetDataSizeIfNeeded()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool mongo::MobileRecordStore::_resetDataSizeIfNeeded </td>
          <td>(</td>
          <td class="paramtype">OperationContext *&#160;</td>
          <td class="paramname"><em>opCtx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>newDataSize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Resets _dataSize to the new value. </p>
<p>Returns true if _dataSize was reset; returns false otherwise. </p>

</div>
</div>
<a id="ac290fd73d90042511aaddeac869bd3c3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac290fd73d90042511aaddeac869bd3c3">&#9670;&nbsp;</a></span>_resetNumRecsIfNeeded()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool mongo::MobileRecordStore::_resetNumRecsIfNeeded </td>
          <td>(</td>
          <td class="paramtype">OperationContext *&#160;</td>
          <td class="paramname"><em>opCtx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>newNumRecs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Resets _numRecords to the new value. </p>
<p>Returns true if _numRecs was reset; returns false otherwise. </p>

</div>
</div>
<a id="a314fa743815ce6e0fec31632bcb8223b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a314fa743815ce6e0fec31632bcb8223b">&#9670;&nbsp;</a></span>appendCustomStats()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacemongo.html#aa639063deea016a1dac8f046e93900a6">void</a> mongo::MobileRecordStore::appendCustomStats </td>
          <td>(</td>
          <td class="paramtype">OperationContext *&#160;</td>
          <td class="paramname"><em>opCtx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">BSONObjBuilder *&#160;</td>
          <td class="paramname"><em>result</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>scale</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">scaleSize</td><td>- amount by which to scale size metrics appends any custom stats from the <a class="el" href="classmongo_1_1RecordStore.html" title="An abstraction used for storing documents in a collection or entries in an index. ...">RecordStore</a> or other unique stats </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="classmongo_1_1RecordStore.html#a5cb48e63dd3762331aa2ed79dcfd5edb">mongo::RecordStore</a>.</p>

</div>
</div>
<a id="ab154e1013d63be4901c095da6ccfe584"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab154e1013d63be4901c095da6ccfe584">&#9670;&nbsp;</a></span>cappedTruncateAfter()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacemongo.html#aa639063deea016a1dac8f046e93900a6">void</a> mongo::MobileRecordStore::cappedTruncateAfter </td>
          <td>(</td>
          <td class="paramtype">OperationContext *&#160;</td>
          <td class="paramname"><em>opCtx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">RecordId&#160;</td>
          <td class="paramname"><em>end</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>inclusive</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The method throws an assertion if the capped truncate results in an emptied table. </p>

<p>Implements <a class="el" href="classmongo_1_1RecordStore.html#af94e47409108ed086b750b766ab6c54a">mongo::RecordStore</a>.</p>

</div>
</div>
<a id="ad5a907a7da98fba5a8c89c014a301f6d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad5a907a7da98fba5a8c89c014a301f6d">&#9670;&nbsp;</a></span>compact()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacemongo.html#a7dd53a44ec884164bc07ed073e9f31da">Status</a> mongo::MobileRecordStore::compact </td>
          <td>(</td>
          <td class="paramtype">OperationContext *&#160;</td>
          <td class="paramname"><em>opCtx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classmongo_1_1RecordStoreCompactAdaptor.html">RecordStoreCompactAdaptor</a> *&#160;</td>
          <td class="paramname"><em>adaptor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structmongo_1_1CompactOptions.html">CompactOptions</a> *&#160;</td>
          <td class="paramname"><em>options</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmongo_1_1CompactStats.html">CompactStats</a> *&#160;</td>
          <td class="paramname"><em>stats</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Attempt to reduce the storage space used by this <a class="el" href="classmongo_1_1RecordStore.html" title="An abstraction used for storing documents in a collection or entries in an index. ...">RecordStore</a>. </p>
<p>Only called if <a class="el" href="classmongo_1_1MobileRecordStore.html#a9cdabab1f4d4784b1f77575af4570dee" title="does this RecordStore support the compact operation? ">compactSupported()</a> returns true. No <a class="el" href="classmongo_1_1RecordStoreCompactAdaptor.html">RecordStoreCompactAdaptor</a> will be passed if <a class="el" href="classmongo_1_1MobileRecordStore.html#a61252b0aafed3acbd97e27e78c7eb19f" title="Does compact() leave RecordIds alone or can they change. ">compactsInPlace()</a> returns true. </p>

<p>Reimplemented from <a class="el" href="classmongo_1_1RecordStore.html#a346acedb3f0b06954ab2deb83add6b38">mongo::RecordStore</a>.</p>

</div>
</div>
<a id="a61252b0aafed3acbd97e27e78c7eb19f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a61252b0aafed3acbd97e27e78c7eb19f">&#9670;&nbsp;</a></span>compactsInPlace()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool mongo::MobileRecordStore::compactsInPlace </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Does <a class="el" href="classmongo_1_1MobileRecordStore.html#ad5a907a7da98fba5a8c89c014a301f6d" title="Attempt to reduce the storage space used by this RecordStore. ">compact()</a> leave RecordIds alone or can they change. </p>
<p>Only called if <a class="el" href="classmongo_1_1MobileRecordStore.html#a9cdabab1f4d4784b1f77575af4570dee" title="does this RecordStore support the compact operation? ">compactSupported()</a> returns true. </p>

<p>Reimplemented from <a class="el" href="classmongo_1_1RecordStore.html#a6e22d1d3c67140ec14f52ed1c2bdc5d6">mongo::RecordStore</a>.</p>

</div>
</div>
<a id="a9cdabab1f4d4784b1f77575af4570dee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9cdabab1f4d4784b1f77575af4570dee">&#9670;&nbsp;</a></span>compactSupported()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool mongo::MobileRecordStore::compactSupported </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>does this <a class="el" href="classmongo_1_1RecordStore.html" title="An abstraction used for storing documents in a collection or entries in an index. ...">RecordStore</a> support the compact operation? </p>
<p>If you return true, you must provide implementations of all compact methods. </p>

<p>Reimplemented from <a class="el" href="classmongo_1_1RecordStore.html#aa2e20bee4cc02cb9bf7233930d18b0ab">mongo::RecordStore</a>.</p>

</div>
</div>
<a id="abe0c1016f37334657592ec15f96b2f90"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abe0c1016f37334657592ec15f96b2f90">&#9670;&nbsp;</a></span>create()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacemongo.html#aa639063deea016a1dac8f046e93900a6">void</a> mongo::MobileRecordStore::create </td>
          <td>(</td>
          <td class="paramtype">OperationContext *&#160;</td>
          <td class="paramname"><em>opCtx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>ident</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Creates a new record store inside SQLite. </p>
<p>Creates a new record store within SQLite.</p>
<p>Transational semantics are handled by the caller.</p>
<p>The method is not transactional. Callers are responsible for handling transactional semantics. </p>

</div>
</div>
<a id="a197c390e5562f51ac9bcd1cc1512bde4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a197c390e5562f51ac9bcd1cc1512bde4">&#9670;&nbsp;</a></span>dataFor()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classmongo_1_1RecordData.html">RecordData</a> mongo::MobileRecordStore::dataFor </td>
          <td>(</td>
          <td class="paramtype">OperationContext *&#160;</td>
          <td class="paramname"><em>opCtx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const RecordId &amp;&#160;</td>
          <td class="paramname"><em>loc</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the <a class="el" href="classmongo_1_1RecordData.html" title="A replacement for the Record class. ">RecordData</a> at loc, which must exist. </p>
<p>If unowned data is returned, it is valid until the next modification of this <a class="el" href="structmongo_1_1Record.html" title="The data items stored in a RecordStore. ">Record</a> or the lock on this collection is released.</p>
<p>In general, prefer findRecord or RecordCursor::seekExact since they can tell you if a record has been removed. </p>

<p>Reimplemented from <a class="el" href="classmongo_1_1RecordStore.html#adee284dee4957dbe7eff17da80e01183">mongo::RecordStore</a>.</p>

</div>
</div>
<a id="af66e183702bc9fde2cc4eb0840b208bc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af66e183702bc9fde2cc4eb0840b208bc">&#9670;&nbsp;</a></span>dataSize()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">long long mongo::MobileRecordStore::dataSize </td>
          <td>(</td>
          <td class="paramtype">OperationContext *&#160;</td>
          <td class="paramname"><em>opCtx</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The dataSize is an approximation of the sum of the sizes (in bytes) of the documents or entries in the recordStore. </p>

<p>Implements <a class="el" href="classmongo_1_1RecordStore.html#af81322ff97471b16bfd172cd0020ec5b">mongo::RecordStore</a>.</p>

</div>
</div>
<a id="a4303b451a034bc3bb0c72d6bc9ce6264"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4303b451a034bc3bb0c72d6bc9ce6264">&#9670;&nbsp;</a></span>deleteRecord()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacemongo.html#aa639063deea016a1dac8f046e93900a6">void</a> mongo::MobileRecordStore::deleteRecord </td>
          <td>(</td>
          <td class="paramtype">OperationContext *&#160;</td>
          <td class="paramname"><em>opCtx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const RecordId &amp;&#160;</td>
          <td class="paramname"><em>dl</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="classmongo_1_1RecordStore.html#a88d00f49ffbbe8228dfd1b0bb7f093b3">mongo::RecordStore</a>.</p>

</div>
</div>
<a id="aea109aecc6a72bd4d5f2a0f7ef3cb627"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aea109aecc6a72bd4d5f2a0f7ef3cb627">&#9670;&nbsp;</a></span>findRecord()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool mongo::MobileRecordStore::findRecord </td>
          <td>(</td>
          <td class="paramtype">OperationContext *&#160;</td>
          <td class="paramname"><em>opCtx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const RecordId &amp;&#160;</td>
          <td class="paramname"><em>loc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classmongo_1_1RecordData.html">RecordData</a> *&#160;</td>
          <td class="paramname"><em>out</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">out</td><td>- If the record exists, the contents of this are set. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true iff there is a <a class="el" href="structmongo_1_1Record.html" title="The data items stored in a RecordStore. ">Record</a> for loc</dd></dl>
<p>If unowned data is returned, it is valid until the next modification of this <a class="el" href="structmongo_1_1Record.html" title="The data items stored in a RecordStore. ">Record</a> or the lock on this collection is released.</p>
<p>In general prefer RecordCursor::seekExact since it can avoid copying data in more storageEngines.</p>
<p>Warning: MMAPv1 cannot detect if RecordIds are valid. Therefore callers should only pass potentially deleted RecordIds to seek methods if they know that MMAPv1 is not the current storage engine. All new storage engines must support detecting the existence of Records. </p>

<p>Reimplemented from <a class="el" href="classmongo_1_1RecordStore.html#a881b5b4d85a8e6544160b0275cd47222">mongo::RecordStore</a>.</p>

</div>
</div>
<a id="afd274a3bd09302b15fd5db020a272fa8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afd274a3bd09302b15fd5db020a272fa8">&#9670;&nbsp;</a></span>getCursor()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unique_ptr&lt; <a class="el" href="classmongo_1_1SeekableRecordCursor.html">SeekableRecordCursor</a> &gt; mongo::MobileRecordStore::getCursor </td>
          <td>(</td>
          <td class="paramtype">OperationContext *&#160;</td>
          <td class="paramname"><em>opCtx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>forward</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns a new cursor over this record store. </p>
<p>The cursor is logically positioned before the first (or last if !forward) <a class="el" href="structmongo_1_1Record.html" title="The data items stored in a RecordStore. ">Record</a> in the collection so that <a class="el" href="structmongo_1_1Record.html" title="The data items stored in a RecordStore. ">Record</a> will be returned on the first call to next(). Implementations are allowed to lazily seek to the first <a class="el" href="structmongo_1_1Record.html" title="The data items stored in a RecordStore. ">Record</a> when next() is called rather than doing it on construction. </p>

<p>Implements <a class="el" href="classmongo_1_1RecordStore.html#a1088a44661d162d4ddcd7b12d9b0ca77">mongo::RecordStore</a>.</p>

</div>
</div>
<a id="afb366a455f665dc26e2bb5f100488a5e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afb366a455f665dc26e2bb5f100488a5e">&#9670;&nbsp;</a></span>insertRecord()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classmongo_1_1StatusWith.html">StatusWith</a>&lt; RecordId &gt; mongo::MobileRecordStore::insertRecord </td>
          <td>(</td>
          <td class="paramtype">OperationContext *&#160;</td>
          <td class="paramname"><em>opCtx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Timestamp&#160;</td>
          <td class="paramname"><em>timestamp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>enforceQuota</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="classmongo_1_1RecordStore.html#ae3c39aa6eedd361492038a4b4a0acc69">mongo::RecordStore</a>.</p>

</div>
</div>
<a id="a65ece7f0b97e0238cfa0520c9874eda4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a65ece7f0b97e0238cfa0520c9874eda4">&#9670;&nbsp;</a></span>insertRecordsWithDocWriter()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacemongo.html#a7dd53a44ec884164bc07ed073e9f31da">Status</a> mongo::MobileRecordStore::insertRecordsWithDocWriter </td>
          <td>(</td>
          <td class="paramtype">OperationContext *&#160;</td>
          <td class="paramname"><em>opCtx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classmongo_1_1DocWriter.html">DocWriter</a> *const *&#160;</td>
          <td class="paramname"><em>docs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const Timestamp *&#160;</td>
          <td class="paramname"><em>timestamps</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>nDocs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">RecordId *&#160;</td>
          <td class="paramname"><em>idsOut</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Inserts nDocs documents into this <a class="el" href="classmongo_1_1RecordStore.html" title="An abstraction used for storing documents in a collection or entries in an index. ...">RecordStore</a> using the <a class="el" href="classmongo_1_1DocWriter.html" title="Allows inserting a Record &quot;in-place&quot; without creating a copy ahead of time. ">DocWriter</a> interface. </p>
<p>This allows the storage engine to reserve space for a record and have it built in-place rather than building the record then copying it into its destination.</p>
<p>On success, if idsOut is non-null the RecordIds of the inserted records will be written into it. It must have space for nDocs RecordIds. </p>

<p>Implements <a class="el" href="classmongo_1_1RecordStore.html#a2cd3a7f097b6a0c8ae9036df1f4a1b03">mongo::RecordStore</a>.</p>

</div>
</div>
<a id="ab414fdc30ce0663d3bbb5084c88144eb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab414fdc30ce0663d3bbb5084c88144eb">&#9670;&nbsp;</a></span>isCapped()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool mongo::MobileRecordStore::isCapped </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="classmongo_1_1RecordStore.html#a3f586a7df2a8ce13061f12311e8fcf47">mongo::RecordStore</a>.</p>

</div>
</div>
<a id="ad4470e1973ef8113e9bcc0b192146c8e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad4470e1973ef8113e9bcc0b192146c8e">&#9670;&nbsp;</a></span>name()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const char * mongo::MobileRecordStore::name </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="classmongo_1_1RecordStore.html#a3add80715366bb26bcf8afdca47261b3">mongo::RecordStore</a>.</p>

</div>
</div>
<a id="a85f74fae6d6d8eb3eb3f64050d9f1aac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a85f74fae6d6d8eb3eb3f64050d9f1aac">&#9670;&nbsp;</a></span>numRecords()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">long long mongo::MobileRecordStore::numRecords </td>
          <td>(</td>
          <td class="paramtype">OperationContext *&#160;</td>
          <td class="paramname"><em>opCtx</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Total number of record in the <a class="el" href="classmongo_1_1RecordStore.html" title="An abstraction used for storing documents in a collection or entries in an index. ...">RecordStore</a>. </p>
<p>You may need to cache it, so this call takes constant time, as it is called often. </p>

<p>Implements <a class="el" href="classmongo_1_1RecordStore.html#a6ce1ace33ef4a63bb681ec4cab82bddd">mongo::RecordStore</a>.</p>

</div>
</div>
<a id="a72a4f2dd1da4a50a66bc9c716cb8d6cd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a72a4f2dd1da4a50a66bc9c716cb8d6cd">&#9670;&nbsp;</a></span>oplogStartHack()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">boost::optional&lt; RecordId &gt; mongo::MobileRecordStore::oplogStartHack </td>
          <td>(</td>
          <td class="paramtype">OperationContext *&#160;</td>
          <td class="paramname"><em>opCtx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const RecordId &amp;&#160;</td>
          <td class="paramname"><em>startingPosition</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return the RecordId of an oplog entry as close to startingPosition as possible without being higher. </p>
<p>If there are no entries &lt;= startingPosition, return RecordId().</p>
<p>If you don't implement the oplogStartHack, just use the default implementation which returns boost::none. </p>

<p>Reimplemented from <a class="el" href="classmongo_1_1RecordStore.html#accdb134cd28102ea5b25bb1e5da38209">mongo::RecordStore</a>.</p>

</div>
</div>
<a id="a459fd94434f5fd7613d0e427b6bb0d78"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a459fd94434f5fd7613d0e427b6bb0d78">&#9670;&nbsp;</a></span>setCappedCallback()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacemongo.html#aa639063deea016a1dac8f046e93900a6">void</a> mongo::MobileRecordStore::setCappedCallback </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classmongo_1_1CappedCallback.html">CappedCallback</a> *&#160;</td>
          <td class="paramname"><em>cb</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reimplemented from <a class="el" href="classmongo_1_1RecordStore.html#a0919c25270d91c3501d796e5178a0c8e">mongo::RecordStore</a>.</p>

</div>
</div>
<a id="a0defd6b6a51c6343a1b782265e971fe2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0defd6b6a51c6343a1b782265e971fe2">&#9670;&nbsp;</a></span>storageSize()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int64_t mongo::MobileRecordStore::storageSize </td>
          <td>(</td>
          <td class="paramtype">OperationContext *&#160;</td>
          <td class="paramname"><em>opCtx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">BSONObjBuilder *&#160;</td>
          <td class="paramname"><em>extraInfo</em> = <code>NULL</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>infoLevel</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Note: does not accurately return the size of the table on disk. </p>
<p>Instead, it returns the number of bytes used to store the BSON documents. </p>

<p>Implements <a class="el" href="classmongo_1_1RecordStore.html#aa70dc26fa382ed42d86b47c4419739df">mongo::RecordStore</a>.</p>

</div>
</div>
<a id="abbbd814d6ab388b5a0f2ffa699b94539"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abbbd814d6ab388b5a0f2ffa699b94539">&#9670;&nbsp;</a></span>touch()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacemongo.html#a7dd53a44ec884164bc07ed073e9f31da">Status</a> mongo::MobileRecordStore::touch </td>
          <td>(</td>
          <td class="paramtype">OperationContext *&#160;</td>
          <td class="paramname"><em>opCtx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">BSONObjBuilder *&#160;</td>
          <td class="paramname"><em>output</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Load all data into cache. </p>
<p>What cache depends on implementation.</p>
<p>If the underlying storage engine does not support the operation, returns ErrorCodes::CommandNotSupported</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">output</td><td>(optional) - where to put detailed stats </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="classmongo_1_1RecordStore.html#aff413136bf8d0191d90fbf91f9db5072">mongo::RecordStore</a>.</p>

</div>
</div>
<a id="aa1a620c6a0f8e68c34c89d78bdd18a60"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa1a620c6a0f8e68c34c89d78bdd18a60">&#9670;&nbsp;</a></span>truncate()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacemongo.html#a7dd53a44ec884164bc07ed073e9f31da">Status</a> mongo::MobileRecordStore::truncate </td>
          <td>(</td>
          <td class="paramtype">OperationContext *&#160;</td>
          <td class="paramname"><em>opCtx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>SQLite does not directly support truncate. </p>
<p>The SQLite documentation recommends dropping then recreating the table rather than deleting all the contents of a table. </p>

<p>Implements <a class="el" href="classmongo_1_1RecordStore.html#a64860d998ce26a69c8571dd02ec2a5b8">mongo::RecordStore</a>.</p>

</div>
</div>
<a id="a03980ab6319848783523a94a8bab8b66"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a03980ab6319848783523a94a8bab8b66">&#9670;&nbsp;</a></span>updateCappedSize()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacemongo.html#a7dd53a44ec884164bc07ed073e9f31da">Status</a> mongo::MobileRecordStore::updateCappedSize </td>
          <td>(</td>
          <td class="paramtype">OperationContext *&#160;</td>
          <td class="paramname"><em>opCtx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long long&#160;</td>
          <td class="paramname"><em>cappedSize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>used to support online change oplog size. </p>

<p>Reimplemented from <a class="el" href="classmongo_1_1RecordStore.html#a89264836634cbab1e2ea378c6bedcbc2">mongo::RecordStore</a>.</p>

</div>
</div>
<a id="a946c349d9b1e0eff2d99cb77e612b53e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a946c349d9b1e0eff2d99cb77e612b53e">&#9670;&nbsp;</a></span>updateRecord()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacemongo.html#a7dd53a44ec884164bc07ed073e9f31da">Status</a> mongo::MobileRecordStore::updateRecord </td>
          <td>(</td>
          <td class="paramtype">OperationContext *&#160;</td>
          <td class="paramname"><em>opCtx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const RecordId &amp;&#160;</td>
          <td class="paramname"><em>oldLocation</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>enforceQuota</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classmongo_1_1UpdateNotifier.html">UpdateNotifier</a> *&#160;</td>
          <td class="paramname"><em>notifier</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">notifier</td><td>- Only used by record stores which do not support doc-locking. Called only in the case of an in-place update. Called just before the in-place write occurs. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Status - If a document move is required (MMAPv1 only) then a status of ErrorCodes::NeedsDocumentMove will be returned. On receipt of this status no update will be performed. It is the caller's responsibility to:<ol type="1">
<li>Remove the existing document and associated index keys.</li>
<li>Insert a new document and index keys.</li>
</ol>
</dd></dl>
<p>For capped record stores, the record size will never change. </p>

<p>Implements <a class="el" href="classmongo_1_1RecordStore.html#ab11ecd3a04a7f5909e8943c8b51985c9">mongo::RecordStore</a>.</p>

</div>
</div>
<a id="ae04d6ee66b5c2b591f1e52108417f9d6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae04d6ee66b5c2b591f1e52108417f9d6">&#9670;&nbsp;</a></span>updateStatsAfterRepair()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacemongo.html#aa639063deea016a1dac8f046e93900a6">void</a> mongo::MobileRecordStore::updateStatsAfterRepair </td>
          <td>(</td>
          <td class="paramtype">OperationContext *&#160;</td>
          <td class="paramname"><em>opCtx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long long&#160;</td>
          <td class="paramname"><em>numRecords</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long long&#160;</td>
          <td class="paramname"><em>dataSize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Called after a repair operation is run with the recomputed numRecords and dataSize. </p>

<p>Implements <a class="el" href="classmongo_1_1RecordStore.html#a4ba5527ab658ec57fbd2b80554bdcf4a">mongo::RecordStore</a>.</p>

</div>
</div>
<a id="a8ba206a9cd9ed8586c50773912b43500"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8ba206a9cd9ed8586c50773912b43500">&#9670;&nbsp;</a></span>updateWithDamages()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classmongo_1_1StatusWith.html">StatusWith</a>&lt; <a class="el" href="classmongo_1_1RecordData.html">RecordData</a> &gt; mongo::MobileRecordStore::updateWithDamages </td>
          <td>(</td>
          <td class="paramtype">OperationContext *&#160;</td>
          <td class="paramname"><em>opCtx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const RecordId &amp;&#160;</td>
          <td class="paramname"><em>loc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classmongo_1_1RecordData.html">RecordData</a> &amp;&#160;</td>
          <td class="paramname"><em>oldRec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>damageSource</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const mutablebson::DamageVector &amp;&#160;</td>
          <td class="paramname"><em>damages</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Updates the record positioned at 'loc' in-place using the deltas described by 'damages'. </p>
<p>The 'damages' vector describes contiguous ranges of 'damageSource' from which to copy and apply byte-level changes to the data.</p>
<dl class="section return"><dt>Returns</dt><dd>the updated version of the record. If unowned data is returned, then it is valid until the next modification of this <a class="el" href="structmongo_1_1Record.html" title="The data items stored in a RecordStore. ">Record</a> or the lock on the collection has been released. </dd></dl>

<p>Implements <a class="el" href="classmongo_1_1RecordStore.html#ad15415ccbf70b1d4dade0fc543416967">mongo::RecordStore</a>.</p>

</div>
</div>
<a id="aae81f7ff5514cbf6300f00ed09c71392"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aae81f7ff5514cbf6300f00ed09c71392">&#9670;&nbsp;</a></span>updateWithDamagesSupported()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool mongo::MobileRecordStore::updateWithDamagesSupported </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>Returns 'false' if this record store does not implement 'updatewithDamages'. If this method returns false, 'updateWithDamages' must not be called, and all updates must be routed through 'updateRecord' above. This allows the update framework to avoid doing the work of damage tracking if the underlying record store cannot utilize that information. </dd></dl>

<p>Implements <a class="el" href="classmongo_1_1RecordStore.html#a01fa74c96c2440e87ca4a17cb1dab136">mongo::RecordStore</a>.</p>

</div>
</div>
<a id="a7f9b5c9443ad58b6bff2bdd96f90e094"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7f9b5c9443ad58b6bff2bdd96f90e094">&#9670;&nbsp;</a></span>validate()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacemongo.html#a7dd53a44ec884164bc07ed073e9f31da">Status</a> mongo::MobileRecordStore::validate </td>
          <td>(</td>
          <td class="paramtype">OperationContext *&#160;</td>
          <td class="paramname"><em>opCtx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacemongo.html#a7cc155634c5bc912468d33fe47041775">ValidateCmdLevel</a>&#160;</td>
          <td class="paramname"><em>level</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classmongo_1_1ValidateAdaptor.html">ValidateAdaptor</a> *&#160;</td>
          <td class="paramname"><em>adaptor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmongo_1_1ValidateResults.html">ValidateResults</a> *&#160;</td>
          <td class="paramname"><em>results</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">BSONObjBuilder *&#160;</td>
          <td class="paramname"><em>output</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Note: on full validation, this validates the entire database file, not just the table used by this record store. </p>

<p>Implements <a class="el" href="classmongo_1_1RecordStore.html#a7248338de6378676a2a1cbd1f38dab48">mongo::RecordStore</a>.</p>

</div>
</div>
<a id="aeaa689458429d1650242387573f9ead7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeaa689458429d1650242387573f9ead7">&#9670;&nbsp;</a></span>waitForAllEarlierOplogWritesToBeVisible()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacemongo.html#aa639063deea016a1dac8f046e93900a6">void</a> mongo::MobileRecordStore::waitForAllEarlierOplogWritesToBeVisible </td>
          <td>(</td>
          <td class="paramtype">OperationContext *&#160;</td>
          <td class="paramname"><em>opCtx</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Waits for all writes that completed before this call to be visible to forward scans. </p>
<p>See the comment on <a class="el" href="classmongo_1_1RecordCursor.html" title="Retrieves Records from a RecordStore. ">RecordCursor</a> for more details about the visibility rules.</p>
<p>It is only legal to call this on an oplog. It is illegal to call this inside a <a class="el" href="classmongo_1_1WriteUnitOfWork.html" title="The WriteUnitOfWork is an RAII type that begins a storage engine write unit of work on both the Locke...">WriteUnitOfWork</a>. </p>

<p>Implements <a class="el" href="classmongo_1_1RecordStore.html#a7486ead4beef7feb9448d317261e36ee">mongo::RecordStore</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="aa830df7c2aecdfa6004b566053ae3f61"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa830df7c2aecdfa6004b566053ae3f61">&#9670;&nbsp;</a></span>_cappedCallback</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classmongo_1_1CappedCallback.html">CappedCallback</a>* mongo::MobileRecordStore::_cappedCallback = nullptr</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a7509b0b01c984472a84472e6b0f77be2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7509b0b01c984472a84472e6b0f77be2">&#9670;&nbsp;</a></span>_cappedCallbackMutex</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">stdx::mutex mongo::MobileRecordStore::_cappedCallbackMutex</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="aec3b4e0cd22ba025497a2ed3cfd9a926"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aec3b4e0cd22ba025497a2ed3cfd9a926">&#9670;&nbsp;</a></span>_cappedMaxDocs</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const int64_t mongo::MobileRecordStore::_cappedMaxDocs</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a1ebb651fc7f588daf4f10bab81301346"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1ebb651fc7f588daf4f10bab81301346">&#9670;&nbsp;</a></span>_cappedMaxSize</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int64_t mongo::MobileRecordStore::_cappedMaxSize</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ae60c8839d485edcac81cc1f1bf977e61"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae60c8839d485edcac81cc1f1bf977e61">&#9670;&nbsp;</a></span>_dataSize</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int64_t mongo::MobileRecordStore::_dataSize</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">mutable</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a516b9ec52677a9b34c1532bf4df352a5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a516b9ec52677a9b34c1532bf4df352a5">&#9670;&nbsp;</a></span>_dataSizeMutex</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">stdx::mutex mongo::MobileRecordStore::_dataSizeMutex</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">mutable</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a3b6f727a3110a4ce889698e91418790b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3b6f727a3110a4ce889698e91418790b">&#9670;&nbsp;</a></span>_ident</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const std::string mongo::MobileRecordStore::_ident</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a6c83941769101c74326b3e8d56c2fdb9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6c83941769101c74326b3e8d56c2fdb9">&#9670;&nbsp;</a></span>_isCapped</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const bool mongo::MobileRecordStore::_isCapped</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a2707cade07d1c24d14c68345e8e2fc41"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2707cade07d1c24d14c68345e8e2fc41">&#9670;&nbsp;</a></span>_isDataSizeInitialized</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool mongo::MobileRecordStore::_isDataSizeInitialized = false</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">mutable</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a8a16bb049df45e6d96b93d189a53c98b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8a16bb049df45e6d96b93d189a53c98b">&#9670;&nbsp;</a></span>_isNumRecsInitialized</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool mongo::MobileRecordStore::_isNumRecsInitialized = false</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">mutable</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="aaefcd9bc0aff57cc770c6bb3a1fbb18e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaefcd9bc0aff57cc770c6bb3a1fbb18e">&#9670;&nbsp;</a></span>_isOplog</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const bool mongo::MobileRecordStore::_isOplog</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="add8c31266b50c39fa454c2aa327a82ce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#add8c31266b50c39fa454c2aa327a82ce">&#9670;&nbsp;</a></span>_nextIdNum</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">AtomicInt64 mongo::MobileRecordStore::_nextIdNum</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a80510fa0b916ebcfa4f8a2a3566b30d6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a80510fa0b916ebcfa4f8a2a3566b30d6">&#9670;&nbsp;</a></span>_numRecs</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int64_t mongo::MobileRecordStore::_numRecs</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">mutable</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a04d84a7ed4af83fc35566fa4a875ebe7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a04d84a7ed4af83fc35566fa4a875ebe7">&#9670;&nbsp;</a></span>_numRecsMutex</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">stdx::mutex mongo::MobileRecordStore::_numRecsMutex</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">mutable</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ae09607dcffa191a2e3af432d15aada20"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae09607dcffa191a2e3af432d15aada20">&#9670;&nbsp;</a></span>_path</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const std::string mongo::MobileRecordStore::_path</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/home/louis/git/mongo/src/mongo/db/storage/mobile/<a class="el" href="mobile__record__store_8h_source.html">mobile_record_store.h</a></li>
<li>/home/louis/git/mongo/src/mongo/db/storage/mobile/<a class="el" href="mobile__record__store_8cpp.html">mobile_record_store.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.13-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacemongo.html">mongo</a></li><li class="navelem"><a class="el" href="classmongo_1_1MobileRecordStore.html">MobileRecordStore</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
